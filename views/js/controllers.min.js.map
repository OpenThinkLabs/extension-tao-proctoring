{"version":3,"sources":["routes.js","../helper/status.js","../component/breadcrumbs.js","../templates/delivery/listBoxActions!tpl","../templates/delivery/listBoxStats!tpl","Delivery/index.js","Delivery/manage.js","../templates/delivery/deliveryLink!tpl","../templates/delivery/statusFilter!tpl","Delivery/monitoring.js","Delivery/testTakers.js","../../taoQtiTest/testRunner/resumingStrategy/keepAfterResume.js","../templates/deliveryServer/authorizationSuccess!tpl","DeliveryServer/awaiting.js","../../taoClientDiagnostic/tools/diagnostic/status.js","../../taoClientDiagnostic/tools/fixedDecimals.js","../../taoClientDiagnostic/tools/stats.js","../../taoQtiItem/qtiItem/core/qtiClasses.js","../../taoQtiItem/qtiItem/helper/util.js","../../taoQtiItem/qtiItem/helper/rendererConfig.js","../../taoQtiItem/qtiItem/core/Element.js","../../taoQtiItem/qtiItem/core/Loader.js","../../taoQtiItem/qtiItem/helper/interactionHelper.js","../../taoQtiItem/qtiRunner/core/Renderer.js","../../taoItems/assets/manager.js","../../taoItems/assets/strategies.js","../../taoQtiItem/qtiCommonRenderer/renderers/config.js","../../taoQtiItem/qtiCommonRenderer/renderers/Renderer.js","../../taoClientDiagnostic/tools/performances/tester.js","../../taoClientDiagnostic/tools/bandwidth/tester.js","../../taoClientDiagnostic/tools/getconfig.js","../../taoClientDiagnostic/tools/browser/tester.js","../../taoClientDiagnostic/tools/diagnostic/tpl/main!tpl","../../taoClientDiagnostic/tools/diagnostic/tpl/result!tpl","../../taoClientDiagnosticCss/diagnostics!css","../../taoClientDiagnostic/tools/diagnostic/diagnostic.js","../templates/diagnostic/main!tpl","Diagnostic/diagnostic.js","Diagnostic/index.js","../component/proctorForm/form!tpl","../component/proctorForm.js","../templates/proctorManager/counters!tpl","../templates/proctorManager/status!tpl","ProctorManager/index.js","../templates/reporting/datepicker!tpl","../templates/reporting/irregularities!tpl","Reporting/index.js","../templates/testSiteAdmin/adminLink!tpl","TestCenter/index.js","TestCenter/testCenter.js","../component/eligibilityEditor/layout!tpl","../../taoProctoringCss/eligibilityEditor!css","../component/eligibilityEditor.js","../component/eligibilityTable/status!tpl","../component/eligibilityTable/actions!tpl","../../taoProctoringCss/eligibilityTable!css","../component/eligibilityTable.js","../provider/eligibility.js","TestCenterManager/editCenter.js","../../../../../../../../../../../../onLayerEnd0.js"],"names":["define","TestCenter","actions","index","testCenter","TestCenterManager","editCenter","ProctorManager","Diagnostic","diagnostic","Reporting","Delivery","manage","monitoring","monitoringAll","testTakers","_","__","getStatus","statusName","_status","getStatusByCode","statusCode","find","code","verifyTestTaker","testTakerData","actionName","formatted","id","label","firstname","lastname","status","state","allowed","can","reason","getStatuses","map","el","_init","_awaiting","_authorized","_inprogress","_paused","_completed","_terminated","init","authorize","pause","terminate","report","awaiting","authorized","inprogress","paused","completed","terminated","STATUS_INIT","STATUS_AUTHORIZED","STATUS_INPROGRESS","STATUS_PAUSED","STATUS_COMPLETED","STATUS_TERMINATED","breadcrumbs","$container","crumbs","data","renderTo","replace","cls","hb","template","Handlebars","depth0","helpers","partials","this","compilerInfo","merge","stack1","helper","options","buffer","functionType","escapeExpression","helperMissing","call","hash","program1","periodStart","periodEnd","self","showProperties","inverse","noop","fn","program","locked","inProgress","$","loadingBar","listBox","encode","feedback","bulkActionPopup","cascadingComboBox","breadcrumbsFactory","actionsTpl","statsTpl","cssScope","start","taoProctoringCtlr","format","boxes","each","box","props","properties","tplData","stats","awaitingApproval","html","content","update","list","stop","refresh","setLoading","ajax","url","serviceUrl","cache","dataType","type","done","deliveryId","selection","testTaker","firstName","lastName","resourceType","categoriesSelector","categoriesDefinitions","categories","allowedResources","on","_url","delivery","testCenterId","execution","pluck","error","response","success","warning","encodeHtml","title","textEmpty","textNumber","textLoading","width","countRenderer","count","e","pauseUrl","stopPropagation","preventDefault","get","res","isPlainObject","isArray","inProgressExecs","filter","length","info","dialog","proctorDeliveryIndexCtlr","$list","dataset","assignUrl","removeUrl","monitoringUrl","request","message","testtaker","datatable","remove","empty","available","loading","tools","icon","action","location","href","massAction","autoRender","autoDestroy","onOkBtn","selectable","model","statuses","deliveryLinkTpl","statusFilterTpl","authorise","execBulkAction","authoriseUrl","terminateUrl","reportUrl","getExecutionData","uri","actionTitle","cb","allowedTestTakers","forbiddenTestTakers","_selection","askForReason","checkedTestTaker","push","config","$content","reasonRequired","deniedResources","isFunction","buildStatusFilter","statusFilterHandler","$el","select2","dropdownAutoWidth","placeholder","minimumResultsForSearch","Infinity","allowClear","actionButtons","extraFields","manageUrl","serviceAllUrl","hidden","sortable","transform","value","row","extraField","filterable","customFilter","callback","result","online","progress","newDataset","children","$btn","hide","uniq","forIn","show","filtercolumns","sortorder","sortby","proctorDeliveryAssignCtlr","managerUrl","assign","event","sessionStateFactory","_start","_interval","TypeError","setInterval","setLocalStorageData","getLocalStorageData","_accuracy","_stop","clearInterval","_reset","clearLocalStorage","accuracy","val","window","localStorage","setItem","_storageKey","getItem","JSON","parse","removeItem","sessionState","reset","restart","getDuration","dialogAlert","polling","cachedStore","keepAfterResume","authSuccessTpl","refreshPolling","awaitingAuthorizationCtlr","removeClass","exit","returnUrl","isAuthorizedUrl","deliveryExecution","runDeliveryUrl","deliveryLabel","text","deliveryInit","then","states","async","reject","resolve","interval","autoStart","diagnosticStatusFactory","thresholds","performances","performancesThresholds","bandwidth","bandwidthThresholds","summary","summaryThresholds","getThresholds","name","percentage","len","i","step","Math","max","min","round","parseInt","isString","threshold","quality","clone","fixedDecimals","decimals","shift","pow","abs","Number","fieldName","variance","avg","med","middle","getValue","results","sum","sum2","MAX_VALUE","values","item","forEach","undefined","diff","sqrt","sort","floor","ceil","average","median","key","_container","assessmentItem","responseProcessing","_simpleFeedbackRule","stylesheet","math","img","object","outcomeDeclaration","responseDeclaration","rubricBlock","associableHotspot","gap","gapImg","gapText","hotspotChoice","hottext","inlineChoice","simpleAssociableChoice","simpleChoice","associateInteraction","choiceInteraction","endAttemptInteraction","extendedTextInteraction","gapMatchInteraction","graphicAssociateInteraction","graphicGapMatchInteraction","graphicOrderInteraction","hotspotInteraction","hottextInteraction","inlineChoiceInteraction","matchInteraction","mediaInteraction","orderInteraction","prompt","selectPointInteraction","sliderInteraction","textEntryInteraction","uploadInteraction","feedbackBlock","feedbackInline","modalFeedback","customInteraction","infoControl","include","util","buildSerial","prefix","chars","charAt","random","buildId","usedIds","suffix","exists","getUsedIds","contains","buildIdentifier","useSuffix","getUsedIdentifiers","isUndefined","qtiClass","findInCollection","element","collectionNames","searchedSerial","found","Error","collectionName","collection","split","nameToken","elt","parent","addMarkupNamespace","markup","ns","$0","$1","$2","$3","$4","indexOf","removeMarkupNamespaces","getMarkupUsedNamespaces","namespaces","original","slash","node","rendererConfigHelper","getOptionsFromArguments","args","subclass","renderer","arg","isRenderer","console","log","Class","rendererConfig","_instances","Element","extend","serial","relatedItem","attributes","metaData","match","setAttributes","initContainer","arguments","initObject","is","getSerial","elts","getComposingElements","attr","prop","document","trigger","removeData","removeAttr","removeAttributes","getAttributes","attrNames","append","getBody","getObject","v","isA","getUsedClasses","ret","composingElts","getRelatedItem","setRelatedItem","recursive","setRenderer","getRenderer","render","_renderer","defaultData","tag","body","resolveUrl","getData","rendering","renderTpl","replaceWith","postRender","altClassName","postRenderers","compact","getContainer","$scope","toArray","arr","isEmpty","addClass","className","clazz","_containClass","hasClass","regex","RegExp","trim","toggleClass","isset","issetElement","unset","unsetElement","allClassStr","test","qtiElement","getElementBySerial","composingElements","qtiClasses","loadPortableCustomElementData","portableElement","typeIdentifier","entryPoint","libraries","Loader","classesLocation","qti","setClassesLocation","getRequiredClasses","union","loadRequiredClasses","reload","requiredClasses","required","requiredClass","_this","require","QtiClass","prototype","getLoadedClasses","keys","loadItemData","Qti","loadContainer","outcomes","outcome","buildOutcome","addOutcomeDeclaration","feedbacks","buildElement","addModalFeedback","stylesheets","addStylesheet","responses","buildResponse","addResponseDeclaration","feedbackRules","fbData","buildSimpleFeedbackRule","setResponseProcessing","buildResponseProcessing","setNamespaces","setSchemaLocations","schemaLocations","setApipAccessibility","apipAccessibility","loadAndBuildElement","loadElement","loadElementData","loadElements","allElements","elementData","howMatch","defaultValue","correctResponse","correctResponses","size","mapping","mapEntries","areaMapping","mappingAttributes","feedbackRule","setCondition","condition","comparedValue","feedbackOutcome","feedbackThen","modalFeedbacks","feedbackElse","comparedOutcome","rp","processingType","xml","bodyObject","bodyData","elements","eltData","setElement","defaults","bdy","loadObjectData","loadInteractionData","loadChoiceData","loadMathData","loadPicData","interaction","buildInteractionChoices","loadPciData","choices","set","matchSet","choice","addChoice","gapImgs","addGapImg","_alt","setMathML","mathML","annotations","encoding","setAnnotation","pci","pic","convertChoices","outputType","c","findChoices","inputType","getChoice","getChoiceByIdentifier","shuffleChoices","r","f","j","n","k","tmp","serialToIdentifier","choiceSerial","Promise","interactionHelper","themeLoader","getDocumentBaseUrl","protocol","host","pathname","_isValidRenderer","valid","classCorrect","_renderableClasses","pos","slice","subClass","_renderableSubclasses","_dependencies","_defaults","Renderer","_locations","_renderers","shuffledChoices","_getClassRenderer","setOption","setOptions","opts","getOption","getAssetManager","assetManager","getThemeLoader","qtiSubclass","decorators","isObject","before","after","renderDirect","tpl","compile","setResponse","qtiInteraction","getResponse","resetResponse","getState","setState","destroy","getLoadedRenderers","register","renderersLocations","load","themes","base","theme","path","intersection","reqClass","deps","requiredSubClasses","unload","setShuffledChoices","identificationType","getShuffledChoices","reshuffle","returnedType","getChoices","getRenderers","getLocations","getAbsoluteUrl","relUrl","warn","absUrl","runtimeLocations","runtimeLocation","baseUrl","build","defaultOptions","NewRenderer","apply","urlUtil","assetManagerFactory","strategies","parseUrl","_strategies","addStrategy","strategy","handle","setStrategies","newStrategies","setData","resolved","inputUrl","hasOwnProperty","resolveBy","clearCache","isRelative","slashcat","directory","encodeURIComponent","file","external","isAbsolute","toString","base64","isBase64","taomedia","context","assetStrategies","module","itemThemes","portableAssetStrategy","source","relative","root_url","locations","simpleChoice.choiceInteraction","simpleChoice.orderInteraction","simpleAssociableChoice.matchInteraction","simpleAssociableChoice.associateInteraction","enableDragAndDrop","associate","associateDragAndDrop","gapMatch","gapMatchDragAndDrop","graphicGapMatch","graphicGapMatchDragAndDrop","order","orderDragAndDrop","loadItem","qtiJsonFile","urlTokens","extension","fullpath","s","contexts","paths","loader","itemData","duration","end","performance","now","appendTo","_second","_defaultTimeout","_defaultOccurrencesCount","_defaultSamples","_sampleBaseId","performancesTester","samples","occurrences","timeout","idx","_samples","sample","nb","tests","partial","iterations","series","err","measures","_kilo","_mega","_downloadData","10KB","100KB","1MB","10MB","download","timeoutId","Date","XMLHttpRequest","open","setRequestHeader","onload","bytes","seconds","speed","clearTimeout","onerror","delay","send","bandwidthTester","bind","omit","getConfig","getTesterUrl","controller","navigator","screen","params","ua","userAgent","ActiveXObject","opera","chrome","createElement","Worker","applicationCache","history","pushState","documentElement","webkitRequestFullScreen","substring","w","h","height","browserTester","initConfig","WhichBrowser","browser","os","browserVersion","version","osVersion","alias","header","program3","button","legend","program2","program4","wide","program5","program7","program9","program10","details","component","statusFactory","mainTpl","resultTpl","diagnosticFactory","setTemplate","controls","$start","$component","$status","$results","run","closest","$result","$details","actionStore","actionCheck","_defaultsBrowser","_defaultsBandwidth","unit","ideal","_defaultsPerformances","optimal","changeStatus","store","post","storeParams","checkBrowser","information","addResult","checkPerformances","range","cursor","performancesMin","performancesMax","performancesAverage","checkBandwidth","bandwidthMin","bandwidthMax","bandwidthAverage","bandwidthUnit","maxTestTakers","st","$indicator","fadeIn","animate","left","outerWidth","prepare","finish","doCheck","method","scores","total","actionbar","diagnosticTpl","taoProctoringDiagnosticRunnerCtlr","installTester","workstation","$workstation","getElement","which","removeProp","$panel","indexUrl","workstationUrl","buttons","fail","formatNumber","number","digits","factor","taoProctoringDiagnosticCtlr","diagnosticUrl","performancesConfig","performancesOptimal","performancesRange","diagnosticStatus","form","users","formTpl","renderFormFromData","formData","checkLogin","loginId","proctorLoginCheckUrl","_ns","proctorFormUrl","off","$element","$form","fields","serializeArray","testCenterList","testCenters","getSelection","field","created","partially","dialogConfirm","datalist","proctorForm","counterTpl","statusTpl","proctorsDataUrl","authorizeUrl","unauthorizeUrl","_modes","EMPTY","LIST","FORM","proctors","$containerList","revoke","processMode","pageMode","$noSelection","$containerForm","$panelSelection","labelText","lines","line","timestamp","comment","moment","datepickerTpl","irregularitiesTpl","dateRangePicker","date","$periodStart","$periodEnd","$filterBtn","datepicker","dateFormat","autoSize","change","taoProctoringReportCtlr","printReportButton","notYet","printResults","rowId","stringify","printRubric","today","datatableTools","datatableActions","printRubrick","printReport","cat","category","subCategory","adminLinkTpl","taoProctoringIndexCtlr","admin","adminUrl","taoProctoringTestSiteCtlr","deliveryName","editingMode","deliveryTreeId","subjectTreeId","GenerisTreeSelectClass","layoutTpl","_modalDefaults","dataUrl","eligibilityEditorFactory","eligibilityEditor","testTakerTreeId","uniqueId","buildTestTakerTree","selected","actionId","saveUrl","saveData","checkedNodes","serverParameters","openParentNodes","rootNode","paginate","buildDeliveryTree","deliveries","destroyModal","modal","initModal","modalConfig","api","add","deliveryTree","testTakerTree","getChecked","edit","byPassProctor","eligibilityTableFactory","eligibilities","dataSet","$button","itemId","parents","parameters","addEligibilities","eligibility","xhr","responseText","editEligibility","removeEligibility","shieldEligibility","eligibilityId","unshieldEligibility","eligibilityProvider","editCenterCtlr","eligibilityTable","$tableContainer","$editorContainer","loaded","handleError","failed","join","updated","d","a","getElementsByTagName","cssText","createTextNode"],"mappings":"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EAAA,aAAAid,EAAAyT,EAAAzP,cAAA;AAAAhE,AzDAA,EyDAAhpB,KAAA,WAAAy8B,EAAAE,qBAAA,QAAA,GAAAD,GAAA1T,GAAAA,EAAAjd,GAAAid,EAAAjd,GAAA6wB,QAAA5c,EAAAgJ,EAAA0T,GAAAD,EAAAI,eAAA7c,KACA;AzDAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9LA,AD+LA;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5JA,AD6JA;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5IA,AD6IA;AC5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpMA,ADqMA;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA,ADmCA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3uBA,AD4uBA;AC3uBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzHA,AD0HA;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA,AD8BA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzMA,AD0MA;ACzMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA,ADuCA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxHA;AACA;ACDA,ADEA;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9PA,AD+PA;AC9PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA,ADiBA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9SA,AD+SA;AC9SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtVA,ADuVA;ACtVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA,ADmGA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA,AD4EA;AC3EA;AACA,ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA,ADgCA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5CA,AD6CA;AC5CA;AACA,ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpLA,ADqLA;ACpLA;AACA;AACA","file":"taoProctoring/controller/routes.js","sourcesContent":["define('taoProctoring/controller/routes',{\n    'TestCenter' : {\n        'actions' : {\n            'index' : 'controller/TestCenter/index',\n            'testCenter' : 'controller/TestCenter/testCenter'\n        }\n    },\n    'TestCenterManager' : {\n        'actions' : {\n            'editCenter' : 'controller/TestCenterManager/editCenter'\n        }\n    },\n\t'ProctorManager' : {\n        'actions' : {\n            'index' : 'controller/ProctorManager/index'\n        }\n    },\n    'Diagnostic' : {\n        'actions' : {\n            'index' : 'controller/Diagnostic/index',\n            'diagnostic' : 'controller/Diagnostic/diagnostic'\n        }\n    },\n    'Reporting' : {\n        'actions' : {\n            'index' : 'controller/Reporting/index'\n        }\n    },\n    'Delivery' : {\n        'actions' : {\n            'index' : 'controller/Delivery/index',\n            'manage' : 'controller/Delivery/manage',\n            'monitoring' : 'controller/Delivery/monitoring',\n            'monitoringAll' : 'controller/Delivery/monitoring',\n            'testTakers' : 'controller/Delivery/testTakers'\n        }\n    }\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n *\n */\ndefine('taoProctoring/helper/status',['lodash', 'i18n'], function(_, __){\n    'use strict';\n    var _init = 'http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusInit',\n        _awaiting = 'http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusAwaiting',\n        _authorized = 'http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusAuthorized',\n        _inprogress = 'http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusActive',\n        _paused = 'http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusPaused',\n        _completed = 'http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusFinished',\n        _terminated = 'http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusTerminated';\n\n    var _status = {\n        init : {\n            code : _init,\n            label : __('Init'),\n            can : {\n                authorize : __('not awaiting'),\n                pause : __('not in progress'),\n                terminate : true,\n                report : true\n            }\n        },\n        awaiting : {\n            code : _awaiting,\n            label : __('Awaiting'),\n            can : {\n                authorize : true,\n                pause : __('not in progress'),\n                terminate : true,\n                report : true\n            }\n        },\n        authorized : {\n            code : _authorized,\n            label : __('Authorized but not started'),\n            can : {\n                authorize : __('already authorized'),\n                pause : __('not started'), //not in progress\n                terminate : true,\n                report : true\n            }\n        },\n        inprogress : {\n            code : _inprogress,\n            label : __('In Progress'),\n            can : {\n                authorize : __('already authorized'),\n                pause : true,\n                terminate : true,\n                report : true\n            }\n        },\n        paused : {\n            code : _paused,\n            label : __('Paused'),\n            can : {\n                authorize : __('is paused'),\n                pause : __('is already paused'),\n                terminate : true,\n                report : true\n            }\n        },\n        completed : {\n            code : _completed,\n            label : __('Completed'),\n            can : {\n                authorize : __('is completed'),\n                pause : __('is completed'),\n                terminate : __('is completed'),\n                report : true\n            }\n        },\n        terminated : {\n            code : _terminated,\n            label : __('Terminated'),\n            can : {\n                authorize : __('is terminated'),\n                pause : __('is terminated'),\n                terminate : __('is terminated'),\n                report : true\n            }\n        }\n    };\n\n    /**\n     * Get the status model from its name\n     * @param {string} statusName\n     * @returns {object}\n     */\n    function getStatus(statusName){\n        return _status[statusName];\n    }\n\n    /**\n     * Get the status model from its code\n     * @param {string} statusCode\n     * @returns {object}\n     */\n    function getStatusByCode(statusCode){\n        return _.find(_status, {code : statusCode});\n    }\n\n    /**\n     * Verify and reformat test taker data for the execBulkAction's need\n     * @param {Object} testTakerData\n     * @param {String} actionName\n     * @returns {Object}\n     */\n    function verifyTestTaker(testTakerData, actionName){\n        var formatted = {\n            id : testTakerData.id,\n            label : testTakerData.firstname + ' ' + testTakerData.lastname\n        };\n        var status = _status.getStatusByCode(testTakerData.state.status);\n        if(status){\n            formatted.allowed = (status.can[actionName] === true);\n            if(!formatted.allowed){\n                formatted.reason = status.can[actionName];\n            }\n        }\n        return formatted;\n    }\n\n    /**\n     * Get status model mappings formatted\n     * @returns {Array}\n     */\n    function getStatuses() {\n        return _.map(_status, function (el) {\n            return {code: el.code, label: el.label};\n        });\n    }\n\n    return {\n        getStatuses : getStatuses,\n        getStatus : getStatus,\n        getStatusByCode : getStatusByCode,\n        verifyTestTaker : verifyTestTaker,\n        STATUS_INIT : _init,\n        STATUS_AUTHORIZED : _authorized,\n        STATUS_INPROGRESS : _inprogress,\n        STATUS_PAUSED : _paused,\n        STATUS_COMPLETED : _completed,\n        STATUS_TERMINATED : _terminated\n    };\n});\n\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n *\n */\ndefine('taoProctoring/component/breadcrumbs',['ui/breadcrumbs'], function(breadcrumbs){\n    \n    /**\n     * Wrap the generic breadcrumbs component into a very specialized\n     * \n     * @param {JQyery} $container\n     * @param {Array} [crumbs]\n     * @returns {unresolved}\n     */\n    return function breadcrumbFactory($container, crumbs){\n        return breadcrumbs({\n            breadcrumbs : crumbs || $container.data('breadcrumbs'),\n            renderTo: $container.find('.header'),\n            replace: true,\n            cls : 'action-bar horizontal-action-bar'\n        });\n    };\n});\n\n\n","\ndefine('tpl!taoProctoring/templates/delivery/listBoxActions', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<span class=\\\"listbox-actions\\\">\\n    <span class=\\\"action pause\\\" data-delivery=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n        <span class=\\\"icon-pause\\\"></span>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Pause\", options) : helperMissing.call(depth0, \"__\", \"Pause\", options)))\n    + \"\\n    </span>\\n    <span class=\\\"action play\\\">\\n        <span class=\\\"icon-play\\\"></span>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Monitor\", options) : helperMissing.call(depth0, \"__\", \"Monitor\", options)))\n    + \"\\n    </span>\\n</span>\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoProctoring/templates/delivery/listBoxStats', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n<ul class=\\\"plain listbox-properties\\\">\\n    <li>\\n        <label>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Start\", options) : helperMissing.call(depth0, \"__\", \"Start\", options)))\n    + \"</label>: \";\n  if (helper = helpers.periodStart) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.periodStart); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n    </li>\\n    <li>\\n        <label>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"End\", options) : helperMissing.call(depth0, \"__\", \"End\", options)))\n    + \"</label>: \";\n  if (helper = helpers.periodEnd) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.periodEnd); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n    </li>\\n</ul>\\n\";\n  return buffer;\n  }\n\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.showProperties), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n<p class=\\\"listbox-stats\\\">\\n    <span class=\\\"icon-lock\\\"></span><span class=\\\"number\\\">\";\n  if (helper = helpers.locked) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.locked); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    <span class=\\\"icon-play\\\"></span><span class=\\\"number\\\">\";\n  if (helper = helpers.inProgress) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.inProgress); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    <span class=\\\"icon-pause\\\"></span><span class=\\\"number\\\">\";\n  if (helper = helpers.paused) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.paused); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n</p>\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/Delivery/index',[\n    'lodash',\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'ui/listbox',\n    'util/encode',\n    'ui/feedback',\n    'ui/bulkActionPopup',\n    'ui/cascadingComboBox',\n    'taoProctoring/helper/status',\n    'taoProctoring/component/breadcrumbs',\n    'tpl!taoProctoring/templates/delivery/listBoxActions',\n    'tpl!taoProctoring/templates/delivery/listBoxStats'\n], function (_, $, __, helpers, loadingBar, listBox, encode, feedback, bulkActionPopup, cascadingComboBox, _status, breadcrumbsFactory, actionsTpl, statsTpl) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.delivery-index';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the ProctorDelivery index page\n     *\n     * @type {Object}\n     */\n    var taoProctoringCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var boxes = $container.data('list');\n            var crumbs = $container.data('breadcrumbs');\n            var categories = $container.data('categories');\n            var testCenterId = $container.data('testcenter');\n            var list = listBox({\n                title: __(\"Sessions\"),\n                textEmpty: __(\"No sessions available\"),\n                textNumber: __(\"Available\"),\n                textLoading: __(\"Loading\"),\n                renderTo: $container.find('.content'),\n                replace: true,\n                list: format(boxes),\n                width:12,\n\n                // discard the \"all sessions\" box from available count\n                countRenderer: function(count) {\n                    return count - 1;\n                }\n            });\n            var bc = breadcrumbsFactory($container, crumbs);\n            var serviceUrl = helpers._url('deliveries', 'Delivery', 'taoProctoring', {testCenter : testCenterId});\n            \n            function format(boxes){\n                \n                _.each(boxes, function(box){\n\n                    var props = box.properties;\n                    var tplData = {\n                        locked : box.stats.awaitingApproval,\n                        inProgress : box.stats.inProgress,\n                        paused : box.stats.paused\n                    };\n\n                    if(props && props.periodStart && props.periodEnd){\n                        tplData.showProperties = true;\n                        tplData.periodStart = props.periodStart;\n                        tplData.periodEnd = props.periodEnd;\n\n                        //add a special class for boxes that have more information to display\n                        box.cls = 'has-properties-displayed';\n                    }\n                    box.html = actionsTpl({\n                        id : box.id\n                    });\n                    box.content = statsTpl(tplData);\n                });\n\n                return boxes;\n            }\n\n            // update the index from a JSON array\n            function update(boxes) {\n                list.update(format(boxes));\n                loadingBar.stop();\n            }\n\n            // refresh the index\n            function refresh() {\n                loadingBar.start();\n                list.setLoading(true);\n\n                $.ajax({\n                    url: serviceUrl,\n                    cache: false,\n                    dataType : 'json',\n                    type: 'GET'\n                }).done(function(boxes) {\n                    update(boxes);\n                });\n            }\n            \n            /**\n             * Exec \n             * @param {String} actionName\n             * @param {String} actionTitle\n             * @param {Array} selection\n             * @param {Function} cb\n             * @returns {undefined}\n             */\n            function pause(deliveryId, selection){\n                \n                var allowed  = _.map(selection, function(data){\n                    return {\n                        id : data.id,\n                        label : data.testTaker.firstName + ' ' + data.testTaker.lastName\n                    };\n                });\n                \n                bulkActionPopup({\n                    renderTo : $container,\n                    actionName : __('Pause Session'),\n                    reason : true,\n                    resourceType : 'test taker',\n                    categoriesSelector: cascadingComboBox({\n                        categoriesDefinitions: categories.pause.categoriesDefinitions,\n                        categories: categories.pause.categories\n                    }),\n                    allowedResources : allowed\n                }).on('ok', function(reason){\n                    //execute callback\n                    $.ajax({\n                        url: helpers._url('pauseExecutions', 'Delivery', 'taoProctoring'),\n                        data: {\n                            delivery : deliveryId,\n                            testCenter : testCenterId,\n                            execution: _.pluck(selection, 'id'),\n                            reason: reason\n                        },\n                        dataType : 'json',\n                        type: 'POST',\n                        error: function() {\n                            loadingBar.stop();\n                        }\n                    }).done(function(response) {\n                        loadingBar.stop();\n                        if (response && response.success) {\n                            feedback().success('Selected deliveries successfully paused');\n                            refresh();\n                        } else {\n                            feedback().warning(__('Something went wrong ...') + '<br>' + encode.html(response.error), {encodeHtml: false});\n                        }\n                    });\n                });\n            }\n            \n            $container.on('click', '.pause', function(e){\n                \n                var deliveryId = $(this).data('delivery');\n                var pauseUrl = (deliveryId === 'all') ? \n                    helpers._url('allDeliveriesExecutions', 'Delivery', 'taoProctoring', {testCenter : testCenterId}) :\n                    helpers._url('deliveryExecutions', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n                \n                //prevent clicking the parent link that goes to the monitoring screen\n                e.stopPropagation();\n                e.preventDefault();\n                \n                //get list of all test taker for the selected delivery\n                $.get(pauseUrl, function(res){\n                    if(_.isPlainObject(res) && _.isArray(res.data)){\n                        var inProgressExecs = _.filter(res.data, function(data){\n                            return (data.state && data.state.status === _status.getStatus('inprogress').code);\n                        });\n                        if(inProgressExecs.length){\n                            pause(deliveryId, inProgressExecs);\n                        }else{\n                            feedback().info(__('There is no delivery in progress'));\n                        }\n                    }\n                });\n            });\n            \n            if (!boxes) {\n                refresh();\n            } else {\n                loadingBar.stop();\n            }\n        }\n    };\n\n    return taoProctoringCtlr;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/Delivery/manage',[\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'util/encode',\n    'ui/feedback',\n    'ui/dialog',\n    'taoProctoring/component/breadcrumbs',\n    'ui/datatable'\n], function ($, __, helpers, loadingBar, encode, feedback, dialog, breadcrumbsFactory) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.delivery-manager';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the taoProctoring delivery page\n     *\n     * @type {Object}\n     */\n    var proctorDeliveryIndexCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var $list = $container.find('.list');\n            var crumbs = $container.data('breadcrumbs');\n            var dataset = $container.data('set');\n            var deliveryId = $container.data('delivery');\n            var testCenterId = $container.data('testcenter');\n            var assignUrl = helpers._url('testTakers', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var removeUrl = helpers._url('removeTestTakers', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var serviceUrl = helpers._url('deliveryTestTakers', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var monitoringUrl = helpers._url('monitoring', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter: testCenterId});\n\n            var bc = breadcrumbsFactory($container, crumbs);\n\n            // request the server with a selection of test takers\n            var request = function(url, selection, message) {\n                if (selection && selection.length) {\n                    loadingBar.start();\n\n                    $.ajax({\n                        url: url,\n                        data: {\n                            testtaker: selection\n                        },\n                        dataType : 'json',\n                        type: 'POST',\n                        error: function() {\n                            loadingBar.stop();\n                        }\n                    }).done(function(response) {\n                        loadingBar.stop();\n\n                        if (response && response.success) {\n                            if (message) {\n                                feedback().success(message);\n                            }\n                            $list.datatable('refresh');\n                        } else {\n                            feedback().error(__('Something went wrong ...') + '<br>' + encode.html(response.error), {encodeHtml: false});\n                        }\n                    });\n                }\n            };\n\n            // request the server to remove the selected test takers\n            var remove = function(selection) {\n                request(removeUrl, selection, __('Test takers have been removed'));\n            };\n\n            $list\n                .on('query.datatable', function() {\n                    loadingBar.start();\n                })\n                .on('load.datatable', function() {\n                    loadingBar.stop();\n                })\n                .datatable({\n                    url: serviceUrl,\n                    status: {\n                        empty: __('No assigned test takers'),\n                        available: __('Assigned test takers'),\n                        loading: __('Loading')\n                    },\n                    tools: [{\n                        id: 'refresh',\n                        icon: 'reset',\n                        title: __('Refresh the page'),\n                        label: __('Refresh'),\n                        action: function() {\n                            $list.datatable('refresh');\n                        }\n                    }, {\n                        id: 'back',\n                        icon: 'preview',\n                        title: __('Return to the session monitoring'),\n                        label: __('Monitoring'),\n                        action: function() {\n                            location.href = monitoringUrl;\n                        }\n                    }, {\n                        id: 'assign',\n                        icon: 'add',\n                        title: __('Assign more test takers to this session'),\n                        label: __('Add test takers'),\n                        action: function() {\n                            location.href = assignUrl;\n                        }\n                    }, {\n                        id: 'remove',\n                        icon: 'remove',\n                        title: __('Remove the selected test takers from the session'),\n                        label: __('Remove'),\n                        massAction: true,\n                        action: function(selection) {\n                            dialog({\n                                message: __('The test takers will be removed from this session. Continue ?'),\n                                autoRender: true,\n                                autoDestroy: true,\n                                onOkBtn: function() {\n                                    remove(selection);\n                                }\n                            });\n                        }\n                    }],\n                    actions: [{\n                        id: 'remove',\n                        icon: 'remove',\n                        title: __('Remove the test taker from the session'),\n                        action: function(id) {\n                            dialog({\n                                autoRender: true,\n                                autoDestroy: true,\n                                message: __('The test taker will be removed from this session. Continue ?'),\n                                onOkBtn: function() {\n                                    remove([id]);\n                                }\n                            });\n                        }\n                    }],\n                    selectable: true,\n                    model: [{\n                        id: 'firstname',\n                        label: __('First name')\n                    }, {\n                        id: 'lastname',\n                        label: __('Last name')\n                    }, {\n                        id: 'identifier',\n                        label: __('Identifier')\n                    }, {\n                        id: 'status',\n                        label: __('Status')\n                    }]\n                }, dataset);\n        }\n    };\n\n    return proctorDeliveryIndexCtlr;\n});\n\n","\ndefine('tpl!taoProctoring/templates/delivery/deliveryLink', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<a class=\\\"elipsis\\\" href=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoProctoring/templates/delivery/statusFilter', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <option value=\\\"\";\n  if (helper = helpers.code) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.code); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n    \";\n  return buffer;\n  }\n\n  buffer += \"<select class=\\\"filter status select2\\\">\\n    <option value=\\\"\\\" selected></option>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.statuses), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</select>\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/Delivery/monitoring',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'util/encode',\n    'ui/feedback',\n    'ui/dialog',\n    'ui/bulkActionPopup',\n    'ui/cascadingComboBox',\n    'taoProctoring/component/breadcrumbs',\n    'taoProctoring/helper/status',\n    'tpl!taoProctoring/templates/delivery/deliveryLink',\n    'tpl!taoProctoring/templates/delivery/statusFilter',\n    'ui/datatable',\n    'select2'\n], function (\n    $,\n    _,\n    __,\n    helpers,\n    loadingBar,\n    encode,\n    feedback,\n    dialog,\n    bulkActionPopup,\n    cascadingComboBox,\n    breadcrumbsFactory,\n    _status,\n    deliveryLinkTpl,\n    statusFilterTpl\n) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.delivery-monitoring';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the taoProctoring delivery page\n     *\n     * @type {Object}\n     */\n    var proctorDeliveryIndexCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var $content = $container.find('.content');\n            var $list = $container.find('.list');\n            var crumbs = $container.data('breadcrumbs');\n            var dataset = $container.data('set');\n            var extraFields = $container.data('extrafields');\n            var categories = $container.data('categories');\n            var deliveryId = $container.data('delivery');\n            var testCenterId = $container.data('testcenter');\n            var manageUrl = helpers._url('manage', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var terminateUrl = helpers._url('terminateExecutions', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var pauseUrl = helpers._url('pauseExecutions', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var authoriseUrl = helpers._url('authoriseExecutions', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var reportUrl = helpers._url('reportExecutions', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var serviceUrl = helpers._url('deliveryExecutions', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter : testCenterId});\n            var serviceAllUrl = helpers._url('allDeliveriesExecutions', 'Delivery', 'taoProctoring', {testCenter : testCenterId});\n            var tools = [];\n            var actions = [];\n            var model = [];\n            var actionButtons;\n            var bc = breadcrumbsFactory($container, crumbs);\n            \n            // request the server with a selection of test takers\n            function request(url, selection, reason, message) {\n                if (selection && selection.length) {\n                    loadingBar.start();\n\n                    $.ajax({\n                        url: url,\n                        data: {\n                            execution: selection,\n                            reason: reason\n                        },\n                        dataType : 'json',\n                        type: 'POST',\n                        error: function() {\n                            loadingBar.stop();\n                        }\n                    }).done(function(response) {\n                        loadingBar.stop();\n\n                        if (response && response.success) {\n                            if (message) {\n                                feedback().success(message);\n                            }\n                            $list.datatable('refresh');\n                        } else {\n                            feedback().error(__('Something went wrong ...') + '<br>' + encode.html(response.error), {encodeHtml: false});\n                        }\n                    });\n                }\n            }\n\n            // request the server to authorise the selected delivery executions\n            function authorise(selection) {\n                execBulkAction('authorize', __('Authorize Session'), selection, function(selection, reason){\n                    request(authoriseUrl, selection, reason, __('Sessions authorized'));\n                });\n            }\n\n            // request the server to pause the selected delivery executions\n            function pause(selection) {\n                execBulkAction('pause', __('Pause Session'), selection, function(selection, reason){\n                    request(pauseUrl, selection, reason, __('Sessions paused'));\n                });\n            }\n\n            // request the server to terminate the selected delivery executions\n            function terminate(selection) {\n                execBulkAction('terminate', __('Terminate Session'), selection, function(selection, reason){\n                    request(terminateUrl, selection, reason, __('Sessions terminated'));\n                });\n            }\n            \n            // report irregularities on the selected delivery executions\n            function report(selection) {\n                execBulkAction( 'report', __('Report Irregularity'), selection, function(selection, reason){\n                    request(reportUrl, selection, reason, __('Sessions reported'));\n                });\n            }\n            \n            /**\n             * Verify and reformat test taker data for the execBulkAction's need\n             * @param {Object} testTakerData\n             * @param {String} actionName\n             * @returns {Object}\n             */\n            function verifyTestTaker(testTakerData, actionName){\n                var formatted = {\n                    id : testTakerData.id,\n                    label : testTakerData.firstname+' '+testTakerData.lastname\n                };\n                var status = _status.getStatusByCode(testTakerData.state.status);\n                if(status){\n                    formatted.allowed = (status.can[actionName] === true);\n                    if(!formatted.allowed){\n                        formatted.reason = status.can[actionName];\n                    }\n                }\n                return formatted;\n            }\n            \n            /**\n             * Find the execution row data from its uri\n             * \n             * @param {String} uri\n             * @returns {Object}\n             */\n            function getExecutionData(uri){\n                return _.find(dataset.data, {id : uri});\n            }\n            \n            /**\n             * Exec \n             * @param {String} actionName\n             * @param {String} actionTitle\n             * @param {Array|String} selection\n             * @param {Function} cb\n             * @returns {undefined}\n             */\n            function execBulkAction(actionName, actionTitle, selection, cb){\n\n                var allowedTestTakers = [];\n                var forbiddenTestTakers = [];\n                var _selection = _.isArray(selection) ? selection : [selection];\n                var askForReason = (categories[actionName] && categories[actionName].categoriesDefinitions && categories[actionName].categoriesDefinitions.length);\n\n                _.each(_selection, function(uri){\n                    var testTaker = getExecutionData(uri);\n                    var checkedTestTaker;\n                    if(testTaker){\n                        checkedTestTaker = verifyTestTaker(testTaker, actionName);\n                        if(checkedTestTaker.allowed){\n                            allowedTestTakers.push(checkedTestTaker);\n                        }else{\n                            forbiddenTestTakers.push(checkedTestTaker);\n                        }\n                    }\n                });\n                var config = {\n                    renderTo : $content,\n                    actionName : actionTitle,\n                    reason : askForReason,\n                    reasonRequired: true,\n                    resourceType : 'test taker',\n                    categoriesSelector: cascadingComboBox(categories[actionName]),\n                    allowedResources : allowedTestTakers,\n                    deniedResources : forbiddenTestTakers\n                };\n                \n                bulkActionPopup(config).on('ok', function(reason){\n                    //execute callback\n                    if(_.isFunction(cb)){\n                        cb(_selection, reason);\n                    }\n                });\n            }\n\n            /**\n             * Return html for filter\n             * @returns {String}\n             */\n            function buildStatusFilter(){\n                return statusFilterTpl({statuses: _status.getStatuses()});\n            }\n\n            /**\n             * Additional action perfomed with filter element\n             * @param {jQueryElement} $el\n             */\n            function statusFilterHandler($el) {\n                $el.select2({\n                    dropdownAutoWidth: true,\n                    placeholder: __('Filter'),\n                    minimumResultsForSearch: Infinity,\n                    allowClear: true\n                });\n            }\n\n            // tool: page refresh\n            tools.push({\n                id: 'refresh',\n                icon: 'reset',\n                title: __('Refresh the page'),\n                label: __('Refresh'),\n                action: function() {\n                    $list.datatable('refresh');\n                }\n            });\n\n            // tool: manage test takers (only for unique delivery)\n            if (deliveryId) {\n                tools.push({\n                    id: 'manage',\n                    icon: 'property-advanced',\n                    title: __('Manage sessions'),\n                    label: __('Manage'),\n                    action: function() {\n                        location.href = manageUrl;\n                    }\n                });\n            }\n\n            // tool: authorise the executions\n            tools.push({\n                id: 'authorise',\n                icon: 'play',\n                title: __('Authorize sessions'),\n                label: __('Authorise'),\n                massAction: true,\n                action: authorise\n            });\n\n            // tool: pause the executions\n            tools.push({\n                id: 'pause',\n                icon: 'pause',\n                title: __('Pause sessions'),\n                label: __('Pause'),\n                massAction: true,\n                action: pause\n            });\n\n            // tool: terminate the executions\n            tools.push({\n                id: 'terminate',\n                icon: 'stop',\n                title: __('Terminate sessions'),\n                label: __('Terminate'),\n                massAction: true,\n                action: terminate\n            });\n\n            // tool: report irregularities\n            tools.push({\n                id: 'irregularity',\n                icon: 'delivery-small',\n                title: __('Report irregularities'),\n                label: __('Report'),\n                massAction: true,\n                action: report\n            });\n\n            // action: authorise the execution\n            actions.push({\n                id: 'authorise',\n                icon: 'play',\n                title: __('Authorize session'),\n                hidden: function() {\n                    var status;\n                    if(this.state && this.state.status){\n                        status = _status.getStatusByCode(this.state.status);\n                        return !status || status.can.authorize !== true;\n                    }\n                    return true;\n                },\n                action: authorise\n            });\n\n            // action: pause the execution\n            actions.push({\n                id: 'pause',\n                icon: 'pause',\n                title: __('Pause session'),\n                hidden: function() {\n                    var status;\n                    if(this.state && this.state.status){\n                        status = _status.getStatusByCode(this.state.status);\n                        return !status || status.can.pause !== true;\n                    }\n                    return true;\n                },\n                action: pause\n            });\n\n            // action: terminate the execution\n            actions.push({\n                id: 'terminate',\n                icon: 'stop',\n                title: __('Terminate session'),\n                hidden: function() {\n                    var status;\n                    if(this.state && this.state.status){\n                        status = _status.getStatusByCode(this.state.status);\n                        return !status || status.can.terminate !== true;\n                    }\n                    return true;\n                },\n                action: terminate\n            });\n\n            // action: report irregularities\n            actions.push({\n                id: 'irregularity',\n                icon: 'delivery-small',\n                title: __('Report irregularity'),\n                action: report\n            });\n\n            // column: delivery (only for all deliveries view)\n            if (!deliveryId) {\n                model.push({\n                    id: 'delivery',\n                    label: __('Session'),\n                    sortable : true,\n                    transform: function(value, row) {\n                        var delivery = row && row.delivery;\n                        if (delivery) {\n                            delivery.url = helpers._url('monitoring', 'Delivery', 'taoProctoring', {delivery : delivery.uri, testCenter : testCenterId});\n                            value = deliveryLinkTpl(delivery);\n                        }\n                        return value;\n\n                    }\n                });\n            }\n\n            // column: test taker first name\n            model.push({\n                id: 'firstname',\n                label: __('First name'),\n                sortable : true,\n                transform: function(value, row) {\n                    return row && row.testTaker && row.testTaker.firstName || '';\n\n                }\n            });\n\n            // column: test taker last name\n            model.push({\n                id: 'lastname',\n                label: __('Last name'),\n                sortable : true,\n                transform: function(value, row) {\n                    return row && row.testTaker && row.testTaker.lastName || '';\n\n                }\n            });\n            \n            //extra fields\n            _.each(extraFields, function(extraField){\n                model.push({\n                    id : extraField.id,\n                    label: extraField.label,\n                    sortable : true,\n                    transform: function(value, row) {\n                        return row && row.extraFields && row.extraFields[extraField.id] || '';\n                    }\n                });\n            });\n            \n            // column: start time\n            model.push({\n                id: 'date',\n                sortable : true,\n                label: __('Started at')\n            });\n\n            // column: delivery execution status\n            model.push({\n                id: 'status',\n                label: __('Status'),\n                sortable : true,\n                filterable : true,\n                customFilter : {\n                    template : buildStatusFilter(),\n                    callback : statusFilterHandler\n                },\n\n                transform: function(value, row) {\n                    var result = '',\n                        status;\n\n                    if (row && row.state && row.state.status) {\n                        status = _status.getStatusByCode(row.state.status);\n                        if (status) {\n                            result = status.label;\n                            if (row.state.status === 'INPROGRESS') {\n                                result = status.label;\n                            }\n                        }\n                    }\n                    return result;\n                }\n            });\n\n            // column: connectivity status of execution progress\n            model.push({\n                id: 'connectivity',\n                sortable: true,\n                label: __('Connectivity'),\n                transform: function(value, row) {\n                    if (row.state.status === _status.STATUS_INPROGRESS) {\n                        return row.online ? __('online') : __('offline');\n                    }\n                    return '';\n                }\n            });\n\n            // column: delivery execution progress\n            model.push({\n                id: 'progress',\n                label: __('Progress'),\n                transform: function(value, row) {\n                \treturn row && row.state && row.state.progress || '' ;\n                }\n            });\n            \n            // renders the datatable\n            $list\n                .on('query.datatable', function() {\n                    loadingBar.start();\n                })\n                .on('load.datatable', function(e, newDataset) {\n                    //update dateset in memory\n                    dataset = newDataset;\n                    \n                    //udate the buttons, which have been reconstructed\n                    actionButtons = _({\n                        authorize : $list.find('.action-bar').children('.tool-authorise'),\n                        pause : $list.find('.action-bar').children('.tool-pause'),\n                        terminate : $list.find('.action-bar').children('.tool-terminate'),\n                        report : $list.find('.action-bar').children('.tool-irregularity')\n                    });\n                    \n                    loadingBar.stop();\n                })\n                .on('select.datatable', function(e, newDataset) {\n                    //hide all controls then display each required one individually\n                    actionButtons.each(function($btn){\n                        $btn.hide();\n                    });\n                    _($list.datatable('selection')).map(function(uri){\n                        var row = getExecutionData(uri);\n                        return row.state.status;\n                    }).uniq().each(function(statusCode){\n                        var status = _status.getStatusByCode(statusCode);\n                        actionButtons.forIn(function($btn, action){\n                            if(status && status.can[action] === true){\n                                $btn.show();\n                            }\n                        });\n                    });\n                })\n                .datatable({\n                    url: deliveryId ? serviceUrl : serviceAllUrl,\n                    status: {\n                        empty: __('No sessions'),\n                        available: __('Current sessions'),\n                        loading: __('Loading')\n                    },\n                    filter: true,\n                    filtercolumns:['status'],\n                    tools: tools,\n                    actions: actions,\n                    model: model,\n                    selectable: true,\n                    sortorder: 'desc',\n                    sortby : 'date'\n                }, dataset);\n\n\n        }\n    };\n\n    return proctorDeliveryIndexCtlr;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/Delivery/testTakers',[\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'util/encode',\n    'ui/feedback',\n    'taoProctoring/component/breadcrumbs',\n    'ui/datatable'\n], function ($, __, helpers, loadingBar, encode, feedback, breadcrumbsFactory) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.delivery-testtakers';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the ProctorDelivery test takers assign page\n     *\n     * @type {Object}\n     */\n    var proctorDeliveryAssignCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var $list = $container.find('.list');\n            var crumbs = $container.data('breadcrumbs');\n            var dataset = $container.data('set');\n            var deliveryId = $container.data('delivery');\n            var testCenterId = $container.data('testcenter');\n            var serviceUrl = helpers._url('availableTestTakers', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter: testCenterId});\n            var assignUrl = helpers._url('assignTestTakers', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter: testCenterId});\n            var managerUrl = helpers._url('manage', 'Delivery', 'taoProctoring', {delivery : deliveryId, testCenter: testCenterId});\n\n            var bc = breadcrumbsFactory($container, crumbs);\n\n            // send the selection to the server and redirect to the index page\n            var assign = function(selection) {\n                if (selection && selection.length) {\n                    loadingBar.start();\n\n                    $.ajax({\n                        url: assignUrl,\n                        data: {\n                            testtaker: selection\n                        },\n                        dataType : 'json',\n                        type: 'POST',\n                        error: function() {\n                            loadingBar.stop();\n                        }\n                    }).done(function(response) {\n                        loadingBar.stop();\n\n                        if (response && response.success) {\n                            feedback().success(__('Test takers have been added'));\n                            location.href = managerUrl;\n                        } else {\n                            feedback().error(__('Something went wrong ...') + '<br>' + encode.html(response.error), {encodeHtml: false});\n                        }\n                    });\n                }\n            };\n\n            $list\n                .on('query.datatable', function() {\n                    loadingBar.start();\n                })\n                .on('load.datatable', function(event, response) {\n                    loadingBar.stop();\n                })\n                .datatable({\n                    url: serviceUrl,\n                    status: {\n                        empty: __('No available test takers to assign'),\n                        available: __('Available test takers'),\n                        loading: __('Loading')\n                    },\n                    tools: [{\n                        id: 'back',\n                        icon: 'left',\n                        title: __('Return to the session manager'),\n                        label: __('Back'),\n                        action: function() {\n                            location.href = managerUrl;\n                        }\n                    }, {\n                        id: 'refresh',\n                        icon: 'reset',\n                        title: __('Refresh the page'),\n                        label: __('Refresh'),\n                        action: function() {\n                            $list.datatable('refresh');\n                        }\n                    }, {\n                        id: 'assign',\n                        icon: 'add',\n                        title: __('Assign the selected test takers to the session'),\n                        label: __('Assign the selected test takers'),\n                        massAction: true,\n                        action: function(selection) {\n                            assign(selection);\n                        }\n                    }],\n                    actions: [{\n                        id: 'assign',\n                        icon: 'add',\n                        title: __('Assign the test taker to the session'),\n                        action: function(id) {\n                            assign([id]);\n                        }\n                    }],\n                    selectable: true,\n                    model: [{\n                        id: 'firstname',\n                        label: __('First name')\n                    }, {\n                        id: 'lastname',\n                        label: __('Last name')\n                    }, {\n                        id: 'identifier',\n                        label: __('Identifier')\n                    }]\n                }, dataset);\n        }\n    };\n\n    return proctorDeliveryAssignCtlr;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n *\n * Keep duration of test-taker activity in localstorage\n */\n\ndefine('taoQtiTest/testRunner/resumingStrategy/keepAfterResume',[], function () {\n    'use strict';\n\n    /**\n     * @param {Object} options\n     * @param {string} options.accuracy - period of user status checking\n     */\n    var sessionStateFactory = function sessionStateFactory(options) {\n        var _storageKey = 'sessionState_active_for',\n            _accuracy,\n            _interval = null;\n\n        var sessionState = {\n\n            reset: function reset() {\n                _reset();\n            },\n\n            restart: function restart() {\n                _reset();\n                _start();\n            },\n\n            getDuration: function getDuration() {\n                return getLocalStorageData();\n            }\n        };\n\n        function _start() {\n            if (null !== _interval) {\n                throw new TypeError('Tracking is already started');\n            }\n            _interval = setInterval(function () {\n                setLocalStorageData(getLocalStorageData() + _accuracy);\n            }, _accuracy);\n        }\n\n        function _stop() {\n            clearInterval(_interval);\n            _interval = null;\n        }\n\n        function _reset() {\n            _stop();\n            clearLocalStorage();\n        }\n\n        function _init() {\n            _accuracy = options && options.accuracy || 1000;\n        }\n\n        _init();\n\n        /**\n         * Store duration in ms to local storage\n         * @param {*} val - data to be stored.\n         */\n        function setLocalStorageData(val) {\n            window.localStorage.setItem(_storageKey, val);\n        }\n\n        /**\n         * Get duration from local storage\n         * @returns {int} in ms\n         */\n        function getLocalStorageData() {\n            var data = window.localStorage.getItem(_storageKey),\n                result = JSON.parse(data) || 0;\n            return result;\n        }\n\n        /**\n         * Clear storage\n         */\n        function clearLocalStorage() {\n            window.localStorage.removeItem(_storageKey);\n        }\n\n        return sessionState;\n    };\n\n    return sessionStateFactory;\n});\n","\ndefine('tpl!taoProctoring/templates/deliveryServer/authorizationSuccess', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<span class=\\\"success-message\\\">\";\n  if (helper = helpers.message) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.message); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"<span class=\\\"icon-result-ok\\\"></span></span>\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/DeliveryServer/awaiting',[\n    'lodash',\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'ui/listbox',\n    'ui/dialog/alert',\n    'core/polling',\n    'core/cachedStore',\n    'taoQtiTest/testRunner/resumingStrategy/keepAfterResume',\n    'tpl!taoProctoring/templates/deliveryServer/authorizationSuccess'\n], function (_, $, __, helpers, loadingBar, listBox, dialogAlert, polling, cachedStore, keepAfterResume, authSuccessTpl){\n    'use strict';\n\n    /**\n     * The polling delay used to refresh the list\n     * @type {Number}\n     */\n    var refreshPolling = 10 * 1000; // once every 10 seconds\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.awaiting-authorization';\n\n    /**\n     * Controls the ProctorDelivery index page\n     *\n     * @type {Object}\n     */\n    var awaitingAuthorizationCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start(config){\n\n            var $container = $(cssScope);\n            var isAuthorizedUrl = helpers._url('isAuthorized', 'DeliveryServer', 'taoProctoring', {deliveryExecution : config.deliveryExecution});\n            var runDeliveryUrl = helpers._url('runDeliveryExecution', 'DeliveryServer', 'taoProctoring', {deliveryExecution : config.deliveryExecution});\n            var boxes = [{\n                    id : 'goToDelivery',\n                    label : config.deliveryLabel,\n                    url : runDeliveryUrl,\n                    content : __('Please wait, authorization in process ...'),\n                    text : __('Proceed')\n                }];\n            var list = listBox({\n                title : config.deliveryInit ? __('Start Test') : __('Resume Test'),\n                textEmpty : '',\n                textNumber : '',\n                textLoading : '',\n                renderTo : $container,\n                list : boxes,\n                width : 12\n            });\n            var $content = $container.find('.listbox .content');\n\n            // we need to reset the local timer to avoid loss of time inside the assessment test session\n            keepAfterResume().reset();\n\n            // reset the paused state from the test persistence in order to avoid the session being rejected by the runner\n            cachedStore('test-states-' + config.deliveryExecution, 'states')\n                .then(function(states) {\n                    return states.setItem('paused', false);\n                });\n\n            loadingBar.start();\n\n            polling({\n                action : function (){\n                    var async = this.async();\n                    $.get(isAuthorizedUrl, function(result){\n                        var stop = false;\n\n                        if (!result.success) {\n                            stop = true;\n                            if (result.message) {\n                                dialogAlert(result.message, exit);\n                            } else {\n                                exit();\n                            }\n                        } else if (result.authorized) {\n                            stop = true;\n                            authorized();\n                        }\n\n                        if (stop) {\n                            async.reject();\n                        } else {\n                            async.resolve();\n                        }\n                    });\n                },\n                interval : refreshPolling,\n                autoStart : true\n            });\n            \n            /**\n             * Function to be called when the delivery execution has been authorized\n             */\n            function authorized(){\n                loadingBar.stop();\n                //@todo it would be nice to smoothen the transition\n                $container.removeClass('authorization-in-progress');\n                $content.html(authSuccessTpl({message : __('Authorized, you may proceed')}));\n            }\n\n            /**\n             * Goes back to the delivery index\n             */\n            function exit() {\n                location.href = config.returnUrl;\n            }\n        }\n    };\n\n    return awaitingAuthorizationCtlr;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n * @author dieter <dieter@taotesting.com>\n */\ndefine('taoClientDiagnostic/tools/diagnostic/status',[\n    'jquery',\n    'lodash',\n    'i18n'\n], function ($, _, __) {\n    'use strict';\n\n    /**\n     * A list of thresholds for performances check\n     * @type {Array}\n     */\n    var performancesThresholds = [{\n        threshold: 0,\n        message: __('Very slow performances'),\n        type: 'error'\n    }, {\n        threshold: 33,\n        message: __('Average performances'),\n        type: 'warning'\n    }, {\n        threshold: 66,\n        message: __('Good performances'),\n        type: 'success'\n    }];\n\n    /**\n     * A list of thresholds for bandwidth check\n     * @type {Array}\n     */\n    var bandwidthThresholds = [{\n        threshold: 0,\n        message: __('Low bandwidth'),\n        type: 'error'\n    }, {\n        threshold: 33,\n        message: __('Average bandwidth'),\n        type: 'warning'\n    }, {\n        threshold: 66,\n        message: __('Good bandwidth'),\n        type: 'success'\n    }];\n\n    /**\n     * A list of thresholds for summary\n     * @type {Array}\n     */\n    var summaryThresholds = [{\n        threshold: 0,\n        message: __('Your system requires a compatibility update, please contact your system administrator.'),\n        type: 'error'\n    }, {\n        threshold: 33,\n        message: __('Your system is not optimal, please contact your system administrator.'),\n        type: 'warning'\n    }, {\n        threshold: 66,\n        message: __('Your system is fully compliant.'),\n        type: 'success'\n    }];\n\n    /**\n     * Gets a diagnostic factory manager\n     * @returns {Object}\n     */\n    function diagnosticStatusFactory() {\n        return {\n            /**\n             * The list of known thresholds by context\n             */\n            thresholds: {\n                performances: performancesThresholds,\n                bandwidth: bandwidthThresholds,\n                summary: summaryThresholds\n            },\n\n            /**\n             * Gets the thresholds for a particular context\n             * @param {String} name\n             * @returns {Array}\n             */\n            getThresholds: function getThresholds(name) {\n                return this.thresholds[name];\n            },\n\n            /**\n             * Gets the correct status message for a given percentage\n             * @param {Number} percentage\n             * @param {Array|String} thresholds\n             * @returns {Object}\n             */\n            getStatus: function getStatus(percentage, thresholds) {\n                var len, feedback, i, step, status;\n\n                // the percentage is between 0 and 100 and obviously must be a number\n                percentage = Math.max(0, Math.min(100, Math.round(parseInt(percentage, 10))));\n\n                if (_.isString(thresholds)) {\n                    thresholds = this.getThresholds(thresholds);\n                }\n\n                // grab a feedback related to the percentage in the thresholds list\n                if (thresholds) {\n                    if (!_.isArray(thresholds)) {\n                        thresholds = [thresholds];\n                    }\n\n                    len = thresholds.length;\n                    feedback = thresholds[0];\n                    for (i = 1; i < len; i++) {\n                        step = thresholds[i];\n                        if (step && percentage >= step.threshold) {\n                            feedback = step;\n                        } else {\n                            break;\n                        }\n                    }\n                }\n\n                // need a structure compatible with the handlebars template\n                status = {\n                    percentage: percentage,\n                    quality: {}\n                };\n\n                if (feedback) {\n                    status.feedback = _.clone(feedback);\n                }\n\n                return status;\n            }\n        };\n    }\n\n    return diagnosticStatusFactory;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoClientDiagnostic/tools/fixedDecimals',[],function () {\n    'use strict';\n\n    /**\n     * Rounds a value to a fixed number of decimals\n     * @param {Number} value The value to round\n     * @param {Number} decimals The number of decimal\n     * @returns {Number}\n     */\n    var fixedDecimals = function fixedDecimals(value, decimals) {\n        var shift = Math.pow(10, Math.abs(decimals || 1));\n        return Math.round(Number(value) * shift) / shift || 0;\n    };\n\n    return fixedDecimals;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoClientDiagnostic/tools/stats',[\n    'lodash',\n    'taoClientDiagnostic/tools/fixedDecimals'\n], function (_, fixedDecimals) {\n    'use strict';\n\n    /**\n     * Computes some stats on a list from a particular field\n     * @param {Array|Object} list The list to compute stats on\n     * @param {String|Function} fieldName The name of the field to process, or a callback method returning the value\n     * @param {Number} [decimals] Optional number of fixed decimals for values\n     * @returns {Object}\n     */\n    var stats = function stats(list, fieldName, decimals) {\n        var sum = 0;\n        var sum2 = 0;\n        var min = Number.MAX_VALUE;\n        var max = 0;\n        var variance;\n        var count = 0;\n        var values = [];\n        var avg;\n        var med;\n        var middle;\n        var getValue;\n        var results;\n\n        if (_.isFunction(fieldName)) {\n            getValue = fieldName;\n        } else {\n            getValue = function(item) {\n                return item && item[fieldName] || 0;\n            };\n        }\n\n        // process 1st pass stats: compute sum, min and max values\n        _.forEach(list, function(item) {\n            var value;\n            if (undefined !== item) {\n                value = getValue(item);\n                values.push(value);\n                min = Math.min(min, value);\n                max = Math.max(max, value);\n                sum += value;\n                count++;\n            }\n        });\n\n        // compute the average value\n        avg = sum / (count || 1);\n\n        // process 2nd pass stats: compute variance\n        _.forEach(values, function(value) {\n            var diff = value - avg;\n            sum2 += diff * diff;\n        });\n\n        // compute de standard variance\n        variance = count > 1 ? Math.sqrt(sum2 / (count - 1)) : 0;\n\n        // compute the median value\n        values.sort();\n        middle = count / 2;\n        med = (values[Math.floor(middle)] + values[Math.ceil(middle)]) / 2;\n\n        results = {\n            min : min,\n            max : max,\n            sum : sum,\n            count : count,\n            average : avg,\n            median : med,\n            variance : variance\n        };\n\n        if (decimals) {\n            _.forEach(results, function(value, key) {\n                results[key] = fixedDecimals(value, decimals);\n            });\n        }\n\n        results.values = list;\n        return results;\n    };\n\n    return stats;\n});\n\n","define('taoQtiItem/qtiItem/core/qtiClasses',[], function(){\n    return {\n        '_container' : 'taoQtiItem/qtiItem/core/Container',\n        'assessmentItem' : 'taoQtiItem/qtiItem/core/Item',\n        'responseProcessing' : 'taoQtiItem/qtiItem/core/ResponseProcessing',\n        '_simpleFeedbackRule' : 'taoQtiItem/qtiItem/core/response/SimpleFeedbackRule',\n        'stylesheet' : 'taoQtiItem/qtiItem/core/Stylesheet',\n        'math' : 'taoQtiItem/qtiItem/core/Math',\n        'img' : 'taoQtiItem/qtiItem/core/Img',\n        'object' : 'taoQtiItem/qtiItem/core/Object',\n        'outcomeDeclaration' : 'taoQtiItem/qtiItem/core/variables/OutcomeDeclaration',\n        'responseDeclaration' : 'taoQtiItem/qtiItem/core/variables/ResponseDeclaration',\n        'rubricBlock' : 'taoQtiItem/qtiItem/core/RubricBlock',\n        'associableHotspot' : 'taoQtiItem/qtiItem/core/choices/AssociableHotspot',\n        'gap' : 'taoQtiItem/qtiItem/core/choices/Gap',\n        'gapImg' : 'taoQtiItem/qtiItem/core/choices/GapImg',\n        'gapText' : 'taoQtiItem/qtiItem/core/choices/GapText',\n        'hotspotChoice' : 'taoQtiItem/qtiItem/core/choices/HotspotChoice',\n        'hottext' : 'taoQtiItem/qtiItem/core/choices/Hottext',\n        'inlineChoice' : 'taoQtiItem/qtiItem/core/choices/InlineChoice',\n        'simpleAssociableChoice' : 'taoQtiItem/qtiItem/core/choices/SimpleAssociableChoice',\n        'simpleChoice' : 'taoQtiItem/qtiItem/core/choices/SimpleChoice',\n        'associateInteraction' : 'taoQtiItem/qtiItem/core/interactions/AssociateInteraction',\n        'choiceInteraction' : 'taoQtiItem/qtiItem/core/interactions/ChoiceInteraction',\n        'endAttemptInteraction' : 'taoQtiItem/qtiItem/core/interactions/EndAttemptInteraction',\n        'extendedTextInteraction' : 'taoQtiItem/qtiItem/core/interactions/ExtendedTextInteraction',\n        'gapMatchInteraction' : 'taoQtiItem/qtiItem/core/interactions/GapMatchInteraction',\n        'graphicAssociateInteraction' : 'taoQtiItem/qtiItem/core/interactions/GraphicAssociateInteraction',\n        'graphicGapMatchInteraction' : 'taoQtiItem/qtiItem/core/interactions/GraphicGapMatchInteraction',\n        'graphicOrderInteraction' : 'taoQtiItem/qtiItem/core/interactions/GraphicOrderInteraction',\n        'hotspotInteraction' : 'taoQtiItem/qtiItem/core/interactions/HotspotInteraction',\n        'hottextInteraction' : 'taoQtiItem/qtiItem/core/interactions/HottextInteraction',\n        'inlineChoiceInteraction' : 'taoQtiItem/qtiItem/core/interactions/InlineChoiceInteraction',\n        'matchInteraction' : 'taoQtiItem/qtiItem/core/interactions/MatchInteraction',\n        'mediaInteraction' : 'taoQtiItem/qtiItem/core/interactions/MediaInteraction',\n        'orderInteraction' : 'taoQtiItem/qtiItem/core/interactions/OrderInteraction',\n        'prompt' : 'taoQtiItem/qtiItem/core/interactions/Prompt',\n        'selectPointInteraction' : 'taoQtiItem/qtiItem/core/interactions/SelectPointInteraction',\n        'sliderInteraction' : 'taoQtiItem/qtiItem/core/interactions/SliderInteraction',\n        'textEntryInteraction' : 'taoQtiItem/qtiItem/core/interactions/TextEntryInteraction',\n        'uploadInteraction' : 'taoQtiItem/qtiItem/core/interactions/UploadInteraction',\n        'feedbackBlock' : 'taoQtiItem/qtiItem/core/feedbacks/FeedbackBlock',\n        'feedbackInline' : 'taoQtiItem/qtiItem/core/feedbacks/FeedbackInline',\n        'modalFeedback' : 'taoQtiItem/qtiItem/core/feedbacks/ModalFeedback',\n        'customInteraction' : 'taoQtiItem/qtiItem/core/interactions/CustomInteraction',\n        'infoControl' : 'taoQtiItem/qtiItem/core/PortableInfoControl',\n        'include' : 'taoQtiItem/qtiItem/core/Include'\n    };\n});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA\n *\n */\n\n/**\n * Common basic util functions\n */\ndefine('taoQtiItem/qtiItem/helper/util',['lodash'], function(_){\n    'use strict';\n\n    var util = {\n\n        buildSerial : function buildSerial(prefix){\n            var id = prefix || '';\n            var chars = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n            for(var i = 0; i < 22; i++){\n                id += chars.charAt(Math.floor(Math.random() * chars.length));\n            }\n            return id;\n        },\n\n        /**\n         * Generates an id for a Qti element (the generation is different from identifier)\n         * @param {Object} item - the element related item\n         * @param {String} prefix - identifier prefix\n         * @returns {String} the identifier\n         * @throws {TypeError} if there is no item\n         */\n        buildId : function buildId(item, prefix){\n            var id;\n            var usedIds;\n            var i = 1;\n            var suffix = '';\n            var exists = false;\n\n            if(!item){\n                throw new TypeError('A item is required to generate a unique identifier');\n            }\n\n            usedIds   = item.getUsedIds();\n\n            do{\n                exists = false;\n                id = prefix + suffix;\n                if(_.contains(usedIds, id)){\n                    exists = true;\n                    suffix = '_' + i;\n                    i++;\n                }\n            } while(exists);\n\n            return id;\n        },\n\n        /**\n         * Generates an identifier for a Qti element\n         * @param {Object} item - the element related item\n         * @param {String} prefix - identifier prefix\n         * @param {Boolean} [useSuffix = true] - add a \"_ + index\" to the identifier\n         * @returns {String} the identifier\n         * @throws {TypeError} if there is no item\n         */\n        buildIdentifier : function buildIdentifier(item, prefix, useSuffix){\n\n            var id;\n            var usedIds;\n            var suffix = '';\n            var i = 1;\n            var exists = false;\n\n            if(!item){\n                throw new TypeError('A item is required to generate a unique identifier');\n            }\n\n            usedIds   = item.getUsedIdentifiers();\n            useSuffix = _.isUndefined(useSuffix) ? true : useSuffix;\n\n            if(prefix){\n                prefix = prefix.replace(/_[0-9]+$/ig, '_') //detect incremental id of type choice_12, response_3, etc.\n                               .replace(/[^a-zA-Z0-9_]/ig, '_')\n                               .replace(/(_)+/ig, '_');\n                if(useSuffix){\n                    suffix = '_' + i;\n                }\n            } else {\n                prefix = this.qtiClass;\n                suffix = '_' + i;\n            }\n\n            do{\n                exists = false;\n                id = prefix + suffix;\n                if(usedIds[id]){\n                    exists = true;\n                    suffix = '_' + i;\n                    i++;\n                }\n            } while(exists);\n\n            return id;\n        },\n\n        findInCollection : function findInCollection(element, collectionNames, searchedSerial){\n\n            var found = null;\n\n            if(_.isString(collectionNames)){\n                collectionNames = [collectionNames];\n            }\n\n            if(_.isArray(collectionNames)){\n\n                _.each(collectionNames, function(collectionName){\n\n                    //get collection to search in (resolving case like interaction.choices.0\n                    var collection = element;\n                    _.each(collectionName.split('.'), function(nameToken){\n                        collection = collection[nameToken];\n                    });\n                    var elt = collection[searchedSerial];\n\n                    if(elt){\n                        found = {'parent' : element, 'element' : elt};\n                        return false;//break the each loop\n                    }\n\n                    //search inside each elements:\n                    _.each(collection, function(elt){\n\n                        if(_.isFunction(elt.find)){\n                            found = elt.find(searchedSerial);\n                            if(found){\n                                return false;//break the each loop\n                            }\n                        }\n\n                    });\n\n                    if(found){\n                        return false;//break the each loop\n                    }\n\n                });\n\n            }else{\n\n                throw new Error('invalid argument : collectionNames must be an array or a string');\n            }\n\n            return found;\n        },\n        addMarkupNamespace : function addMarkupNamespace(markup, ns){\n            if(ns) {\n                markup = markup.replace(/<(\\/)?([a-z:]+)(\\s?)([^><]*)>/g, function($0, $1, $2, $3, $4){\n                    if($2.indexOf(':')>0){\n                        return $0;\n                    }\n                    $1 = $1 || '';\n                    $3 = $3 || '';\n                    return '<'+ $1 + ns + ':'+$2+$3+$4+'>';\n                });\n                return markup;\n            }\n            return markup;\n\n        },\n        removeMarkupNamespaces : function removeMarkupNamespace(markup){\n            return markup.replace(/<(\\/)?(\\w*):([^>]*)>/g, '<$1$3>');\n        },\n        getMarkupUsedNamespaces : function getMarkupUsedNamespaces(markup){\n            var namespaces = [];\n            markup.replace(/<(\\/)?(\\w*):([^>]*)>/g, function(original, slash, ns, node){\n                namespaces.push(ns);\n                return '<'+slash+node+'>';\n            });\n            return _.uniq(namespaces);\n        }\n    };\n\n    return util;\n});\n\n","define('taoQtiItem/qtiItem/helper/rendererConfig',['lodash', 'jquery'], function(_, $){\n\n    var rendererConfigHelper = {};\n\n    rendererConfigHelper.getOptionsFromArguments = function(args){\n\n        var options = {\n            data : {},\n            placeholder : null,\n            subclass : '',\n            renderer : null\n        };\n        \n        _.each(args, function(arg){\n            if(arg){\n                if(arg.isRenderer){\n                    options.renderer = arg;\n                }else if(arg instanceof $ && arg.length){\n                    options.placeholder = arg;\n                }else if(_.isString(arg)){\n                    options.subclass = arg;\n                }else if(_.isPlainObject(arg)){\n                    options.data = arg;\n                }else{\n                    console.log('invalid arg', arg, args);\n                }\n            }\n        });\n        \n        return options;\n    };\n    \n    return rendererConfigHelper;\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA\n *\n */\ndefine('taoQtiItem/qtiItem/core/Element',[\n    'jquery',\n    'lodash',\n    'class',\n    'taoQtiItem/qtiItem/helper/util',\n    'taoQtiItem/qtiItem/helper/rendererConfig'\n], function($, _, Class, util, rendererConfig){\n    'use strict';\n\n    var _instances = {};\n\n    var Element = Class.extend({\n        qtiClass : '',\n        serial : '',\n        relatedItem : null,\n        init : function(serial, attributes){\n\n            //init own attributes\n            this.attributes = {};\n\n            //system properties, for item creator internal use only\n            this.metaData = {};\n\n            //init call in the format init(attributes)\n            if(typeof (serial) === 'object'){\n                attributes = serial;\n                serial = '';\n            }\n\n            if(!serial){\n                serial = util.buildSerial(this.qtiClass + '_');\n            }\n\n            if(serial && (typeof serial !== 'string' || !serial.match(/^[a-z_0-9]*$/i))){\n                throw 'invalid QTI serial : (' + (typeof serial) + ') ' + serial;\n            }\n\n            if(!_instances[serial]){\n                _instances[serial] = this;\n                this.serial = serial;\n                this.setAttributes(attributes || {});\n            }else{\n                throw 'a QTI Element with the same serial already exists ' + serial;\n            }\n\n            if(typeof this.initContainer === 'function'){\n                this.initContainer(arguments[2] || '');\n            }\n            if(typeof this.initObject === 'function'){\n                this.initObject();\n            }\n        },\n        is : function(qtiClass){\n            return (qtiClass === this.qtiClass);\n        },\n        placeholder : function(){\n            return '{{' + this.serial + '}}';\n        },\n        getSerial : function(){\n            return this.serial;\n        },\n        getUsedIdentifiers : function(){\n            var usedIds = {};\n            var elts = this.getComposingElements();\n            for(var i in elts){\n                var elt = elts[i];\n                var id = elt.attr('identifier');\n                if(id){\n                    //warning: simplistic implementation, allow only one unique identifier in the item no matter the element class/type\n                    usedIds[id] = elt;\n                }\n            }\n            return usedIds;\n        },\n\n        /**\n         * Get the ids in use. (id is different from identifier)\n         * @returns {Array} of the ids in use\n         */\n        getUsedIds : function getUsedIds(){\n            var usedIds = [];\n            _.forEach(this.getComposingElements(), function(elt){\n                var id = elt.attr('id');\n                if(id && !_.contains(usedIds, id)){\n                    usedIds.push(id);\n                }\n            });\n            return usedIds;\n        },\n\n        attr : function(name, value){\n            if(name){\n                if(value !== undefined){\n                    this.attributes[name] = value;\n                }else{\n                    if(typeof (name) === 'object'){\n                        for(var prop in name){\n                            this.attr(prop, name[prop]);\n                        }\n                    }else if(typeof (name) === 'string'){\n                        if(this.attributes[name] === undefined){\n                            return undefined;\n                        }else{\n                            return this.attributes[name];\n                        }\n                    }\n                }\n            }\n            return this;\n        },\n        data : function(name, value){\n            if(name){\n                if(value !== undefined){\n                    this.metaData[name] = value;\n                    $(document).trigger('metaChange.qti-widget', {element : this, key : name, value : value});\n                }else{\n                    if(typeof (name) === 'object'){\n                        for(var prop in name){\n                            this.data(prop, name[prop]);\n                        }\n                    }else if(typeof (name) === 'string'){\n                        if(this.metaData[name] === undefined){\n                            return undefined;\n                        }else{\n                            return this.metaData[name];\n                        }\n                    }\n                }\n            }\n            return this;\n        },\n        removeData : function(name){\n            delete this.metaData[name];\n            return this;\n        },\n        removeAttr : function(name){\n            return this.removeAttributes(name);\n        },\n        setAttributes : function(attributes){\n            this.attributes = attributes;\n            return this;\n        },\n        getAttributes : function(){\n            return _.clone(this.attributes);\n        },\n        removeAttributes : function(attrNames){\n            if(typeof (attrNames) === 'string'){\n                attrNames = [attrNames];\n            }\n            for(var i in attrNames){\n                delete this.attributes[attrNames[i]];\n            }\n            return this;\n        },\n        getComposingElements : function(){\n            var elts = {};\n            function append(element){\n                elts[element.getSerial()] = element;//pass individual object by ref, instead of the whole list(object)\n                elts = _.extend(elts, element.getComposingElements());\n            }\n            if(typeof this.initContainer === 'function'){\n                append(this.getBody());\n            }\n            if(typeof this.initObject === 'function'){\n                append(this.getObject());\n            }\n            _.each(this.metaData, function(v){\n                if(Element.isA(v, '_container')){\n                    append(v);\n                }else if(_.isArray(v)){\n                    _.each(v, function(v){\n                        if(Element.isA(v, '_container')){\n                            append(v);\n                        }\n                    });\n                }\n            });\n            return elts;\n        },\n        getUsedClasses : function(){\n\n            var ret = [this.qtiClass],\n                composingElts = this.getComposingElements();\n\n            _.each(composingElts, function(elt){\n                ret.push(elt.qtiClass);\n            });\n\n            return _.uniq(ret);\n        },\n        find : function(serial){\n\n            var found = null;\n\n            if(typeof this.initObject === 'function'){\n                var object = this.getObject();\n                if(object.serial === serial){\n                    found = {'parent' : this, 'element' : object, 'location' : 'object'};\n                }\n            }\n\n            if(!found && typeof this.initContainer === 'function'){\n                found = this.getBody().find(serial, this);\n            }\n\n            return found;\n        },\n        parent : function(){\n            var item = this.getRelatedItem();\n            if(item){\n                var found = item.find(this.getSerial());\n                if(found){\n                    return found.parent;\n                }\n            }\n            return null;\n        },\n        setRelatedItem : function(item, recursive){\n\n            recursive = (typeof recursive === 'undefined') ? true : recursive;\n\n            if(Element.isA(item, 'assessmentItem')){\n                this.relatedItem = item;\n                var composingElts = this.getComposingElements();\n                for(var i in composingElts){\n                    composingElts[i].setRelatedItem(item, false);\n                }\n            }\n\n        },\n        getRelatedItem : function(){\n            var ret = null;\n            if(Element.isA(this.relatedItem, 'assessmentItem')){\n                ret = this.relatedItem;\n            }\n            return ret;\n        },\n        setRenderer : function(renderer){\n            if(renderer && renderer.isRenderer){\n                this.renderer = renderer;\n                var elts = this.getComposingElements();\n                for(var serial in elts){\n                    elts[serial].setRenderer(renderer);\n                }\n            }else{\n                throw 'invalid qti rendering engine';\n            }\n        },\n        getRenderer : function(){\n            return this.renderer;\n        },\n        render : function(){\n\n            var args = rendererConfig.getOptionsFromArguments(arguments);\n            var _renderer = args.renderer || this.getRenderer();\n\n            var tplData = {},\n                defaultData = {\n                    'tag' : this.qtiClass,\n                    'serial' : this.serial,\n                    'attributes' : this.getAttributes()\n                };\n\n            if(!_renderer){\n                throw 'render: no renderer found for the element ' + this.qtiClass + ':' + this.serial;\n            }\n\n            if(typeof this.initContainer === 'function'){\n                //allow body to have a different renderer if it has its own renderer set\n                defaultData.body = this.getBody().render(args.renderer);\n            }\n            if(typeof this.initObject === 'function'){\n                defaultData.object = {\n                    attributes : this.object.getAttributes()\n                };\n                defaultData.object.attributes.data = _renderer.resolveUrl(this.object.attr('data'));\n            }\n\n            tplData = _.merge(defaultData, args.data || {});\n            tplData = _renderer.getData(this, tplData, args.subclass);\n            var rendering = _renderer.renderTpl(this, tplData, args.subclass);\n            if(args.placeholder){\n                args.placeholder.replaceWith(rendering);\n            }\n\n            return rendering;\n        },\n        postRender : function(data, altClassName, renderer){\n\n            var postRenderers = [];\n            var _renderer = renderer || this.getRenderer();\n\n            if(typeof this.initContainer === 'function'){\n                //allow body to have a different renderer if it has its own renderer set\n                postRenderers = this.getBody().postRender({}, '', renderer);\n            }\n\n            if(_renderer){\n                postRenderers.push(_renderer.postRender(this, data, altClassName));\n            }else{\n                throw 'postRender: no renderer found for the element ' + this.qtiClass + ':' + this.serial;\n            }\n\n            return _.compact(postRenderers);\n        },\n        getContainer : function($scope, subclass){\n            var renderer = this.getRenderer();\n            if(renderer){\n                return renderer.getContainer(this, $scope, subclass);\n            }else{\n                throw 'getContainer: no renderer found for the element ' + this.qtiClass + ':' + this.serial;\n            }\n        },\n        toArray : function(){\n            var arr = {\n                serial : this.serial,\n                type : this.qtiClass,\n                attributes : this.getAttributes()\n            };\n\n            if(typeof this.initContainer === 'function'){\n                arr.body = this.getBody().toArray();\n            }\n            if(typeof this.initObject === 'function'){\n                arr.object = this.object.toArray();\n            }\n\n            return arr;\n        },\n        isEmpty : function(){\n            //tells whether the element should be considered empty or not, from the rendering point of view\n            return false;\n        },\n        addClass : function(className){\n            var clazz = this.attr('class') || '';\n            if(!_containClass(clazz, className)){\n                this.attr('class', clazz + (clazz.length ? ' ' : '') + className);\n            }\n        },\n        hasClass : function(className){\n            return _containClass(this.attr('class'), className);\n        },\n        removeClass : function(className){\n\n            var clazz = this.attr('class') || '';\n            if(clazz){\n\n                var regex = new RegExp('(?:^|\\\\s)' + className + '(?:\\\\s|$)');\n                clazz = clazz.replace(regex, ' ').trim();\n\n                if(clazz){\n                    this.attr('class', clazz);\n                }else{\n                    this.removeAttr('class');\n                }\n            }\n        },\n        /**\n         * Add or remove class. Setting the optional state will force addition/removal.\n         * State is here to keep the jQuery syntax\n         *\n         * @param {String} className\n         * @param {Boolean} [state]\n         */\n        toggleClass : function(className, state) {\n\n            if(typeof state === 'boolean') {\n                return state ? this.addClass(className) : this.removeClass(className);\n            }\n\n            if(this.hasClass(className)) {\n                return this.removeClass(className);\n            }\n            return this.addClass(className);\n        },\n        isset : function(){\n            return Element.issetElement(this.serial);\n        },\n        unset : function(){\n            return Element.unsetElement(this.serial);\n        }\n    });\n\n    var _containClass = function(allClassStr, className){\n        var regex = new RegExp('(?:^|\\\\s)' + className + '(?:\\\\s|$)', '');\n        return allClassStr && regex.test(allClassStr);\n    };\n\n    //helpers\n    Element.isA = function(qtiElement, qtiClass){\n        return (qtiElement instanceof Element && qtiElement.is(qtiClass));\n    };\n\n    Element.getElementBySerial = function(serial){\n        return _instances[serial];\n    };\n\n    Element.issetElement = function(serial){\n        return !!_instances[serial];\n    };\n\n    /**\n     * Unset a registered element from it's serial\n     * @param {String} serial - the element serial\n     * @returns {Boolean} true if unset\n     */\n    Element.unsetElement = function(serial){\n\n        var element = Element.getElementBySerial(serial);\n\n        if(element){\n\n            var composingElements = element.getComposingElements();\n            _.each(composingElements, function(elt){\n                delete _instances[elt.serial];\n            });\n            delete _instances[element.serial];\n\n            return true;\n        }\n        return false;\n    };\n\n    return Element;\n});\n\n\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n *\n */\n//@todo : move this to the ../helper directory\ndefine('taoQtiItem/qtiItem/core/Loader',['lodash', 'class', 'taoQtiItem/qtiItem/core/qtiClasses', 'taoQtiItem/qtiItem/core/Element'], function(_, Class, qtiClasses, Element){\n\n    var Loader = Class.extend({\n        init : function(item, classesLocation){\n\n            this.qti = {}; //loaded qti classes are store here\n            this.classesLocation = {};\n\n            this.item = item || null;//starts either from scratch or with an existing item object\n            this.setClassesLocation(classesLocation || qtiClasses);//load default location for qti classes model\n        },\n        setClassesLocation : function(qtiClasses){\n            _.extend(this.classesLocation, qtiClasses);\n            return this;\n        },\n        getRequiredClasses : function(data){\n            var ret = [];\n            for(var i in data){\n                if(i === 'qtiClass' && data[i] !== '_container' && i !== 'relatedItem'){//although a _container is a concrete class in TAO, it is not defined in QTI standard\n                    ret.push(data[i]);\n                }else if(typeof(data[i]) === 'object' && i !== 'responseRules'){    //responseRules should'nt be part of the parsing\n                    ret = _.union(ret, this.getRequiredClasses(data[i]));\n                }\n            }\n            return ret;\n        },\n        loadRequiredClasses : function(data, callback, reload){\n\n            var requiredClasses = this.getRequiredClasses(data, reload), required = [];\n\n            for(var i in requiredClasses){\n                var requiredClass = requiredClasses[i];\n                if(this.classesLocation[requiredClass]){\n                    required.push(this.classesLocation[requiredClass]);\n                }else{\n                    throw new Error('missing qti class location declaration : ' + requiredClass);\n                }\n            }\n\n            var _this = this;\n            require(required, function(){\n                _.each(arguments, function(QtiClass){\n                    _this.qti[QtiClass.prototype.qtiClass] = QtiClass;\n                });\n                callback.call(_this, _this.qti);\n            });\n        },\n        getLoadedClasses : function(){\n            return _.keys(this.qti);\n        },\n        loadItemData : function(data, callback){\n\n            var _this = this;\n            _this.loadRequiredClasses(data, function(Qti){\n                var i;\n                if(typeof(data) === 'object' && data.qtiClass === 'assessmentItem'){\n\n                    //unload an item from it's serial (in case of a reload)\n                    if(data.serial){\n                        Element.unsetElement(data.serial);\n                    }\n\n                    _this.item = new Qti.assessmentItem(data.serial, data.attributes || {});\n                    _this.loadContainer(_this.item.getBody(), data.body);\n\n                    for(i in data.outcomes){\n                        var outcome = _this.buildOutcome(data.outcomes[i]);\n                        if(outcome){\n                            _this.item.addOutcomeDeclaration(outcome);\n                        }\n                    }\n                    for(i in data.feedbacks){\n                        var feedback = _this.buildElement(data.feedbacks[i]);\n                        if(feedback){\n                            _this.item.addModalFeedback(feedback);\n                        }\n                    }\n                    for(i in data.stylesheets){\n                        var stylesheet = _this.buildElement(data.stylesheets[i]);\n                        if(stylesheet){\n                            _this.item.addStylesheet(stylesheet);\n                        }\n                    }\n                    \n                    //important : build responses after all modal feedbacks and outcomes has been loaded, because the simple feedback rules need to reference them\n                    for(i in data.responses){\n                        var response = _this.buildResponse(data.responses[i]);\n                        if(response){\n                            _this.item.addResponseDeclaration(response);\n\n                            var feedbackRules = data.responses[i].feedbackRules;\n                            if(feedbackRules){\n                                _.forIn(feedbackRules, function(fbData, serial){\n                                    response.feedbackRules[serial] = _this.buildSimpleFeedbackRule(fbData, response);\n                                });\n                            }\n                        }\n                    }\n                    \n                    if(data.responseProcessing){\n                        _this.item.setResponseProcessing(_this.buildResponseProcessing(data.responseProcessing));\n                    }\n                    _this.item.setNamespaces(data.namespaces);\n                    _this.item.setSchemaLocations(data.schemaLocations);\n                    _this.item.setApipAccessibility(data.apipAccessibility);\n                }\n\n                if(typeof(callback) === 'function'){\n                    callback.call(_this, _this.item);\n                }\n            });\n        },\n        loadAndBuildElement : function(data, callback){\n\n            var _this = this;\n\n            _this.loadRequiredClasses(data, function(Qti){\n\n                var element = _this.buildElement(data);\n\n                if(typeof(callback) === 'function'){\n                    callback.call(_this, element);\n                }\n            });\n        },\n        loadElement : function(element, data, callback){\n\n            var _this = this;\n            this.loadRequiredClasses(data, function(){\n                _this.loadElementData(element, data);\n                if(typeof(callback) === 'function'){\n                    callback.call(_this, element);\n                }\n            });\n        },\n        /**\n         * Load ALL given elements into existing loaded item\n         *\n         * @todo to be renamed to loadItemElements\n         * @param {object} data\n         * @param {function} callback\n         * @returns {undefined}\n         */\n        loadElements : function(data, callback){\n\n            var _this = this;\n\n            if(_this.item){\n\n                this.loadRequiredClasses(data, function(){\n\n                    var allElements = _this.item.getComposingElements();\n\n                    for(var i in data){\n                        var elementData = data[i];\n                        if(elementData && elementData.qtiClass && elementData.serial){\n                            //find and update element\n                            if(allElements[elementData.serial]){\n                                _this.loadElementData(allElements[elementData.serial], elementData);\n                            }\n                        }\n                    }\n\n                    if(typeof(callback) === 'function'){\n                        callback.call(_this, _this.item);\n                    }\n                });\n            }else{\n                throw 'QtiLoader : cannot load elements in empty item';\n            }\n\n        },\n        buildResponse : function(data){\n\n            var response = this.buildElement(data);\n\n            response.template = data.howMatch || null;\n            response.defaultValue = data.defaultValue || null;\n            response.correctResponse = data.correctResponses || null;\n\n            if(_.size(data.mapping)){\n                response.mapEntries = data.mapping;\n            }else if(_.size(data.areaMapping)){\n                response.mapEntries = data.areaMapping;\n            }else{\n                response.mapEntries = {};\n            }\n\n            response.mappingAttributes = data.mappingAttributes || {};\n\n            return response;\n        },\n        buildSimpleFeedbackRule : function(data, response){\n\n            var feedbackRule = this.buildElement(data);\n            \n            feedbackRule.setCondition(response, data.condition, data.comparedValue || null);\n            \n//            feedbackRule.comparedOutcome = this.item.responses[data.comparedOutcome] || null;\n            feedbackRule.feedbackOutcome = this.item.outcomes[data.feedbackOutcome] || null;\n            feedbackRule.feedbackThen = this.item.modalFeedbacks[data.feedbackThen] || null;\n            feedbackRule.feedbackElse = this.item.modalFeedbacks[data.feedbackElse] || null;\n            \n            //associate the compared outcome to the feedbacks if applicable\n            var response = feedbackRule.comparedOutcome;\n            if(feedbackRule.feedbackThen){\n                feedbackRule.feedbackThen.data('relatedResponse', response);\n            }\n            if(feedbackRule.feedbackElse){\n                feedbackRule.feedbackElse.data('relatedResponse', response);\n            }\n            \n            return feedbackRule;\n        },\n        buildOutcome : function(data){\n            var outcome = this.buildElement(data);\n            outcome.defaultValue = data.defaultValue || null;\n            return outcome;\n        },\n        buildResponseProcessing : function(data){\n            var rp = this.buildElement(data);\n            if(data && data.processingType){\n                if(data.processingType === 'custom'){\n                    rp.xml = data.data;\n                    rp.processingType = 'custom';\n                }else{\n                    rp.processingType = 'templateDriven';\n                }\n            }\n            return rp;\n        },\n        loadContainer : function(bodyObject, bodyData){\n            if(!Element.isA(bodyObject, '_container')){\n                throw 'bodyObject must be a QTI Container';\n            }\n\n            if(bodyData && typeof bodyData.body === 'string' && (typeof bodyData.elements === 'array' || typeof bodyData.elements === 'object')){\n                for(var serial in bodyData.elements){\n                    var eltData = bodyData.elements[serial];\n                    //check if class is loaded:\n                    var element = this.buildElement(eltData);\n                    if(element){\n                        bodyObject.setElement(element, bodyData.body);\n                    }\n                }\n                bodyObject.body(bodyData.body);\n            }else{\n                throw 'wrong bodydata format';\n            }\n        },\n        buildElement : function(elementData){\n            var elt = null;\n            if(elementData && elementData.qtiClass && elementData.serial){\n                var className = elementData.qtiClass;\n                if(this.qti[className]){\n                    elt = new this.qti[className](elementData.serial);\n                    this.loadElementData(elt, elementData);\n                }else{\n                    throw 'the qti element class does not exist: ' + className;\n                }\n            }else{\n                throw 'wrong elementData format';\n            }\n            return elt;\n        },\n        loadElementData : function(element, data){\n\n            //merge attributes when loading element data\n            var attributes = _.defaults(data.attributes || {}, element.attributes || {});\n            element.setAttributes(attributes);\n\n            if(element.body && data.body){\n                if(element.bdy){\n                    this.loadContainer(element.getBody(), data.body);\n                }\n            }\n\n            if(element.object && data.object){\n                if(element.object){\n                    this.loadObjectData(element.object, data.object);\n                }\n            }\n\n            if(Element.isA(element, 'interaction')){\n                this.loadInteractionData(element, data);\n            }else if(Element.isA(element, 'choice')){\n                this.loadChoiceData(element, data);\n            }else if(Element.isA(element, 'math')){\n                this.loadMathData(element, data);\n            }else if(Element.isA(element, 'infoControl')){\n                this.loadPicData(element, data);\n            }\n\n            return element;\n        },\n        loadInteractionData : function(interaction, data){\n            if(Element.isA(interaction, 'blockInteraction')){\n                if(data.prompt){\n                    this.loadContainer(interaction.prompt.getBody(), data.prompt);\n                }\n            }\n\n            this.buildInteractionChoices(interaction, data);\n\n            if(Element.isA(interaction, 'customInteraction')){\n                this.loadPciData(interaction, data);\n            }\n        },\n        buildInteractionChoices : function(interaction, data){\n\n            //note: Qti.ContainerInteraction (Qti.GapMatchInteraction and Qti.HottextInteraction) has already been parsed by builtElement(interacionData);\n            if(data.choices){\n                if(Element.isA(interaction, 'matchInteraction')){\n                    for(var set = 0; set < 2; set++){\n                        if(!data.choices[set]){\n                            throw 'missing match set #' + set;\n                        }\n                        var matchSet = data.choices[set];\n                        for(var serial in matchSet){\n                            var choice = this.buildElement(matchSet[serial]);\n                            if(choice){\n                                interaction.addChoice(choice, set);\n                            }\n                        }\n                    }\n                }else{\n                    for(var serial in data.choices){\n                        var choice = this.buildElement(data.choices[serial]);\n                        if(choice){\n                            interaction.addChoice(choice);\n                        }\n                    }\n                }\n\n                if(Element.isA(interaction, 'graphicGapMatchInteraction')){\n                    if(data.gapImgs){\n                        for(var serial in data.gapImgs){\n                            var gapImg = this.buildElement(data.gapImgs[serial]);\n                            if(gapImg){\n                                interaction.addGapImg(gapImg);\n                            }\n                        }\n                    }\n                }\n\n            }\n\n        },\n        loadChoiceData : function(choice, data){\n            if(Element.isA(choice, 'textVariableChoice')){\n                choice.val(data.text);\n            }else if(Element.isA(choice, 'gapImg')){\n                //has already been taken care of in buildElement()\n            }else if(Element.isA(choice, 'containerChoice')){\n                //has already been taken care of in buildElement()\n            }\n        },\n        loadObjectData : function(object, data){\n            object.setAttributes(data.attributes);\n            //@todo: manage object like a container\n            if(data._alt){\n                if(data._alt.qtiClass === 'object'){\n                    object._alt = Loader.buildElement(data._alt);\n                }else{\n                    object._alt = data._alt;\n                }\n            }\n        },\n        loadMathData : function(math, data){\n            math.ns = data.ns || {};\n            math.setMathML(data.mathML || '');\n            _.forIn(data.annotations || {}, function(value, encoding){\n                math.setAnnotation(encoding, value);\n            });\n        },\n        loadPciData : function(pci, data){\n            loadPortableCustomElementData(pci, data);\n        },\n        loadPicData : function(pic, data){\n            loadPortableCustomElementData(pic, data);\n        }\n    });\n\n    function loadPortableCustomElementData(portableElement, data){\n        portableElement.typeIdentifier = data.typeIdentifier;\n        portableElement.markup = data.markup;\n        portableElement.entryPoint = data.entryPoint;\n        portableElement.properties = data.properties;\n        portableElement.libraries = data.libraries;\n    }\n\n    return Loader;\n});\n\n","/**\n * Common helper functions\n */\ndefine('taoQtiItem/qtiItem/helper/interactionHelper',['lodash', 'taoQtiItem/qtiItem/core/Element'], function(_, Element){\n    return {\n        convertChoices : function(choices, outputType){\n\n            var ret = [], _this = this;\n\n            _.each(choices, function(c){\n                if(Element.isA(c, 'choice')){\n                    switch(outputType){\n                        case 'serial':\n                            ret.push(c.getSerial());\n                            break;\n                        case 'identifier':\n                            ret.push(c.id());\n                            break;\n                        default:\n                            ret.push(c);\n                    }\n\n                }else if(_.isArray(c)){\n                    ret.push(_this.convertChoices(c, outputType));\n                }\n            });\n\n            return ret;\n        },\n        findChoices : function(interaction, choices, inputType){\n\n            var ret = [], _this = this;\n\n            _.each(choices, function(c){\n                var choice;\n                if(_.isString(c)){\n                    if(inputType === 'serial'){\n                        choice = interaction.getChoice(c);\n                        if(choice){\n                            ret.push(choice);\n                        }\n                    }else if(inputType === 'identifier'){\n                        choice = interaction.getChoiceByIdentifier(c);\n                        if(choice){\n                            ret.push(choice);\n                        }\n                    }else{\n                        ret.push(c);\n                    }\n                }else if(_.isArray(c)){\n                    ret.push(_this.findChoices(interaction, c, inputType));\n                }else{\n                    ret.push(c);\n                }\n            });\n\n            return ret;\n        },\n        shuffleChoices : function(choices){\n            var r = [], //returned array\n                f = {}, //fixed choices array\n                j = 0;\n\n            for(var i in choices){\n                if(Element.isA(choices[i], 'choice')){\n                    var choice = choices[i];\n                    if(choice.attr('fixed')){\n                        f[j] = choice;\n                    }\n                    r.push(choice);\n                    j++;\n                }else{\n                    throw 'invalid element in array: is not a qti choice';\n                }\n            }\n\n            for(var n = 0; n < r.length - 1; n++){\n                if(f[n]){\n                    continue;\n                }\n                var k = -1;\n                do{\n                    k = n + Math.floor(Math.random() * (r.length - n));\n                }while(f[k]);\n                var tmp = r[k];\n                r[k] = r[n];\n                r[n] = tmp;\n            }\n\n            return r;\n        },\n        serialToIdentifier : function(interaction, choiceSerial){\n            var choice = interaction.getChoice(choiceSerial);\n            if(choice){\n                return choice.id();\n            }else{\n                return '';\n            }\n        }\n    }\n});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technlogies SA (under the project TAO-PRODUCT);\n *\n */\n\n/**\n * A factory to create a QTI renderer.\n *\n * @author Sam Sipasseuth <sam@taotesting.com>\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiItem/qtiRunner/core/Renderer',[\n    'lodash',\n    'jquery',\n    'handlebars',\n    'core/promise',\n    'taoQtiItem/qtiItem/core/Element',\n    'taoQtiItem/qtiItem/helper/interactionHelper',\n    'ui/themeLoader'\n], function(_, $, Handlebars, Promise, Element, interactionHelper, themeLoader){\n    'use strict';\n\n    var _isValidRenderer = function(renderer){\n\n        var valid = true;\n\n        if(typeof (renderer) !== 'object'){\n            return false;\n        }\n\n        var classCorrect = false;\n        if(renderer.qtiClass){\n            if(_.indexOf(_renderableClasses, renderer.qtiClass) >= 0){\n                classCorrect = true;\n            }else{\n                var pos = renderer.qtiClass.indexOf('.');\n                if(pos > 0){\n                    var qtiClass = renderer.qtiClass.slice(0, pos);\n                    var subClass = renderer.qtiClass.slice(pos + 1);\n                    if(_renderableSubclasses[qtiClass] && _.indexOf(_renderableSubclasses[qtiClass], subClass) >= 0){\n                        classCorrect = true;\n                    }\n                }\n            }\n        }\n        if(!classCorrect){\n            valid = false;\n            throw new Error('invalid qti class name in renderer declaration : ' + renderer.qtiClass);\n        }\n\n        if(!renderer.template){\n            valid = false;\n            throw new Error('missing template in renderer declaration : ' + renderer.qtiClass);\n        }\n\n        return valid;\n    };\n\n    var _renderableClasses = [\n        '_container',\n        'assessmentItem',\n        'stylesheet',\n        'responseDeclaration',\n        'outcomeDeclaration',\n        'responseProcessing',\n        '_simpleFeedbackRule',\n        'img',\n        'math',\n        'object',\n        'modalFeedback',\n        'rubricBlock',\n        'associateInteraction',\n        'choiceInteraction',\n        'extendedTextInteraction',\n        'gapMatchInteraction',\n        'graphicAssociateInteraction',\n        'graphicGapMatchInteraction',\n        'graphicOrderInteraction',\n        'hotspotInteraction',\n        'hottextInteraction',\n        'inlineChoiceInteraction',\n        'matchInteraction',\n        'mediaInteraction',\n        'orderInteraction',\n        'selectPointInteraction',\n        'sliderInteraction',\n        'textEntryInteraction',\n        'uploadInteraction',\n        'endAttemptInteraction',\n        'customInteraction',\n        'prompt',\n        'associableHotspot',\n        'gap',\n        'gapImg',\n        'gapText',\n        'hotspotChoice',\n        'hottext',\n        'inlineChoice',\n        'simpleAssociableChoice',\n        'simpleChoice',\n        'infoControl',\n        'include'\n    ];\n\n    /**\n     * The list of qti element dependencies. It is used internally to load dependent qti classes\n     */\n    var _dependencies = {\n        assessmentItem : ['stylesheet', '_container', 'prompt', 'modalFeedback'],\n        rubricBlock : ['_container'],\n        associateInteraction : ['simpleAssociableChoice'],\n        choiceInteraction : ['simpleChoice'],\n        gapMatchInteraction : ['gap', 'gapText'],\n        graphicAssociateInteraction : ['associableHotspot'],\n        graphicGapMatchInteraction : ['associableHotspot', 'gapImg'],\n        graphicOrderInteraction : ['hotspotChoice'],\n        hotspotInteraction : ['hotspotChoice'],\n        hottextInteraction : ['hottext'],\n        inlineChoiceInteraction : ['inlineChoice'],\n        matchInteraction : ['simpleAssociableChoice'],\n        orderInteraction : ['simpleChoice']\n    };\n\n    /**\n     * The list of supported qti subclasses.\n     */\n    var _renderableSubclasses = {\n        'simpleAssociableChoice' : ['associateInteraction', 'matchInteraction'],\n        'simpleChoice' : ['choiceInteraction', 'orderInteraction']\n    };\n\n    /**\n     * List of the default properties for the item\n     */\n    var _defaults = {\n        shuffleChoices : true\n    };\n\n    /**\n     * Get the location of the document, useful to define a baseUrl for the required context\n     * @returns {String}\n     */\n    function getDocumentBaseUrl(){\n        return window.location.protocol + '//' + window.location.host + window.location.pathname.replace(/([^\\/]*)$/, '');\n    }\n\n    /**\n     * The built Renderer class\n     * @constructor\n     * @param {Object} [options] - the renderer options\n     * @param {AssetManager} [options.assetManager] - The renderer needs an AssetManager to resolve URLs (see {@link taoItems/assets/manager})\n     * @param {Boolean} [options.shuffleChoices = true] - Does the renderer take care of the shuffling\n     * @param {Object} [options.decorators] - to set up rendering decorator\n     * @param {preRenderDecorator} [options.decorators.before] - to set up a pre decorator\n     * @param {postRenderDecorator} [options.decorators.after] - to set up a post decorator\n     */\n    var Renderer = function(options){\n\n        /**\n         * Store the registered renderer location\n         */\n        var _locations = {};\n\n        /**\n         * Store loaded renderers\n         */\n        var _renderers = {};\n\n        options = _.defaults(options || {}, _defaults);\n\n        this.isRenderer = true;\n\n        this.name = '';\n\n        //store shuffled choice here\n        this.shuffledChoices = [];\n\n        /**\n         * Get the actual renderer of the give qti class or subclass:\n         * e.g. simplceChoice, simpleChoice.choiceInteraction, simpleChoice.orderInteraction\n         */\n        var _getClassRenderer = function(qtiClass){\n            var ret = null;\n            if(_renderers[qtiClass]){\n                ret = _renderers[qtiClass];\n            }else{\n                var pos = qtiClass.indexOf('.');\n                if(pos > 0){\n                    qtiClass = qtiClass.slice(0, pos);\n                    if(_renderers[qtiClass]){\n                        ret = _renderers[qtiClass];\n                    }\n                }\n            }\n            return ret;\n        };\n\n        /**\n         * Set the renderer options\n         * @param {String} key - the name of the option\n         * @param {*} value - the option vallue\n         * @returns {Renderer} for chaining\n         */\n        this.setOption = function(key, value){\n            if(typeof (key) === 'string'){\n                options[key] = value;\n            }\n            return this;\n        };\n\n        /**\n         * Set the renderer options\n         * @param {Object} opts - the options\n         * @returns {Renderer} for chaining\n         */\n        this.setOptions = function(opts){\n            options = _.extend(options, opts);\n            return this;\n        };\n\n        /**\n         * Get the renderer option\n         * @param {String} key - the name of the option\n         * @returns {*|null} the option vallue\n         */\n        this.getOption = function(key){\n            if(typeof (key) === 'string' && options[key]){\n                return options[key];\n            }\n            return null;\n        };\n\n        /**\n         * Get the bound assetManager\n         * @returns {AssetManager} the assetManager\n         */\n        this.getAssetManager = function getAssetManager(){\n            return options.assetManager;\n        };\n\n        /**\n         * Get the bound theme loader\n         * @returns {Object} the themeLoader\n         */\n        this.getThemeLoader = function getThemeLoader(){\n            return this.themeLoader;\n        };\n\n\n        /**\n         * Renders the template\n         * @param {Object} element - the QTI model element\n         * @param {Object} data - the data to give to the template\n         * @param {String} [qtiSubclass] - to get the render of the element subclass (when element's qtiClass is abstract)\n         * @returns {String} the template results\n         * @throws {Error} if the renderer is not set or has no template bound\n         */\n        this.renderTpl = function(element, data, qtiSubclass){\n\n            var res;\n            var ret        = '';\n            var tplFound   = false;\n            var qtiClass   = qtiSubclass || element.qtiClass;\n            var renderer   = _getClassRenderer(qtiClass);\n            var decorators = this.getOption('decorators');\n\n            if(!renderer || !_.isFunction(renderer.template)){\n                throw new Error('no renderer template loaded under the class name : ' + qtiClass);\n            }\n\n            //pre rendering decoration\n            if(_.isObject(decorators) && _.isFunction(decorators.before)){\n\n                /**\n                 * @callback preRenderDecoractor\n                 * @param {Object} element - the QTI model element\n                 * @param {String} [qtiSubclass] - to get the render of the element subclass (when element's qtiClass is abstract)\n                 * @returns {String} the decorator result\n                 */\n                res = decorators.before(element, qtiSubclass);\n                if(_.isString(res)){\n                    ret += res;\n                }\n            }\n\n            //render the template\n            ret += renderer.template(data);\n\n\n            //post rendering decoration\n            if(_.isObject(decorators) && _.isFunction(decorators.after)){\n\n                /**\n                 * @callback postRenderDecoractor\n                 * @param {Object} element - the QTI model element\n                 * @param {String} [qtiSubclass] - to get the render of the element subclass (when element's qtiClass is abstract)\n                 * @returns {String} the decorator result\n                 */\n                res = decorators.after(element, qtiSubclass);\n                if(_.isString(res)){\n                    ret += res;\n                }\n            }\n            return ret;\n        };\n\n        this.getData = function(element, data, qtiSubclass){\n\n            var ret = data,\n                qtiClass = qtiSubclass || element.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(typeof (renderer.getData) === 'function'){\n                    ret = renderer.getData.call(this, element, data);\n                }\n            }\n\n            return ret;\n        };\n\n        this.renderDirect = function(tpl, data){\n            return Handlebars.compile(tpl)(data);\n        };\n\n        this.getContainer = function(qtiElement, $scope, qtiSubclass){\n\n            var ret = null,\n                qtiClass = qtiSubclass || qtiElement.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                ret = renderer.getContainer(qtiElement, $scope);\n            }else{\n                throw 'no renderer found for the class : ' + qtiElement.qtiClass;\n            }\n            return ret;\n        };\n\n        this.postRender = function(qtiElement, data, qtiSubclass){\n\n            var qtiClass = qtiSubclass || qtiElement.qtiClass;\n            var renderer = _getClassRenderer(qtiClass);\n\n            if(renderer && typeof (renderer.render) === 'function') {\n                return renderer.render.call(this, qtiElement, data);\n            }\n        };\n\n        this.setResponse = function(qtiInteraction, response, qtiSubclass){\n\n            var ret = false,\n                qtiClass = qtiSubclass || qtiInteraction.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(typeof (renderer.setResponse) === 'function'){\n                    ret = renderer.setResponse.call(this, qtiInteraction, response);\n                    var $container = renderer.getContainer.call(this, qtiInteraction);\n                    if($container instanceof $ && $container.length){\n                        $container.trigger('responseSet', [qtiInteraction, response]);\n                    }\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        this.getResponse = function(qtiInteraction, qtiSubclass){\n\n            var ret = false,\n                qtiClass = qtiSubclass || qtiInteraction.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(typeof (renderer.getResponse) === 'function'){\n                    ret = renderer.getResponse.call(this, qtiInteraction);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        this.resetResponse = function(qtiInteraction, qtiSubclass){\n\n            var ret = false,\n                qtiClass = qtiSubclass || qtiInteraction.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(typeof (renderer.resetResponse) === 'function'){\n                    ret = renderer.resetResponse.call(this, qtiInteraction);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        /**\n         * Retrieve the state of the interaction.\n         * If the renderer has no state management, it falls back to the response management.\n         *\n         * @param {Object} qtiInteraction - the interaction\n         * @param {String} [qtiSubClass] - (not sure of the type and how it is used - Sam ? )\n         * @returns {Object} the interaction's state\n         *\n         * @throws {Error} if no renderer is registered\n         */\n        this.getState = function(qtiInteraction, qtiSubclass){\n\n            var ret = false;\n            var qtiClass = qtiSubclass || qtiInteraction.qtiClass;\n            var renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(_.isFunction(renderer.getState)){\n                    ret = renderer.getState.call(this, qtiInteraction);\n                } else {\n                    ret = renderer.getResponse.call(this, qtiInteraction);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        /**\n         * Retrieve the state of the interaction.\n         * If the renderer has no state management, it falls back to the response management.\n         *\n         * @param {Object} qtiInteraction - the interaction\n         * @param {Object} state - the interaction's state\n         * @param {String} [qtiSubClass] - (not sure of the type and how it is used - Sam ? )\n         *\n         * @throws {Error} if no renderer is found\n         */\n        this.setState =  function(qtiInteraction, state, qtiSubclass){\n\n            var qtiClass = qtiSubclass || qtiInteraction.qtiClass;\n            var renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(_.isFunction(renderer.setState)){\n                    renderer.setState.call(this, qtiInteraction, state);\n                } else {\n                    renderer.resetResponse.call(this, qtiInteraction);\n                    renderer.setResponse.call(this, qtiInteraction, state);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n        };\n\n        /**\n         * Calls the renderer destroy.\n         * Ask the renderer to run destroy if exists.\n         *\n         * @throws {Error} if no renderer is found\n         */\n        this.destroy = function(qtiInteraction, qtiSubclass){\n\n            var ret = false,\n                qtiClass = qtiSubclass || qtiInteraction.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(_.isFunction(renderer.destroy)){\n                    ret = renderer.destroy.call(this, qtiInteraction);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        this.getLoadedRenderers = function(){\n            return _renderers;\n        };\n\n        this.register = function(renderersLocations){\n            _.extend(_locations, renderersLocations);\n        };\n\n        this.load = function(callback, requiredClasses){\n           var self = this;\n            var required = [];\n\n            if(options.themes){\n\n                //resolve themes paths\n                options.themes.base = this.resolveUrl(options.themes.base);\n                _.forEach(options.themes.available, function(theme, index){\n                    options.themes.available[index].path = self.resolveUrl(theme.path);\n                });\n                this.themeLoader = themeLoader(options.themes).load();\n            }\n\n            if(requiredClasses){\n                if(_.isArray(requiredClasses)){\n\n                    //exclude abstract classes\n                    requiredClasses = _.intersection(requiredClasses, _renderableClasses);\n\n                    //add dependencies\n                    _.each(requiredClasses, function(reqClass){\n                        var deps = _dependencies[reqClass];\n                        if(deps){\n                            requiredClasses = _.union(requiredClasses, deps);\n                        }\n                    });\n\n                    _.forEach(requiredClasses, function(qtiClass){\n\n                        if(_renderableSubclasses[qtiClass]){\n                            var requiredSubClasses = _.intersection(requiredClasses, _renderableSubclasses[qtiClass]);\n                            _.each(requiredSubClasses, function(subclass){\n                                if(_locations[qtiClass + '.' + subclass]){\n                                    required.push(_locations[qtiClass + '.' + subclass]);\n                                }else if(_locations[qtiClass]){\n                                    required.push(_locations[qtiClass]);\n                                }else{\n                                    throw new Error(self.name + ' : missing qti class location declaration: ' + qtiClass + ', subclass: ' + subclass);\n                                }\n                            });\n                        } else {\n                            if(_locations[qtiClass] === false){\n                                _renderers[qtiClass] = false;//mark this class as not renderable\n                            }else if(_locations[qtiClass]){\n                                required.push(_locations[qtiClass]);\n                            }else{\n                                throw new Error(self.name + ' : missing qti class location declaration: ' + qtiClass);\n                            }\n                        }\n                    });\n                } else {\n                    throw new Error('invalid argument type: expected array for arg \"requireClasses\"');\n                }\n\n            }else{\n                required = _.values(_locations);\n            }\n\n            var _this = this;\n            require(required, function(){\n\n                _.each(arguments, function(clazz){\n                    if(_isValidRenderer(clazz)){\n                        _renderers[clazz.qtiClass] = clazz;\n                    }\n                });\n\n                if(typeof (callback) === 'function'){\n                    callback.call(_this, _renderers);\n                }\n            });\n\n            return this;\n        };\n\n        /**\n         * Unload the renderer\n         */\n        this.unload = function unload(){\n            if(this.themeLoader){\n                themeLoader(options.themes).unload();\n            }\n            return this;\n        };\n\n        /**\n         * Define the shuffling manually\n         *\n         * @param {Object} interaction - the interaction\n         * @param {Array} choices - the shuffled choices\n         * @param {String} identificationType -\n         */\n        this.setShuffledChoices = function(interaction, choices, identificationType){\n            if(Element.isA(interaction, 'interaction')){\n                this.shuffledChoices[interaction.getSerial()] = _.pluck(interactionHelper.findChoices(interaction, choices, identificationType), 'serial');\n            }\n        };\n\n        /**\n         * Get the choices shuffled for this interaction.\n         *\n         * @param {Object} interaction - the interaction\n         * @param {Boolean} reshuffle - by default choices are shuffled only once and store, but if true you can force shuffling again\n         * @param {String} returnedType - the choice type\n         * @returns {Array} the choices\n         */\n        this.getShuffledChoices = function(interaction, reshuffle, returnedType){\n            var choices = [];\n            var shuffled = [];\n            var serial, i;\n\n            if(Element.isA(interaction, 'interaction')){\n                serial = interaction.getSerial();\n\n                //1st time, we shuffle (or asked to force shuffling)\n                if(!this.shuffledChoices[serial] || reshuffle){\n                    if(Element.isA(interaction, 'matchInteraction')){\n                        this.shuffledChoices[serial] = [];\n                        for(i = 0; i < 2; i++){\n                            choices[i] = interactionHelper.shuffleChoices(interaction.getChoices(i));\n                            this.shuffledChoices[serial][i] = _.pluck(choices[i], 'serial');\n                        }\n                    } else {\n                        choices = interactionHelper.shuffleChoices(interaction.getChoices());\n                        this.shuffledChoices[serial] = _.pluck(choices, 'serial');\n                    }\n\n                //otherwise get the choices from the serials\n                } else {\n                    if(Element.isA(interaction, 'matchInteraction')){\n                        _.forEach(choices, function(choice, index){\n                            if(index < 2){\n                                _.forEach(this.shuffledChoices[serial][i], function(choiceSerial){\n                                    choice.push(interaction.getChoice(choiceSerial));\n                                });\n                            }\n                        });\n                    } else {\n                        _.forEach(this.shuffledChoices[serial], function(choiceSerial){\n                            choices.push(interaction.getChoice(choiceSerial));\n                        });\n                    }\n                }\n\n                //do some type convertion\n                if(returnedType === 'serial' || returnedType === 'identifier'){\n                    return interactionHelper.convertChoices(choices, returnedType);\n                }\n\n                //pass value only, not ref\n                return _.clone(choices);\n            }\n\n            return [];\n        };\n\n        this.getRenderers = function(){\n            return _renderers;\n        };\n\n        this.getLocations = function(){\n            return _locations;\n        };\n\n        /**\n         * Resolve URLs using the defined assetManager's strategies\n         * @param {String} url - the URL to resolve\n         * @returns {String} the resolved URL\n         */\n        this.resolveUrl = function resolveUrl(url){\n            if(!options.assetManager){\n                return url;\n            }\n            if(typeof url === 'string' && url.length > 0){\n                return options.assetManager.resolve(url);\n            }\n        };\n\n        /**\n         * @deprecated in favor of resolveUrl\n         */\n        this.getAbsoluteUrl = function(relUrl){\n\n            //let until method is removed\n            console.warn('DEPRECATED used getAbsoluteUrl with ', arguments);\n\n            //allow relative url output only if explicitely said so\n            if(this.getOption('userRelativeUrl')){\n                return relUrl.replace(/^\\.?\\//, '');\n            }\n\n            if(/^http(s)?:\\/\\//i.test(relUrl) || /^data:[^\\/]+\\/[^;]+(;charset=[\\w]+)?;base64,/.test(relUrl)){\n                //already absolute or base64 encoded\n                return relUrl;\n            }else{\n\n                var absUrl = '';\n                var runtimeLocations = this.getOption('runtimeLocations');\n\n                if(runtimeLocations && _.size(runtimeLocations)){\n                    _.forIn(runtimeLocations, function(runtimeLocation, typeIdentifier){\n                        if(relUrl.indexOf(typeIdentifier) === 0){\n                            absUrl = relUrl.replace(typeIdentifier, runtimeLocation);\n                            return false;//break\n                        }\n                    });\n                }\n\n                if(absUrl){\n                    return absUrl;\n                }else{\n                    var baseUrl = this.getOption('baseUrl') || getDocumentBaseUrl();\n                    return baseUrl + relUrl;\n                }\n\n            }\n        };\n    };\n\n    /**\n     * Expose the renderer's factory\n     * @exports taoQtiItem/qtiRunner/core/Renderer\n     */\n    return {\n\n        /**\n         * Creates a new Renderer by extending the Renderer's prototype\n         * @param {Object} renderersLocations -\n         * @param {String} [name] - the new renderer name\n         * @param {Object} [defaultOptions] - the renderer options\n         */\n        build : function(renderersLocations, name, defaultOptions){\n            var NewRenderer = function(){\n                var options = _.isPlainObject(arguments[0]) ? arguments[0] : {};\n\n                Renderer.apply(this);\n\n                this.register(renderersLocations);\n                this.name = name || '';\n                this.setOptions(_.defaults(options, defaultOptions || {}));\n            };\n            NewRenderer.prototype = Renderer.prototype;\n            return NewRenderer;\n        }\n    };\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n *\n */\n\n/**\n * The asset manager proposes you to resolve your asset URLs for you!\n * You need to add the resolution strategies, it will then evaluate each strategy until the right one is found\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoItems/assets/manager',[\n    'lodash',\n    'util/url'\n], function(_, urlUtil){\n    'use strict';\n\n    /**\n     * @typedef AssetStrategy Defines a way to resolve an asset path\n     * @property {String} name - the strategy name\n     * @property {assetStrategyHandle} handle - how to resolve the strategy.\n     */\n\n    /**\n     * @callback assetStrategyHandle\n     * @param {String|Object} url - the URL to resolved. If parseUrl, it's an object that contains host, port, search, queryString, etc.\n     * @param {Object} data - the context data\n     * @returns {String?} falsy if not resolved otherwise the resolved URL\n     */\n\n\n    /**\n     * The assetManagerFactory create a new assetManager with the given resolution stratgies and a data context.\n     *\n     * @example\n     *   //define AssetStrategies with a name and a handle method\n     *   var strategies = [{\n     *       name : 'external',\n     *       handle : function(url, data){\n     *           if(/^http/.test(url)){\n     *               return path;\n     *           }\n     *       }\n     *   }, {\n     *       name : 'relative',\n     *       handle : function(url, data){\n     *           if(/^((\\.\\/)|(\\w\\/))/){\n     *               return data.baseUrl + '/' + url ;\n     *           }\n     *       }\n     *   }]);\n     *\n     *   var assetManager = assetManagerFactory(strategies, { baseUrl : 'http://t.oa/public/assets/' });\n     *   assetManager.resolve('http://foo/bar.png'); //will resolved using external\n     *   assetManager.resolve('bar.png'); //will resolved using relative strategy\n     *\n     * @param {AssetStrategy[]} strategies - the strategies\n     * @param {Object} data - the context data\n     * @param {Object} [options] - the manager options\n     * @param {Boolean} [options.parseUrl = true] - If the URL to give to the stragies should be parsed or given as it is.\n     * @param {Boolean} [options.cache] - resolve the same URL only once and store the result in memory.\n     *\n     * @exports taoItems/assets/manager\n     * @namespace assetManagerFactory\n     */\n    var assetManagerFactory = function assetManagerFactory(strategies, data, options) {\n\n        var cache  = {};\n\n        strategies = _.isArray(strategies) ? strategies : [strategies];\n        data       = data || {};\n        options    = _.defaults(options || {}, {\n            parseUrl : true\n        });\n\n        /**\n         * A brand new asset manager is created by the factory\n         */\n        var assetManager = {\n\n            /**\n             * The stack of strategies that would be used to resolve the asset path\n             * @type {AssetStrategy[]}\n             */\n            _strategies : [],\n\n            /**\n             * Add an asset resolution strategy.\n             * The strategies will be evaluated in the order they've been added.\n             * @param {AssetStrategy} strategy - the strategy to add\n             * @throws {TypeError} if the strategy isn't defined correctly\n             */\n            addStrategy : function addStrategy (strategy){\n\n                if(!_.isPlainObject(strategy) || !_.isFunction(strategy.handle) || !_.isString(strategy.name)){\n                    throw new TypeError('An asset resolution strategy is an object with a handle method and a name');\n                }\n\n                this._strategies.push(strategy);\n            },\n\n            /**\n             * Change the strategies\n             * @param {AssetStrategy[]} strategies - the strategies\n             * @throws {TypeError} if the strategy isn't defined correctly\n             */\n            setStrategies : function setStrategies(newStrategies){\n                var self = this;\n\n                this._strategies = [];\n\n                //assign the strategies to the assetManager\n                _.forEach(newStrategies, function(strategy){\n\n                    //if it's an object we add it directly\n                    if(_.isPlainObject(strategy)){\n                        assetManager.addStrategy(strategy);\n\n                    //if it's a function, we create the strategy with a generated name\n                    } else if(_.isFunction(strategy)){\n                        self.addStrategy({\n                            name   : 'strategy_' + (self._strategies.length + 1),\n                            handle : strategy\n                        });\n                    }\n                });\n            },\n\n            /**\n             * Set context data\n             * @param {String|Object} [key] - the key of the data to set or the data values if it's an object\n             * @param {*} [value] - the value to set if a key is given\n             */\n            setData : function setData(key, value){\n                if(_.isString(key) && typeof value !== 'undefined'){\n                    data[key] = value;\n                } else if(_.isPlainObject(key)){\n                    data = key;\n                }\n            },\n\n            /**\n             * Get context data\n             * @param {String} [key] - if we want the value of a particuar key\n             * @returns {Object|*} all the data or the proprety value if key is given\n             */\n            getData : function getData(key){\n                if(_.isString(key)){\n                    return data[key];\n                }\n                return data;\n            },\n\n            /**\n             * Resolve the given URL against the strategies\n             * @param {String} url - the URL to resolve\n             * @returns {String?} the resolved URL or nothing\n             */\n            resolve : function resolve(url){\n                var resolved;\n                var inputUrl;\n\n                //if caching try to load the value from the cache\n                if(options.cache && cache.hasOwnProperty(url)){\n                    return cache[url];\n                }\n\n                //parse the url ?\n                inputUrl = options.parseUrl ? urlUtil.parse(url) : url;\n\n                //call strategies handlers, in their order until once returns somethin\n                _.forEach(this._strategies, function(strategy){\n                    var result = strategy.handle(inputUrl, data);\n                    if(result){\n                        resolved = result;\n                        return false;\n                    }\n                });\n\n                resolved = resolved || '';\n\n                if(options.cache){\n                    cache[url] = resolved;\n                }\n\n                return resolved;\n            },\n\n            /**\n             * Resolve the given URL against the strategy identified by the given name\n             * @param {String} name - the strategy name\n             * @param {String} url - the URL to resolve\n             * @returns {String?} the resolved URL or nothing\n             */\n            resolveBy : function resolveBy(name, url){\n                var inputUrl;\n                var resolved = '';\n                var strategy = _.find(this._strategies, {name : name});\n                if(strategy){\n                    //parse the url ?\n                    inputUrl = options.parseUrl ? urlUtil.parse(url) : url;\n                    resolved = strategy.handle(inputUrl, data);\n                }\n                return resolved;\n            },\n\n            /**\n             * When the cache is used, it could be useful to clear the cache\n             */\n            clearCache : function clearCache(){\n                if(options.cache){\n                    cache = {};\n                }\n            }\n        };\n\n        assetManager.setStrategies(strategies);\n\n        return assetManager;\n    };\n\n    return assetManagerFactory;\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n *\n */\n\n/**\n * Provides common strategies to resolved assets\n * that may be used by any type of items.\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoItems/assets/strategies',[\n    'util/url'\n], function(urlUtil){\n    'use strict';\n\n    /**\n     * Unrelated strategies accessible by there name.\n     * Remember to not use the whole object, but each one in an array since the order matters.\n     *\n     * @exports taoItems/assets/strategies\n     */\n    var strategies = {\n\n        //the baseUrl concats the baseUrl in data if the url is relative\n        baseUrl : {\n            name : 'baseUrl',\n            handle : function handleBaseUrl(url, data){\n                if(typeof data.baseUrl === 'string' && (urlUtil.isRelative(url)) ){\n\n                    //is slashcat we manage slash concact\n                    if(data.slashcat === true){\n                        return data.baseUrl.replace(/\\/$/, '') + '/' + url.directory.replace(/^\\.\\//, '').replace(/^\\//, '')\n                            + encodeURIComponent(url.file.replace(/^\\.\\//, '').replace(/^\\//, ''));\n                    }\n\n                    return data.baseUrl + url.directory.replace(/^\\.?\\//, '') + encodeURIComponent(url.file.replace(/^\\.?\\//, ''));\n                }\n            }\n        },\n\n        //absolute URL are just left intact\n        external : {\n            name : 'external',\n            handle : function handleExternal(url, data){\n                if(urlUtil.isAbsolute(url)){\n                    return url.toString();\n                }\n            }\n        },\n\n        //the base64 encoded resources are also left intact\n        base64 : {\n            name : 'base64',\n            handle : function handleB64(url){\n                if(urlUtil.isBase64(url)){\n                    return url.toString();\n                }\n            }\n        },\n\n        //special tao media protocol\n        taomedia : {\n            name : 'taomedia',\n            handle : function handleTaoMedia(url, data){\n                //either a baseUrl is given or if empty, taomedia resources are managed as relative resources\n                var baseUrl = data.baseUrl || './';\n                if( (typeof url === 'object' && url.protocol === 'taomedia') ||\n                    (/^taomedia:\\/\\//.test(url.toString())) ){\n                    return baseUrl + url.toString();\n                }\n            }\n        }\n    };\n    return strategies;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA;\n */\n\ndefine('taoQtiItem/qtiCommonRenderer/renderers/config',[\n    'lodash',\n    'context',\n    'ui/themes',\n    'taoItems/assets/manager',\n    'taoItems/assets/strategies',\n    'module'\n], function(_, context, themes, assetManagerFactory, assetStrategies, module){\n    'use strict';\n\n    var itemThemes = themes.get('items');\n\n    //stratgy to resolve portable info control and portable interactions paths.\n    //It should never be reached in the stack the ususal way and should be called only using resolveBy.\n    var portableAssetStrategy = {\n        name : 'portableElementLocation',\n        handle : function handlePortableElementLocation(url){\n            if(url.source === url.relative){\n                return window.location.pathname.replace(/([^\\/]*)$/, '') + url.toString() + '/';\n            }\n        }\n    };\n\n    //Create asset manager stack\n    var assetManager = assetManagerFactory([{\n            name : 'theme',\n            handle : function handleTheme(url){\n                if(itemThemes && url.path && (url.path === itemThemes.base || _.contains(_.pluck(itemThemes.available, 'path'), url.path))){\n                    return context.root_url + url.toString();\n                }\n            }\n        },\n        assetStrategies.taomedia,\n        assetStrategies.external,\n        assetStrategies.base64,\n        assetStrategies.baseUrl,\n        portableAssetStrategy\n    ], {baseUrl : ''});\n\n    //renderers locations\n    var locations = {\n        'assessmentItem' : 'taoQtiItem/qtiCommonRenderer/renderers/Item',\n        '_container' : 'taoQtiItem/qtiCommonRenderer/renderers/Container',\n        '_simpleFeedbackRule' : false,\n        'stylesheet' : 'taoQtiItem/qtiCommonRenderer/renderers/Stylesheet',\n        'outcomeDeclaration' : false,\n        'responseDeclaration' : false,\n        'responseProcessing' : false,\n        'img' : 'taoQtiItem/qtiCommonRenderer/renderers/Img',\n        'math' : 'taoQtiItem/qtiCommonRenderer/renderers/Math',\n        'object' : 'taoQtiItem/qtiCommonRenderer/renderers/Object',\n        'rubricBlock' : 'taoQtiItem/qtiCommonRenderer/renderers/RubricBlock',\n        'modalFeedback' : 'taoQtiItem/qtiCommonRenderer/renderers/ModalFeedback',\n        'prompt' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/Prompt',\n        'choiceInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/ChoiceInteraction',\n        'extendedTextInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/ExtendedTextInteraction',\n        'orderInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/OrderInteraction',\n        'associateInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/AssociateInteraction',\n        'matchInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/MatchInteraction',\n        'textEntryInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/TextEntryInteraction',\n        'sliderInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/SliderInteraction',\n        'inlineChoiceInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/InlineChoiceInteraction',\n        'simpleChoice.choiceInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleChoice.ChoiceInteraction',\n        'simpleChoice.orderInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleChoice.OrderInteraction',\n        'hottext' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/Hottext',\n        'gap' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/Gap',\n        'gapText' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/GapText',\n        'simpleAssociableChoice.matchInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleAssociableChoice.MatchInteraction',\n        'simpleAssociableChoice.associateInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleAssociableChoice.AssociateInteraction',\n        'inlineChoice' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/InlineChoice',\n        'hottextInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/HottextInteraction',\n        'hotspotInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/HotspotInteraction',\n        'hotspotChoice' : false,\n        'gapMatchInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/GapMatchInteraction',\n        'selectPointInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/SelectPointInteraction',\n        'graphicOrderInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicOrderInteraction',\n        'mediaInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/MediaInteraction',\n        'uploadInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/UploadInteraction',\n        'graphicGapMatchInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicGapMatchInteraction',\n        'gapImg' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/GapImg',\n        'graphicAssociateInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicAssociateInteraction',\n        'associableHotspot' : false,\n        'customInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/PortableCustomInteraction',\n        'infoControl' : 'taoQtiItem/qtiCommonRenderer/renderers/PortableInfoControl',\n        'include' : 'taoQtiItem/qtiCommonRenderer/renderers/Include',\n        'endAttemptInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/EndAttemptInteraction'\n    };\n\n    return {\n        name:'commonRenderer',\n        locations: locations,\n        options:   {\n            assetManager: assetManager,\n            themes : itemThemes,\n            enableDragAndDrop: {\n                associate: !!module.config().associateDragAndDrop,\n                gapMatch: !!module.config().gapMatchDragAndDrop,\n                graphicGapMatch: !!module.config().graphicGapMatchDragAndDrop,\n                order: !!module.config().orderDragAndDrop\n            }\n        }\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA;\n */\n\n/**\n * Define the Qti Item Common Renderer\n */\ndefine('taoQtiItem/qtiCommonRenderer/renderers/Renderer',[\n    'taoQtiItem/qtiRunner/core/Renderer',\n    'taoQtiItem/qtiCommonRenderer/renderers/config'\n], function(Renderer, config){\n    'use strict';\n\n    return Renderer.build(config.locations, config.name, config.options);\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoClientDiagnostic/tools/performances/tester',[\n    'jquery',\n    'lodash',\n    'async',\n    'context',\n    'helpers',\n    'taoClientDiagnostic/tools/stats',\n    'taoQtiItem/qtiItem/core/Loader',\n    'taoQtiItem/qtiCommonRenderer/renderers/Renderer',\n    'lib/polyfill/performance-now'\n], function($, _, async, context, helpers, stats, Loader, Renderer) {\n    'use strict';\n\n    /**\n     * Duration of one second (in milliseconds)\n     * @type {Number}\n     * @private\n     */\n    var _second = 1000;\n\n    /**\n     * Default timeout duration\n     * @type {Number}\n     * @private\n     */\n    var _defaultTimeout = 30 * _second;\n\n    /**\n     * Default number of renderings by samples\n     * @type {Number}\n     * @private\n     */\n    var _defaultOccurrencesCount = 10;\n\n    /**\n     * List of default samples\n     * @type {Array}\n     */\n    var _defaultSamples = [\n        'taoClientDiagnostic/tools/performances/data/sample1/',\n        'taoClientDiagnostic/tools/performances/data/sample2/',\n        'taoClientDiagnostic/tools/performances/data/sample3/'\n    ];\n\n    /**\n     * Base text used to build sample identifiers\n     * @type {String}\n     * @private\n     */\n    var _sampleBaseId = 'sample';\n\n    /**\n     * Loads a page inside a div and compute the time to load\n     * @param {Object} data The descriptor of the page to load\n     * @param {Function} done A callback function called to provide the result\n     */\n    function loadItem(data, done){\n\n        //item location config\n        var qtiJsonFile = data.url + 'qti.json';\n        var urlTokens = data.url.split('/');\n        var extension = urlTokens[0];\n        var fullpath = require.s.contexts._.config.paths[extension];\n        var baseUrl = data.url.replace(extension, fullpath);\n        var loader = new Loader();\n        var renderer = new Renderer({\n            baseUrl : baseUrl       // compatibility mode for legacy installations\n        });\n\n        // check needed by compatibility mode for legacy installations\n        if (renderer.getAssetManager) {\n            renderer.getAssetManager().setData('baseUrl', baseUrl);\n        }\n\n        require(['json!'+qtiJsonFile], function(itemData){\n\n            loader.loadItemData(itemData, function(item){\n                renderer.load(function(){\n\n                    var $container,\n                        duration,\n                        start,\n                        end,\n                        result;\n\n                    //start right before rendering\n                    start = window.performance.now();\n\n                    //set renderer\n                    item.setRenderer(this);\n\n                    //render markup\n                    $container = $('<div>').appendTo('body');\n                    $container.append(item.render());\n\n                    //execute javascript\n                    item.postRender();\n\n                    //remove item\n                    $container.remove();\n\n                    //done\n                    end = window.performance.now();\n\n                    duration = (end - start) / _second;\n\n                    result = {\n                        id : data.id,\n                        url : data.url,\n                        duration: duration\n                    };\n\n                    done(null, result);\n\n                }, this.getLoadedClasses());\n            });\n\n        });\n\n    }\n\n    /**\n     * Performs a browser performances test by running a heavy page\n     *\n     * @param {Array} [samples]\n     * @param {Number} [occurrences]\n     * @param {Number} [timeout]\n     * @returns {Object}\n     */\n    var performancesTester = function performancesTester(samples, occurrences, timeout) {\n        var idx = 0;\n        var _samples = _.map(!_.isEmpty(samples) && samples || _defaultSamples, function(sample) {\n            idx ++;\n            return {\n                id : _sampleBaseId + idx,\n                url : sample,\n                timeout : timeout || _defaultTimeout,\n                nb : occurrences || _defaultOccurrencesCount\n            };\n        });\n\n        // add one occurrence on the first sample to obfuscate the time needed to load the runner\n        _samples[0].nb ++;\n\n        return {\n            /**\n             * Performs a performances test, then call a function to provide the result\n             * @param {Function} done\n             */\n            start: function start(done) {\n                var tests = [];\n                _.forEach(_samples, function(data) {\n                    var cb = _.partial(loadItem, data);\n                    var iterations = data.nb || 1;\n                    while (iterations --) {\n                        tests.push(cb);\n                    }\n                });\n\n                async.series(tests, function(err, measures) {\n                    var decimals = 2;\n                    var results;\n\n                    if(err && !measures.length){\n                        //something went wrong\n                        throw err;\n                    }\n\n                    // remove the first result to obfuscate the time needed to load the runner\n                    measures.shift();\n\n                    results = stats(measures, 'duration', decimals);\n\n                    done(results.average, results);\n                });\n            }\n        };\n    };\n\n    return performancesTester;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\ndefine('taoClientDiagnostic/tools/bandwidth/tester',[\n    'lodash',\n    'async',\n    'context',\n    'taoClientDiagnostic/tools/stats',\n    'taoClientDiagnostic/tools/fixedDecimals',\n    'lib/polyfill/performance-now'\n], function(_, async, context, stats, fixedDecimals) {\n    'use strict';\n\n    /**\n     * A binary kilo bytes (KiB)\n     * @type {Number}\n     * @private\n     */\n    var _kilo = 1024;\n\n    /**\n     * A binary mega bytes (MiB)\n     * @type {Number}\n     * @private\n     */\n    var _mega = _kilo * _kilo;\n\n    /**\n     * Duration of one second (in milliseconds)\n     * @type {Number}\n     * @private\n     */\n    var _second = 1000;\n\n    /**\n     * List of descriptors defining the data sets to download.\n     * - file : path of the file containing the test data\n     * - size : the given size of the file\n     * - timeout : the timeout for the download\n     * - threshold : a bandwidth threshold above which the data set can be downloaded to evaluate a more accurate value\n     * - nb : number of download iterations\n     * @type {Object}\n     */\n    var _downloadData = {\n        \"10KB\" : {\n            id : '10KB',\n            file : 'data/bin10KB.data',\n            size : 10 * _kilo,\n            timeout : _second,\n            threshold : 0,\n            nb : 10\n        },\n        \"100KB\" : {\n            id : '100KB',\n            file : 'data/bin100KB.data',\n            size : 100 * _kilo,\n            timeout : 2 * _second,\n            threshold : 0,\n            nb : 5\n        },\n        \"1MB\" : {\n            id : '1MB',\n            file : 'data/bin1MB.data',\n            size : _mega,\n            timeout : 20 * _second,\n            threshold : 0,\n            nb : 3\n        },\n        \"10MB\" : {\n            id : '10MB',\n            file : 'data/bin10MB.data',\n            size : 10 * _mega,\n            timeout : 20 * _second,\n            threshold : 8,\n            nb : 3\n        }\n    };\n\n    /**\n     * Download a data set as described by the provided descriptor and compute the duration.\n     * @param {Object} data The data set descriptor to use for download\n     * @param {Function} cb A callback function called at the end of the download.\n     * This callback is also called if a timeout breaks the download;\n     */\n    var download = function download(data, cb) {\n        var self = this;\n        var start, end;\n        var timeoutId;\n        var url;\n        var request;\n\n        if (data.threshold && this.bandwidth < data.threshold) {\n            return cb('threshold');\n        }\n\n        url = context.root_url + '/taoClientDiagnostic/views/js/tools/bandwidth/' + data.file + '?' + Date.now();\n        request = new XMLHttpRequest();\n        request.open('GET', url, true);\n        request.setRequestHeader('Accept', 'application/octet-stream');\n\n        request.onload = function onRequestLoad () {\n            var duration;\n            var bytes;\n            var seconds;\n            var speed;\n\n            end = window.performance.now();\n            clearTimeout(timeoutId);\n\n            duration = end - start;\n            bytes = data.size;\n            seconds = duration / _second;\n\n            // speed in Mbps\n            speed = ((bytes * 8) / seconds) / _mega;\n\n            self.bandwidth = Math.max(self.bandwidth, speed);\n\n            return cb(null, {\n                id : data.id,\n                file : data.file,\n                size : data.size,\n                duration : duration,\n                speed : speed\n            });\n        };\n        request.onerror = function onRequestError (err) {\n            clearTimeout(timeoutId);\n            cb(err);\n        };\n\n        timeoutId = _.delay(cb, data.timeout, 'timeout');\n        start = window.performance.now();\n        request.send();\n    };\n\n    /**\n     * Performs a bandwidth test by downloading a bunch of data sets with different sizes\n     *\n     * @returns {Object}\n     */\n    var bandwidthTester = function bandwidthTester (){\n        return {\n            /**\n             * Performs a bandwidth test, then call a function to provide the result\n             * @param {Function} done\n             */\n            start : function start(done){\n                var self = this;\n                var tests = [];\n                _.forEach(_downloadData, function(data) {\n                    var cb = _.bind(download, self, data);\n                    var iterations = data.nb || 1;\n                    while (iterations --) {\n                        tests.push(cb);\n                    }\n                });\n\n                this.bandwidth = 0;\n\n                async.series(tests, function(err, measures) {\n                    var duration = 0;\n                    var size = 0;\n                    var decimals = 2;\n                    var getValue;\n                    var results;\n\n                    if (err && !measures.length) {\n                        //something went wrong\n                        throw err;\n                    }\n\n                    getValue = function(value) {\n                        var speed = 0;\n\n                        if (value) {\n                            duration += value.duration;\n                            size += value.size;\n\n                            speed = value.speed;\n                            value.speed = fixedDecimals(speed, decimals);\n                        }\n\n                        return speed;\n                    };\n\n                    results = stats(measures, getValue, decimals);\n\n                    results.duration = fixedDecimals(duration / _second, decimals);\n                    results.size = size;\n\n                    done(results.average, results);\n                });\n            }\n        };\n    };\n\n    return bandwidthTester;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoClientDiagnostic/tools/getconfig',['lodash'], function (_) {\n    'use strict';\n\n    /**\n     * Gets a config set\n     * @param {Object} [config]\n     * @param {Object} [defaults]\n     * @returns {Object}\n     */\n    return function getConfig(config, defaults) {\n        return _(config || {})\n            .omit(function (value) {\n                return value === null || value === undefined;\n            })\n            .defaults(defaults || {})\n            .value();\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoClientDiagnostic/tools/browser/tester',[\n    'i18n',\n    'helpers',\n    'taoClientDiagnostic/tools/getconfig'\n], function (__, helpers, getConfig) {\n    'use strict';\n\n    /**\n     * Some default values\n     * @type {Object}\n     * @private\n     */\n    var _defaults = {\n        action: 'whichBrowser',\n        controller: 'CompatibilityChecker',\n        extension: 'taoClientDiagnostic'\n    };\n\n    /**\n     * Gets the URL of the browser tester\n     * @param {Window} window - Need an access to the window object\n     * @param {String} action - The name of the action to call to get the browser checker\n     * @param {String} controller - The name of the controller to call to get the browser checker\n     * @param {String} extension - The name of the extension containing the controller to call to get the browser checker\n     * @returns {String}\n     */\n    function getTesterUrl(window, action, controller, extension) {\n        var document = window.document;\n        var navigator = window.navigator;\n        var screen = window.screen;\n        var params = {};\n        var e = 0;\n        var f = 0;\n\n        // append the browser user agent\n        params.ua = navigator.userAgent;\n\n        // detect browser family\n        e |= window.ActiveXObject ? 1 : 0;\n        e |= window.opera ? 2 : 0;\n        e |= window.chrome ? 4 : 0;\n        e |= 'getBoxObjectFor' in document || 'mozInnerScreenX' in window ? 8 : 0;\n        e |= ('WebKitCSSMatrix' in window || 'WebKitPoint' in window || 'webkitStorageInfo' in window || 'webkitURL' in window) ? 16 : 0;\n        e |= (e & 16 && ({}.toString).toString().indexOf(\"\\n\") === -1) ? 32 : 0;\n        params.e = e;\n\n        // gather info about browser functionality\n        f |= 'sandbox' in document.createElement('iframe') ? 1 : 0;\n        f |= 'WebSocket' in window ? 2 : 0;\n        f |= window.Worker ? 4 : 0;\n        f |= window.applicationCache ? 8 : 0;\n        f |= window.history && window.history.pushState ? 16 : 0;\n        f |= document.documentElement.webkitRequestFullScreen ? 32 : 0;\n        f |= 'FileReader' in window ? 64 : 0;\n        params.f = f;\n\n        // append a unique ID\n        params.r = Math.random().toString(36).substring(7);\n\n        // get the screen size\n        params.w = screen.width;\n        params.h = screen.height;\n\n        return helpers._url(action, controller, extension, params);\n    }\n\n    /**\n     * Performs a browser support test\n     *\n     * @param {Window} window - Need an access to the window object\n     * @param {Object} [config] - Some optional configs\n     * @param {String} [config.action] - The name of the action to call to get the browser checker\n     * @param {String} [config.controller] - The name of the controller to call to get the browser checker\n     * @param {String} [config.extension] - The name of the extension containing the controller to call to get the browser checker\n     * @returns {Object}\n     */\n    function browserTester(window, config) {\n        var initConfig = getConfig(config || {}, _defaults);\n\n        return {\n            /**\n             * Performs a browser support test, then call a function to provide the result\n             * @param {Function} done\n             */\n            start: function start(done) {\n                var url = getTesterUrl(window, initConfig.action, initConfig.controller, initConfig.extension);\n                require([url], function () {\n                    // the WhichBrowser class is provided by the loaded resource as a global variable\n                    // this is ugly but this is the way this lib works...\n                    var info = new WhichBrowser();\n                    var browser = info.browser;\n                    var os = info.os;\n                    done({\n                        browser: browser && browser.name || __('Unknown browser'),\n                        browserVersion: browser && browser.version && browser.version.original || __('Unknown version'),\n                        os: os && os.name || __('Unknown OS'),\n                        osVersion: os && os.version && (os.version.alias || os.version.original) || __('Unknown version')\n                    });\n                });\n            }\n        };\n    }\n\n    return browserTester;\n});\n\n","\ndefine('tpl!taoClientDiagnostic/tools/diagnostic/tpl/main', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<p>\";\n  if (helper = helpers.header) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.header); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<p>\";\n  if (helper = helpers.info) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.info); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"diagnostics-main-area\\\">\\n\\n    <h1>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\n\\n    <div class=\\\"intro\\\">\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.header), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.info), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n\\n    <div class=\\\"clearfix\\\">\\n        <button data-action=\\\"test-launcher\\\" class=\\\"btn-info small rgt\\\">\";\n  if (helper = helpers.button) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.button); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</button>\\n    </div>\\n\\n    <ul class=\\\"plain results\\\"></ul>\\n\\n    <div class=\\\"status\\\">\\n        <h2></h2>\\n    </div>\\n\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoClientDiagnostic/tools/diagnostic/tpl/result', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <div class=\\\"small feedback feedback-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n            <span class=\\\"icon icon-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></span>\\n            <span class=\\\"msg\\\">\";\n  if (helper = helpers.message) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.message); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.legend), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </div>\\n        \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<div class=\\\"legend\\\">\";\n  if (helper = helpers.legend) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.legend); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\";\n  return buffer;\n  }\n\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <div class=\\\"quality-bar\\\">\\n            <div class=\\\"quality-indicator\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.wide), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.label), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"></div>\\n        </div>\\n        \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  \n  return \" wide\";\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"\";\n  return buffer;\n  }\n\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    <div class=\\\"clearfix\\\">\\n        <button data-action=\\\"show-details\\\" class=\\\"rgt btn-info small\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Show Details\", options) : helperMissing.call(depth0, \"__\", \"Show Details\", options)))\n    + \"</button>\\n        <button data-action=\\\"hide-details\\\" class=\\\"rgt btn-info small hidden\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Hide Details\", options) : helperMissing.call(depth0, \"__\", \"Hide Details\", options)))\n    + \"</button>\\n        <div class=\\\"details hidden\\\">\\n            <h2>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Details\", options) : helperMissing.call(depth0, \"__\", \"Details\", options)))\n    + \"</h2>\\n            <div>\\n                <table class=\\\"matrix\\\">\\n                    <tbody>\\n                    \";\n  stack1 = helpers.each.call(depth0, depth0, {hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n    </div>\\n    \";\n  return buffer;\n  }\nfunction program10(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <tr><td>\";\n  if (helper = helpers.message) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.message); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td><td>\";\n  if (helper = helpers.value) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.value); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td></tr>\\n                    \";\n  return buffer;\n  }\n\n  buffer += \"<li data-result=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <h2>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n    <div>\\n        \";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.feedback), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n        \";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.quality), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n    \";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.details), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('css!taoClientDiagnosticCss/diagnostics',[],function(){});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n * @author dieter <dieter@taotesting.com>\n */\ndefine('taoClientDiagnostic/tools/diagnostic/diagnostic',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'async',\n    'helpers',\n    'ui/feedback',\n    'ui/component',\n    'taoClientDiagnostic/tools/diagnostic/status',\n    'taoClientDiagnostic/tools/performances/tester',\n    'taoClientDiagnostic/tools/bandwidth/tester',\n    'taoClientDiagnostic/tools/browser/tester',\n    'taoClientDiagnostic/tools/getconfig',\n    'tpl!taoClientDiagnostic/tools/diagnostic/tpl/main',\n    'tpl!taoClientDiagnostic/tools/diagnostic/tpl/result',\n    'css!taoClientDiagnosticCss/diagnostics'\n], function ($, _, __, async, helpers, feedback, component, statusFactory, performancesTester, bandwidthTester, browserTester,getConfig,  mainTpl, resultTpl) {\n    'use strict';\n\n    /**\n     * Some default values\n     * @type {Object}\n     * @private\n     */\n    var _defaults = {\n        title: __('Diagnostic Tool'),\n        header: __('This tool will run a number of tests in order to establish how well your current environment is suitable to run the TAO platform.'),\n        info: __('Be aware that these tests will take up to several minutes.'),\n        button: __('Begin diagnostics'),\n        actionStore: 'storeData',\n        actionCheck: 'check',\n        controller: 'CompatibilityChecker',\n        extension: 'taoClientDiagnostic'\n    };\n\n    /**\n     * Default values for the browser tester\n     * @type {Object}\n     * @private\n     */\n    var _defaultsBrowser = {\n        action: 'whichBrowser',\n        controller: 'CompatibilityChecker',\n        extension: 'taoClientDiagnostic'\n    };\n\n    /**\n     * Default values for the bandwidth tester\n     * @type {Object}\n     * @private\n     */\n    var _defaultsBandwidth = {\n        // The typical bandwidth needed for a test taker (Mbps)\n        unit: 0.16,\n\n        // The thresholds for optimal bandwidth\n        ideal: 45,\n\n        // Maximum number of test takers to display\n        max: 100\n    };\n\n    /**\n     * Default values for the performances tester\n     * @type {Object}\n     * @private\n     */\n    var _defaultsPerformances = {\n        // The threshold for optimal performances\n        optimal: 0.025,\n\n        // The threshold for minimal performances\n        threshold: 0.25\n    };\n\n    /**\n     * Defines a diagnostic tool\n     * @type {Object}\n     */\n    var diagnostic = {\n        /**\n         * Updates the displayed status\n         * @param {String} status\n         * @returns {diagnostic}\n         * @private\n         */\n        changeStatus: function changeStatus(status) {\n            if (this.is('rendered')) {\n                this.controls.$status.html(status);\n            }\n            return this;\n        },\n\n        /**\n         * Sends the detailed stats to the server\n         * @param {String} type The type of stats\n         * @param {Object} details The stats details\n         * @param {Function} done A callback method called once server has responded\n         */\n        store: function store(type, details, done) {\n            var config = this.config;\n\n            details = _.omit(details, 'values');\n            details.type = type;\n\n            $.post(\n                helpers._url(config.actionStore, config.controller, config.extension, config.storeParams),\n                details,\n                done,\n                \"json\"\n            );\n        },\n\n        /**\n         * Performs a browser checks\n         * @param {Function} done\n         */\n        checkBrowser: function checkBrowser(done) {\n            var self = this;\n            var config = this.config;\n\n            this.changeStatus(__('Checking the browser...'));\n\n            browserTester(window, getConfig(this.config.browser, _defaultsBrowser)).start(function (information) {\n                // which browser\n                $.post(\n                    helpers._url(config.actionCheck, config.controller, config.extension, config.storeParams),\n                    information,\n                    function (data) {\n                        var percentage = 'success' === data.type ? 100 : 0;\n                        var status = self.status.getStatus(percentage, data);\n                        var summary = {\n                            browser: {\n                                message: __('Web browser'),\n                                value: information.browser + ' ' + information.browserVersion\n                            },\n                            os: {\n                                message: __('Operating system'),\n                                value: information.os + ' ' + information.osVersion\n                            }\n                        };\n\n                        status.id = 'browser';\n                        status.title = __('Operating system and web browser');\n\n                        self.addResult(status);\n\n                        done(status, summary);\n                    },\n                    'json'\n                );\n            });\n        },\n\n        /**\n         * Performs a browser performances check\n         * @param {Function} done\n         */\n        checkPerformances: function checkPerformances(done) {\n            var self = this;\n            var config = getConfig(this.config.performances, _defaultsPerformances);\n            var optimal = config.optimal;\n            var range = Math.abs(optimal - (config.threshold));\n\n            this.changeStatus(__('Checking the performances...'));\n            performancesTester(config.samples, config.occurrences, config.timeout * 1000).start(function (average, details) {\n                var cursor = range - average + optimal;\n                var status = self.status.getStatus(cursor / range * 100, 'performances');\n                var summary = {\n                    performancesMin: {message: __('Minimum rendering time'), value: details.min + ' s'},\n                    performancesMax: {message: __('Maximum rendering time'), value: details.max + ' s'},\n                    performancesAverage: {message: __('Average rendering time'), value: details.average + ' s'}\n                };\n\n                self.store('performance', details, function () {\n                    status.id = 'performance';\n                    status.title = __('Workstation performances');\n\n                    self.addResult(status);\n\n                    done(status, summary);\n                });\n            });\n        },\n\n        /**\n         * Performs a browser bandwidth check\n         * @param {Function} done\n         */\n        checkBandwidth: function checkBandwidth(done) {\n            var self = this;\n            var config = getConfig(this.config.bandwidth, _defaultsBandwidth);\n\n            this.changeStatus(__('Checking the bandwidth...'));\n            bandwidthTester().start(function (average, details) {\n                var summary = {\n                    bandwidthMin: {message: __('Minimum bandwidth'), value: details.min + ' Mbps'},\n                    bandwidthMax: {message: __('Maximum bandwidth'), value: details.max + ' Mbps'},\n                    bandwidthAverage: {message: __('Average bandwidth'), value: details.average + ' Mbps'}\n                };\n\n                self.store('bandwidth', details, function () {\n                    var status = [];\n\n                    var bandwidthUnit = config.unit;\n                    var testTakers = config.ideal;\n                    var maxTestTakers = config.max;\n\n                    if (!_.isArray(testTakers)) {\n                        testTakers = [testTakers];\n                    }\n\n                    _.forEach(testTakers, function (threshold, i) {\n                        var max = threshold * bandwidthUnit;\n                        var st = self.status.getStatus(details.max / max * 100, 'bandwidth');\n                        var nb = Math.floor(details.max / bandwidthUnit);\n\n                        if (nb > maxTestTakers) {\n                            nb = '>' + maxTestTakers;\n                        }\n\n                        st.id = 'bandwidth-' + i;\n                        st.title = __('Bandwidth');\n                        st.feedback.legend = __('Number of simultaneous test takers the connection can handle');\n\n                        st.quality.label = nb;\n\n                        if (nb.toString().length > 2) {\n                            st.quality.wide = true;\n                        }\n\n                        status.push(st);\n\n                        self.addResult(st);\n                    });\n\n                    done(status, summary);\n                });\n            });\n        },\n\n        /**\n         * Add a result row\n         * @param {Object} result\n         * @returns {diagnostic}\n         */\n        addResult: function addResult(result) {\n            var $result, $indicator;\n\n            if (this.is('rendered')) {\n                // adjust the width of the displayed label, if any, to the text length\n                if (result.quality && result.quality.label && result.quality.label.toString().length > 2) {\n                    result.quality.wide = true;\n                }\n\n                // create and append the result to the displayed list\n                $result = $(resultTpl(result));\n                $indicator = $result.find('.quality-indicator');\n                this.controls.$results.append($result);\n\n                // the result is hidden by default, show it with a little animation\n                $result.fadeIn(function () {\n                    if ($indicator.length) {\n                        $indicator.animate({\n                            left: (result.percentage * $result.outerWidth() / 100) - ($indicator.outerWidth() / 2)\n                        });\n                    }\n                });\n            }\n\n            return this;\n        },\n\n        /**\n         * Does some preparations before starting the diagnostics\n         * @returns {diagnostic}\n         * @private\n         */\n        prepare: function prepare() {\n            /**\n             * Notifies the diagnostic start\n             * @event diagnostic#start\n             */\n            this.trigger('start');\n            this.changeStatus(__('Starting...'));\n            this.setState('running', true);\n            this.setState('done', false);\n\n            // first we need a clean space to display the results, so remove the last results if any\n            this.controls.$results.empty();\n\n            // remove the start button during the diagnostic\n            this.controls.$start.addClass('hidden');\n\n            return this;\n        },\n\n        /**\n         * Does some post process after ending the diagnostics\n         * @returns {diagnostic}\n         * @private\n         */\n        finish: function finish() {\n            // restore the start button to allow a new diagnostic run\n            this.controls.$start.removeClass('hidden');\n\n            /**\n             * Notifies the diagnostic end\n             * @event diagnostic#end\n             */\n            this.trigger('end');\n            this.changeStatus(__('Done!'));\n            this.setState('running', false);\n            this.setState('done', true);\n\n            return this;\n        },\n\n        /**\n         * Runs the diagnostics\n         * @returns {diagnostic}\n         */\n        run: function run() {\n            var self = this;\n            var information = {};\n            var scores = {};\n\n            // common handling for testers\n            function doCheck(method, cb) {\n                /**\n                 * Notifies the start of a tester operation\n                 * @event diagnostic#starttester\n                 * @param {String} name - The name of the tester\n                 */\n                self.trigger('starttester', method);\n                self.setState(method, true);\n\n                self[method](function (status, details) {\n                    // the returned details must be ingested into the main details list\n                    _.assign(information, details);\n\n                    // sometimes it is an array, sometimes not...\n                    // simplify all by only supporting arrays\n                    if (!_.isArray(status)) {\n                        status = [status];\n                    }\n                    _.forEach(status, function (st) {\n                        scores[st.id] = st;\n                    });\n\n                    /**\n                     * Notifies the end of a tester operation\n                     * @event diagnostic#endtester\n                     * @param {String} name - The name of the tester\n                     * @param {Array} results - The results of the test\n                     */\n                    self.trigger('endtester', method, status);\n                    self.setState(method, false);\n\n                    // do not forget to notify the end of the operation to the manager\n                    cb();\n                });\n            }\n\n            if (this.is('rendered')) {\n                // set up the component to a new run\n                this.prepare();\n\n                // launch each testers in series, then display the results\n                async.series([function (cb) {\n                    doCheck('checkBrowser', cb);\n                }, function (cb) {\n                    doCheck('checkPerformances', cb);\n                }, function (cb) {\n                    doCheck('checkBandwidth', cb);\n                }], function () {\n                    // pick the lowest percentage as the main score\n                    var total = _.min(scores, 'percentage');\n\n                    // get a status according to the main score\n                    var status = self.status.getStatus(total.percentage, 'summary');\n\n                    // display the result\n                    status.title = __('Total');\n                    status.id = 'total';\n                    status.details = information;\n                    self.addResult(status);\n\n                    // done !\n                    self.finish();\n                });\n            }\n\n            return this;\n        }\n    };\n\n    /**\n     * Builds an instance of the diagnostic tool\n     * @param {Object} config\n     * @param {String} [config.title] - The displayed title\n     * @param {String} [config.header] - A header text displayed to describe the component\n     * @param {String} [config.info] - An information text displayed to warn about run duration\n     * @param {String} [config.button] - The caption of the start button\n     * @param {String} [config.actionStore] - The name of the action to call to store the results\n     * @param {String} [config.actionCheck] - The name of the action to call to check the browser results\n     * @param {String} [config.controller] - The name of the controller to call\n     * @param {String} [config.extension] - The name of the extension containing the controller\n     * @param {Object} [config.storeParams] - A list of additional parameters to send with diagnostic results\n     *\n     * @param {String} [config.browser.action] - The name of the action to call to get the browser checker\n     * @param {String} [config.browser.controller] - The name of the controller to call to get the browser checker\n     * @param {String} [config.browser.extension] - The name of the extension containing the controller to call to get the browser checker\n     *\n     * @param {Number} [config.bandwidth.unit] - The typical bandwidth needed for a test taker (Mbps)\n     * @param {Array} [config.bandwidth.ideal] - The thresholds for optimal bandwidth, one by bar\n     * @param {Number} [config.bandwidth.max] - Maximum number of test takers to display\n     *\n     * @param {Array} [config.performances.samples] - A list of samples to render in order to compute the rendering performances\n     * @param {Number} [config.performances.occurrences] - The number of renderings by samples\n     * @param {Number} [config.performances.timeout] - Max allowed duration for a sample rendering\n     * @param {Number} [config.performances.optimal] - The threshold for optimal performances\n     * @param {Number} [config.performances.threshold] - The threshold for minimal performances\n     * @returns {diagnostic}\n     */\n    function diagnosticFactory(config) {\n        return component(diagnostic, _defaults)\n            .setTemplate(mainTpl)\n\n            // uninstalls the component\n            .on('destroy', function () {\n                this.controls = null;\n                this.status = null;\n            })\n\n            // renders the component\n            .on('render', function () {\n                var self = this;\n\n                // use an external component to handle the thresholds and status\n                this.status = statusFactory();\n\n                // get access to all needed placeholders\n                this.controls = {\n                    $start: this.$component.find('[data-action=\"test-launcher\"]'),\n                    $status: this.$component.find('.status h2'),\n                    $results: this.$component.find('.results')\n                };\n\n                // start the diagnostic\n                this.controls.$start.on('click', function () {\n                    self.run();\n                });\n\n                // show result details\n                this.controls.$results.on('click', 'button[data-action=\"show-details\"]', function () {\n                    var $btn = $(this).closest('button');\n                    var $result = $btn.closest('[data-result]');\n                    var $details = $result.find('.details');\n                    $details.removeClass('hidden');\n                    $btn.addClass('hidden');\n                    $result.find('[data-action=\"hide-details\"]').removeClass('hidden');\n                });\n\n                // hide result details\n                this.controls.$results.on('click', 'button[data-action=\"hide-details\"]', function () {\n                    var $btn = $(this).closest('button');\n                    var $result = $btn.closest('[data-result]');\n                    var $details = $result.find('.details');\n                    $details.addClass('hidden');\n                    $btn.addClass('hidden');\n                    $result.find('[data-action=\"show-details\"]').removeClass('hidden');\n                });\n            })\n            .init(config);\n    }\n\n    return diagnosticFactory;\n});\n\n","\ndefine('tpl!taoProctoring/templates/diagnostic/main', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<p>\";\n  if (helper = helpers.header) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.header); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<p>\";\n  if (helper = helpers.info) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.info); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"diagnostics-main-area\\\">\\n\\n    <h1>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\n\\n    <div class=\\\"intro\\\">\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.header), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.info), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        <p>\\n            <label for=\\\"workstation\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Workstation:\", options) : helperMissing.call(depth0, \"__\", \"Workstation:\", options)))\n    + \"</label>\\n            <input type=\\\"text\\\" data-control=\\\"workstation\\\" id=\\\"workstation\\\" name=\\\"workstation\\\" maxlength=\\\"64\\\" placeholder=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Workstation name\", options) : helperMissing.call(depth0, \"__\", \"Workstation name\", options)))\n    + \"\\\" />\\n        </p>\\n    </div>\\n\\n    <div class=\\\"clearfix\\\">\\n        <button data-action=\\\"test-launcher\\\" class=\\\"btn-info small rgt\\\">\";\n  if (helper = helpers.button) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.button); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</button>\\n    </div>\\n\\n    <ul class=\\\"plain results\\\"></ul>\\n\\n    <div class=\\\"status\\\">\\n        <h2></h2>\\n    </div>\\n\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n *\n */\n\n/**\n *\n * @author dieter <dieter@taotesting.com>\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/Diagnostic/diagnostic',[\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'ui/actionbar',\n    'ui/feedback',\n    'taoProctoring/component/breadcrumbs',\n    'taoClientDiagnostic/tools/diagnostic/diagnostic',\n    'tpl!taoProctoring/templates/diagnostic/main'\n], function ($, __, helpers, loadingBar, actionbar, feedback, breadcrumbsFactory, diagnosticFactory, diagnosticTpl) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.diagnostic-runner';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the taoProctoring readiness check page\n     *\n     * @type {Object}\n     */\n    var taoProctoringDiagnosticRunnerCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var $list = $container.find('.list');\n            var $panel = $('.panel');\n            var crumbs = $container.data('breadcrumbs');\n            var config = $container.data('config');\n            var testCenterId = $container.data('testcenter');\n            var indexUrl = helpers._url('index', 'Diagnostic', 'taoProctoring', {testCenter : testCenterId});\n            var workstationUrl = helpers._url('workstation', 'DiagnosticChecker', 'taoProctoring', {testCenter : testCenterId});\n\n            var bc = breadcrumbsFactory($container, crumbs);\n\n            /**\n             * Installs the diagnostic tool GUI\n             * @param {String} workstation\n             */\n            function installTester(workstation) {\n                diagnosticFactory(config)\n                    .setTemplate(diagnosticTpl)\n                    .on('render', function() {\n                        var self = this;\n\n                        // get access to the input\n                        this.controls.$workstation = this.getElement().find('[data-control=\"workstation\"]')\n                            .on('keypress', function (e) {\n                                if (e.which === 13) {\n                                    e.preventDefault();\n                                    self.run();\n                                }\n                            })\n                            .val(workstation);\n                    })\n                    .on('start', function() {\n                        // append the workstation name to the queries\n                        this.config.storeParams = this.config.storeParams || {};\n                        this.config.storeParams.workstation = this.controls.$workstation.val();\n\n                        // disable the input when running the test\n                        this.controls.$workstation.prop('disabled', true);\n                        loadingBar.start();\n                    })\n                    .on('end', function() {\n                        // enable the input when the test is complete\n                        this.controls.$workstation.removeProp('disabled');\n                        loadingBar.stop();\n                    })\n                    .on('render', function() {\n                        loadingBar.stop();\n                    })\n                    .render($list);\n            }\n\n            actionbar({\n                renderTo: $panel,\n                buttons: [{\n                    id: 'back',\n                    icon: 'step-backward',\n                    title: __('Return to the list'),\n                    label: __('List of readiness checks'),\n                    action: function() {\n                        location.href = indexUrl;\n                    }\n                }]\n            });\n\n            // need to known the workstation name to display it\n            $.get(workstationUrl, 'json')\n                .done(function(data) {\n                    installTester(data && data.workstation);\n                })\n                .fail(function() {\n                    feedback().error(__('Unable to get the workstation name!'));\n                    installTester();\n                });\n        }\n    };\n\n    return taoProctoringDiagnosticRunnerCtlr;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/Diagnostic/index',[\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'util/encode',\n    'ui/feedback',\n    'ui/dialog',\n    'taoProctoring/component/breadcrumbs',\n    'taoClientDiagnostic/tools/diagnostic/status',\n    'ui/datatable'\n], function ($, __, helpers, loadingBar, encode, feedback, dialog, breadcrumbsFactory, statusFactory) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.diagnostic-index';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Format a number with decimals\n     * @param {Number} number - The number to format\n     * @param {Number} [digits] - The number of decimals\n     * @returns {Number}\n     */\n    function formatNumber(number, digits) {\n        var nb = undefined === digits ? 2 : Math.max(0, parseInt(digits, 10));\n        var factor = Math.pow(10, nb) || 1;\n        return Math.round(number * factor) / factor;\n    }\n\n    /**\n     * Controls the taoProctoring readiness check page\n     *\n     * @type {Object}\n     */\n    var taoProctoringDiagnosticCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var $list = $container.find('.list');\n            var crumbs = $container.data('breadcrumbs');\n            var dataset = $container.data('set');\n            var config = $container.data('config') || {};\n            var testCenterId = $container.data('testcenter');\n            var diagnosticUrl = helpers._url('diagnostic', 'Diagnostic', 'taoProctoring', {testCenter : testCenterId});\n            var removeUrl = helpers._url('remove', 'Diagnostic', 'taoProctoring', {testCenter : testCenterId});\n            var serviceUrl = helpers._url('diagnosticData', 'Diagnostic', 'taoProctoring', {testCenter : testCenterId});\n\n            var performancesConfig = config.performances || {};\n            var performancesOptimal = performancesConfig.optimal;\n            var performancesRange = Math.abs(performancesOptimal - (performancesConfig.threshold));\n\n            var diagnosticStatus = statusFactory();\n\n            var bc = breadcrumbsFactory($container, crumbs);\n\n            var tools = [];\n            var actions = [];\n            var model = [];\n\n            // request the server with a selection of readiness check results\n            function request(url, selection, message) {\n                if (selection && selection.length) {\n                    loadingBar.start();\n\n                    $.ajax({\n                        url: url,\n                        data: {\n                            id: selection\n                        },\n                        dataType : 'json',\n                        type: 'POST',\n                        error: function() {\n                            loadingBar.stop();\n                        }\n                    }).done(function(response) {\n                        loadingBar.stop();\n\n                        if (response && response.success) {\n                            if (message) {\n                                feedback().success(message);\n                            }\n                            $list.datatable('refresh');\n                        } else {\n                            feedback().error(__('Something went wrong ...') + '<br>' + encode.html(response.error), {encodeHtml: false});\n                        }\n                    });\n                }\n            }\n\n            // request the server to remove the selected diagnostic-index\n            function remove(selection) {\n                request(removeUrl, selection, __('The readiness check result have been removed'));\n            }\n\n            // tool: page refresh\n            tools.push({\n                id: 'refresh',\n                icon: 'reset',\n                title: __('Refresh the page'),\n                label: __('Refresh'),\n                action: function() {\n                    $list.datatable('refresh');\n                }\n            });\n\n            // tool: readiness check\n            tools.push({\n                id: 'launch',\n                icon: 'play',\n                title: __('Launch another readiness check'),\n                label: __('Launch readiness check'),\n                action: function() {\n                    location.href = diagnosticUrl;\n                }\n            });\n\n            // tool: remove selected results\n            tools.push({\n                id: 'remove',\n                icon: 'remove',\n                title: __('Remove the selected readiness check results'),\n                label: __('Remove'),\n                massAction: true,\n                action: function(selection) {\n                    dialog({\n                        message: __('The selected readiness check results will be removed. Continue ?'),\n                        autoRender: true,\n                        autoDestroy: true,\n                        onOkBtn: function() {\n                            remove(selection);\n                        }\n                    });\n                }\n            });\n\n            // action: remove the result\n            actions.push({\n                id: 'remove',\n                icon: 'remove',\n                title: __('Remove the readiness check result?'),\n                action: function(id) {\n                    dialog({\n                        autoRender: true,\n                        autoDestroy: true,\n                        message: __('The readiness check result will be removed. Continue ?'),\n                        onOkBtn: function() {\n                            remove([id]);\n                        }\n                    });\n                }\n            });\n\n            // column: Workstation identifier\n            model.push({\n                id: 'workstation',\n                label: __('Workstation')\n            });\n\n            // column: Operating system information\n            model.push({\n                id: 'os',\n                label: __('OS')\n            });\n\n            // column: Browser information\n            model.push({\n                id: 'browser',\n                label: __('Browser')\n            });\n\n            // column: Performances of the workstation\n            model.push({\n                id: 'performance',\n                label: __('Performances'),\n                transform: function(value) {\n                    var cursor = performancesRange - value + performancesOptimal;\n                    var status = diagnosticStatus.getStatus(cursor / performancesRange * 100, 'performances');\n                    return status.feedback.message;\n                }\n            });\n\n            // column: Available bandwidth\n            model.push({\n                id: 'bandwidth',\n                label: __('Bandwidth'),\n                transform: function(value) {\n                    var bandwidth = formatNumber(value);\n\n                    if (value > 100) {\n                        bandwidth = '> 100';\n                    }\n\n                    return bandwidth + ' Mbs';\n                }\n            });\n\n            // column: Date of diagnostic\n            model.push({\n                id: 'date',\n                label: __('Date')\n            });\n            \n            $list\n                .on('query.datatable', function() {\n                    loadingBar.start();\n                })\n                .on('load.datatable', function() {\n                    loadingBar.stop();\n                })\n                .datatable({\n                    url: serviceUrl,\n                    status: {\n                        empty: __('No readiness checks have been done!'),\n                        available: __('Readiness checks already done'),\n                        loading: __('Loading')\n                    },\n                    tools: tools,\n                    actions: actions,\n                    selectable: true,\n                    model: model\n                }, dataset);\n        }\n    };\n\n    return taoProctoringDiagnosticCtlr;\n});\n\n","\ndefine('tpl!taoProctoring/component/proctorForm/form', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\";\n\n\n  buffer += \"<div class=\\\"proctor-form section-container\\\">\\n    <div class=\\\"content-block\\\">\\n        \";\n  if (helper = helpers.form) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.form); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n</div>\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Sam <sam@taotesting.com>\n */\ndefine('taoProctoring/component/proctorForm',[\n    'lodash',\n    'jquery',\n    'i18n',\n    'helpers',\n    'users',\n    'ui/feedback',\n    'ui/component',\n    'tpl!taoProctoring/component/proctorForm/form'\n], function(_, $, __, helpers, users, feedback, component, formTpl){\n    'use strict';\n\n    var _ns = '.proctor-form';\n\n    //service urls:\n    var proctorFormUrl = helpers._url('createProctorForm', 'ProctorManager', 'taoProctoring');\n    var proctorLoginCheckUrl = helpers._url('checkLogin', 'ProctorManager', 'taoProctoring');\n    \n    //initialize legacy components\n    helpers.init();\n    \n    /**\n     * Render the form from the server provided data\n     * \n     * @param {JQuery} $container\n     * @param {Object} formData\n     */\n    function renderFormFromData($container, formData){\n        $container.html(formTpl({\n            form : formData.form\n        }));\n        users.checkLogin(formData.loginId, proctorLoginCheckUrl);\n    }\n    \n    /**\n     * Create a proctor creation form\n     * \n     * @param {type} config\n     * @param {JQuery} config.renderTo - the jQuery container it should be rendered to\n     * @param {Object} config.testCenterList - the test center list component\n     * @returns {proctorForm}\n     */\n    return function proctorFormFactory(config){\n\n        return component()\n            .on('destroy', function(){\n                this.getElement().off(_ns).empty();\n            })\n            .on('render', function(){\n\n                var self = this;\n                var $element = this.getElement();\n\n                $.get(proctorFormUrl, function(formData){\n\n                    renderFormFromData($element, formData);\n\n                    $element.on('submit' + _ns, 'form', function(e){\n\n                        var $form = $(this);\n                        var fields = $form.serializeArray();\n                        var list = self.config.testCenterList;\n                        var data = {\n                            testCenters : list && list.getSelection()\n                        };\n                        _.each(fields, function(field){\n                            data[field.name] = field.value;\n                        });\n\n                        $.post(proctorFormUrl, data, function(res){\n                            if(res.created){\n                                feedback().success(__('Proctor created'));\n                                self.destroy();\n                            }else{\n                                renderFormFromData($element, res);\n                            }\n                        });\n\n                        e.preventDefault();\n                        \n                    }).on('click', 'button.btn-diasble', function() {\n                        self.destroy();\n                    });\n                });\n            })\n            .init(config);\n    };\n});\n\n","\ndefine('tpl!taoProctoring/templates/proctorManager/counters', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.count), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<div class=\\\"\";\n  if (helper = helpers.cls) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.cls); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"><span class=\\\"text\\\">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>: <span class=\\\"count\\\">\";\n  if (helper = helpers.count) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.count); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span></div>\";\n  return buffer;\n  }\n\n  stack1 = helpers.each.call(depth0, depth0, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { return stack1; }\n  else { return ''; }\n  });\n});\n\n","\ndefine('tpl!taoProctoring/templates/proctorManager/status', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Authorized\", options) : helperMissing.call(depth0, \"__\", \"Authorized\", options)))\n    + \" <span class=\\\"icon icon-authorize\\\"></span>\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"<span title=\\\"\";\n  if (helper = helpers.testCenters) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.testCenters); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Partially authorized\", options) : helperMissing.call(depth0, \"__\", \"Partially authorized\", options)))\n    + \"</span>\";\n  return buffer;\n  }\n\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.authorized), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.partially), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Sam <sam@taotesting.com>\n */\ndefine('taoProctoring/controller/ProctorManager/index',[\n    'lodash',\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'util/encode',\n    'ui/feedback',\n    'ui/dialog/confirm',\n    'ui/bulkActionPopup',\n    'ui/datalist',\n    'taoProctoring/component/breadcrumbs',\n    'taoProctoring/component/proctorForm',\n    'tpl!taoProctoring/templates/proctorManager/counters',\n    'tpl!taoProctoring/templates/proctorManager/status',\n    'ui/datatable'\n], function (_, $, __, helpers, loadingBar, encode, feedback, dialogConfirm, bulkActionPopup, datalist, breadcrumbsFactory, proctorForm, counterTpl, statusTpl) {\n    'use strict';\n    \n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.proctorManager-index';\n    \n    //service urls:\n    var proctorsDataUrl = helpers._url('proctorAuthorizations', 'ProctorManager', 'taoProctoring');\n    var authorizeUrl = helpers._url('authorize', 'ProctorManager', 'taoProctoring');\n    var unauthorizeUrl = helpers._url('unauthorize', 'ProctorManager', 'taoProctoring');\n\n    // page modes\n    var _modes = {\n        EMPTY: 0,\n        LIST: 1,\n        FORM: 2\n    };\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the ProctorDelivery index page\n     *\n     * @type {Object}\n     */\n    var taoProctoringCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            \n            var $container = $(cssScope);\n            var $panelSelection = $('.test-center-panel');\n            var $panelData = $('.proctor-panel');\n            var $containerList = $('.proctor-list');\n            var $containerForm = $('.proctor-create');\n            var $noSelection = $('.proctor-default');\n            var testCenters = $container.data('list');\n            var crumbs = $container.data('breadcrumbs');\n            var pageMode = _modes.EMPTY;\n            var bc = breadcrumbsFactory($container, crumbs);\n            var list = datalist({\n                renderTo: $panelSelection,\n                textNumber:  __('Test sites'),\n                labelText: __('Test site'),\n                selectable: true\n            }, testCenters);\n\n            function request(url, selection, message) {\n                if (selection && selection.length) {\n                    loadingBar.start();\n\n                    $.ajax({\n                        url: url,\n                        data: {\n                            testCenters: list.getSelection(),\n                            proctors: selection\n                        },\n                        dataType : 'json',\n                        type: 'POST',\n                        error: function() {\n                            loadingBar.stop();\n                        }\n                    }).done(function(response) {\n                        loadingBar.stop();\n\n                        if (response && response.success) {\n                            if (message) {\n                                feedback().success(message);\n                            }\n                            $containerList.datatable('refresh');\n                        } else {\n                            feedback().error(__('Something went wrong ...') + '<br>' + encode.html(response.error), {encodeHtml: false});\n                        }\n                    });\n                }\n            }\n\n            function authorize(selection, message) {\n                dialogConfirm(message, function() {\n                    request(authorizeUrl, selection, __('Proctors authorized'));\n                });\n            }\n\n            function revoke(selection, message) {\n                dialogConfirm(message, function() {\n                    request(unauthorizeUrl, selection, __('Proctors revoked'));\n                });\n            }\n\n            function processMode(selection) {\n                if (!selection.length) {\n                    if (_modes.LIST === pageMode) {\n                        pageMode = _modes.EMPTY;\n                    } else if (_modes.EMPTY !== pageMode) {\n                        feedback().warning(__('You must select at least one test center!'));\n                    }\n                } else {\n                    switch (pageMode) {\n                        case _modes.EMPTY:\n                            pageMode = _modes.LIST;\n\n                        case _modes.LIST:\n                            $containerList\n                                // erase previous parameters to prevent the datatable to keep old values\n                                .datatable('options', {\n                                    params: {testCenters: null}\n                                })\n                                // set new parameter value\n                                .datatable('options', {\n                                    params: {testCenters: selection}\n                                })\n                                .datatable('refresh');\n                            break;\n\n                        case _modes.FORM:\n                            // the form manages itself the selection\n                            break;\n                    }\n                }\n\n                $noSelection.toggleClass('hidden', _modes.EMPTY !== pageMode);\n                $containerList.toggleClass('hidden', _modes.LIST !== pageMode);\n                $containerForm.toggleClass('hidden', _modes.FORM !== pageMode);\n            }\n\n            list.on('select', function(selection) {\n                processMode(selection);\n            });\n\n            $containerList\n                .on('query.datatable', function() {\n                    loadingBar.start();\n                })\n                .on('load.datatable', function(e, dataset) {\n                    var partially = 0;\n                    var authorized = 0;\n                    var lines = dataset && dataset.data;\n                    _.forEach(lines, function(line) {\n                        if (line && line.status) {\n                            switch (line.status) {\n                                case 1: partially ++; break;\n                                case 2: authorized ++; break;\n                            }\n                        }\n\n                    });\n\n                    $(this).find('.datatable-wrapper h2').append(counterTpl([{\n                        id: 'authorized-list',\n                        label: __('Authorized proctors'),\n                        count: authorized\n                    }, {\n                        id: 'partially-list',\n                        label: __('Partially authorized proctors'),\n                        count: partially\n                    }]));\n\n                    loadingBar.stop();\n                })\n                .datatable({\n                    url: proctorsDataUrl,\n                    status: {\n                        empty: __('No assigned proctors'),\n                        available: __('Assigned proctors'),\n                        loading: __('Loading')\n                    },\n                    tools: [{\n                        id: 'refresh',\n                        icon: 'reset',\n                        title: __('Refresh the page'),\n                        label: __('Refresh'),\n                        action: function() {\n                            $containerList.datatable('refresh');\n                        }\n                    }, {\n                        id: 'create',\n                        icon: 'add',\n                        title: __('Creates and authorizes proctor'),\n                        label: __('Create Proctor'),\n                        action: function() {\n                            var selection = list.getSelection();\n                            // switch to proctorForm\n                            proctorForm({\n                                renderTo : $containerForm,\n                                testCenterList : list\n                            }).on('destroy', function() {\n                                pageMode = _modes.LIST;\n                                processMode(list.getSelection());\n                            });\n                            pageMode = _modes.FORM;\n                            processMode(selection);\n                        }\n                    }, {\n                        id: 'authorize',\n                        icon: 'authorize',\n                        title: __('Authorize the selected proctors'),\n                        label: __('Authorize'),\n                        massAction: true,\n                        action: function(selection) {\n                            authorize(selection, __('The proctors will be authorized. Continue ?'));\n                        }\n                    }, {\n                        id: 'revoke',\n                        icon: 'revoke',\n                        title: __('Revoke authorization for the selected proctors'),\n                        label: __('Revoke'),\n                        massAction: true,\n                        action: function(selection) {\n                            revoke(selection, __('The proctors will be revoked. Continue ?'));\n                        }\n                    }],\n                    actions: [{\n                        id: 'authorize',\n                        icon: 'authorize',\n                        title: __('Authorize the proctor'),\n                        hidden: function() {\n                            return this.status === 2;\n                        },\n                        action: function(id) {\n                            authorize([id], __('The proctor will be authorized. Continue ?'));\n                        }\n                    }, {\n                        id: 'revoke',\n                        icon: 'revoke',\n                        title: __('Revoke the proctor'),\n                        hidden: function() {\n                            return !this.status;\n                        },\n                        action: function(id) {\n                            revoke([id], __('The proctor will be revoked. Continue ?'));\n                        }\n                    }],\n                    selectable: true,\n                    model: [{\n                        id: 'firstname',\n                        label: __('First name')\n                    }, {\n                        id: 'lastname',\n                        label: __('Last name')\n                    }, {\n                        id: 'login',\n                        label: __('Login')\n                    }, {\n                        id: 'state',\n                        label: __('Status'),\n                        transform: function(value, row) {\n                            return statusTpl({\n                                testCenters: row.authorized,\n                                partially: row.status === 1,\n                                authorized: row.status === 2\n                            });\n                        }\n                    }]\n                }, []);\n\n            loadingBar.stop();\n        }\n    };\n\n    return taoProctoringCtlr;\n});\n\n","\ndefine('tpl!taoProctoring/templates/reporting/datepicker', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\";\n\n\n  buffer += \"<form class=\\\"datepicker\\\">\\n    <label>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"From\", options) : helperMissing.call(depth0, \"__\", \"From\", options)))\n    + \"</label><input type=\\\"text\\\" name=\\\"periodStart\\\" value=\\\"\";\n  if (helper = helpers.start) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.start); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"/>\\n    <label>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"to\", options) : helperMissing.call(depth0, \"__\", \"to\", options)))\n    + \"</label><input type=\\\"text\\\" name=\\\"periodEnd\\\" value=\\\"\";\n  if (helper = helpers.end) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.end); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"/>\\n    <button class=\\\"small info\\\" data-control=\\\"filter\\\"><span class=\\\"icon icon-reset\\\"></span>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Refresh\", options) : helperMissing.call(depth0, \"__\", \"Refresh\", options)))\n    + \"</button>\\n</form>\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoProctoring/templates/reporting/irregularities', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <li class=\\\"irregularity\\\">\\n        <span class=\\\"timestamp\\\">\";\n  if (helper = helpers.timestamp) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.timestamp); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        <span class=\\\"type\\\">\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.reason), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.comment), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </li>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<span class=\\\"reason\\\">[\";\n  if (helper = helpers.reason) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.reason); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>]\";\n  return buffer;\n  }\n\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"- <span class=\\\"comment\\\">\";\n  if (helper = helpers.comment) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.comment); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\";\n  return buffer;\n  }\n\n  buffer += \"<ul class=\\\"irregularities plain\\\">\\n\";\n  stack1 = helpers.each.call(depth0, depth0, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</ul>\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/Reporting/index',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'util/encode',\n    'moment',\n    'tpl!taoProctoring/templates/reporting/datepicker',\n    'tpl!taoProctoring/templates/reporting/irregularities',\n    'ui/feedback',\n    'ui/dialog',\n    'taoProctoring/component/breadcrumbs',\n    'taoProctoring/helper/status',\n    'ui/datatable',\n    'jqueryui',\n    'jquery.timePicker'\n], function ($, _, __, helpers, loadingBar, encode, moment, datepickerTpl, irregularitiesTpl, feedback, dialog, breadcrumbsFactory, _status) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.reporting-index';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the taoProctoring reporting-index page\n     *\n     * @type {Object}\n     */\n    var taoProctoringReportCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var $list = $container.find('.list');\n            var crumbs = $container.data('breadcrumbs');\n            var dataset = $container.data('set');\n            var printReportButton = $container.data('printreportbutton');\n            var categories = $container.data('categories');\n            var testCenterId = $container.data('testcenter');\n\t\t\tvar downloadUrl = helpers._url('download', 'Reporting', 'taoProctoring', {testCenter : testCenterId});\n            var serviceUrl = helpers._url('reports', 'Reporting', 'taoProctoring', {testCenter : testCenterId});\n            var bc = breadcrumbsFactory($container, crumbs);\n\n            // request the server with a selection of reports\n            var request = function(url, selection, message) {\n                if (selection && selection.length) {\n                    loadingBar.start();\n\n                    $.ajax({\n                        url: url,\n                        data: {\n                            report: selection\n                        },\n                        dataType : 'json',\n                        type: 'POST',\n                        error: function() {\n                            loadingBar.stop();\n                        }\n                    }).done(function(response) {\n                        loadingBar.stop();\n\n                        if (response && response.success) {\n                            if (message) {\n                                feedback().success(message);\n                            }\n                            $list.datatable('refresh');\n                        } else {\n                            feedback().error(__('Something went wrong ...') + '<br>' + encode.html(response.error), {encodeHtml: false});\n                        }\n                    });\n                }\n            };\n\n            var notYet = function() {\n                dialog({\n                    message: __('Not yet implemented!'),\n                    autoRender: true,\n                    autoDestroy: true,\n                    buttons: 'ok'\n                });\n            };\n\n            /**\n             * Open new tab with page to be printed\n             * @param string|array rowId\n             */\n            var printResults = function printReport(rowId) {\n                window.open(helpers._url('printReport',  'Reporting', 'taoProctoring', {'id' : rowId}), 'printReport' + JSON.stringify(rowId));\n            };\n\n            /**\n             * Print rubric blocks with item tagged with tao-print tag\n             * @param string|array rowId\n             */\n            var printRubric = function printRubric(rowId) {\n                window.open(helpers._url('printRubric',  'Reporting', 'taoProctoring', {'id' : rowId}), 'printRubric' + JSON.stringify(rowId));\n            };\n\n            var today = moment().format('YYYY-MM-DD');\n\n            // renderer for date strings\n            function transformDate(date) {\n                if (date) {\n                    return moment(date).toString();\n                }\n                return '';\n            }\n\n            var datatableTools = [\n                {\n                    id: 'download',\n                    icon: 'download',\n                    title: __('Download the selected reports to a CSV file'),\n                    label: __('Download CSV'),\n                    action: function() {\n                        notYet();\n                    }\n                }, {\n                    id : 'printRubric',\n                    title : __('Print rubric block with item tagged with tao-print tag'),\n                    icon : 'print',\n                    label : __('Print Score Report'),\n                    massAction: true,\n                    action : printRubric\n                }\n            ];\n            if (printReportButton) {\n                datatableTools.push({\n                    id : 'printReport',\n                    title : __('Print the assessment results'),\n                    icon : 'print',\n                    label : __('Print results'),\n                    massAction: true,\n                    action : printResults\n                });\n            }\n\n            var datatableActions =  {\n                printRubrick : {\n                    id : 'printRubric',\n                    title : __('Print rubric block with item tagged with tao-print tag'),\n                    icon : 'print',\n                    label : __('Print Score Report'),\n                    action : printRubric\n                }\n            };\n            if (printReportButton) {\n                datatableActions.printReport = {\n                    id : 'printReport',\n                    title : __('Print the assessment results'),\n                    icon : 'print',\n                    label : __('Print results'),\n                    action : printResults\n                };\n            }\n\n\n            $list\n                .on('query.datatable', function() {\n                    loadingBar.start();\n                })\n                .on('load.datatable', function() {\n                    loadingBar.stop();\n                })\n                .datatable({\n                    url: serviceUrl,\n                    status: {\n                        empty: __('No reports to display!'),\n                        available: __('Available reports'),\n                        loading: __('Loading')\n                    },\n                    tools: datatableTools,\n                    selectable: true,\n                    actions : datatableActions,\n                    model: [{\n                        id: 'delivery',\n                        label: __('Test')\n                    }, {\n                        id: 'testtaker',\n                        label: __('Test Taker')\n                    }, {\n                        id: 'proctor',\n                        label: __('Proctor')\n                    }, {\n                        id: 'status',\n                        label: __('Status'),\n                        transform: function(value) {\n                            var status = _status.getStatusByCode(value);\n                            if(status){\n                                return status.label;\n                            }\n                            return '';\n                        }\n                    }, {\n                        id: 'start',\n                        label: __('Start')\n                    }, {\n                        id: 'end',\n                        label: __('End')\n                    }, {\n                        id: 'pause',\n                        label: __('Pause #')\n                    }, {\n                        id: 'resume',\n                        label: __('Resume #')\n                    }, {\n                        id: 'irregularities',\n                        label: __('Irregularities'),\n                        transform: function(value) {\n                            _.forEach(value, function(log) {\n                                var cat = categories[log.type];\n\n                                log[log.type] = true;\n\n                                switch (log.type) {\n                                    case 'pause':\n                                        log.type = __('Pause');\n                                        break;\n\n                                    case 'resume':\n                                        log.type = __('Resume');\n                                        break;\n\n                                    case 'terminate':\n                                        log.type = __('Terminate');\n                                        break;\n\n                                    default:\n                                        log.type = __('Irregularity');\n                                        break;\n                                }\n\n                                if (cat) {\n                                    log.reason = '';\n                                    if (log.category) {\n                                        log.reason += log.category;\n                                    }\n                                    if (log.subCategory) {\n                                        log.reason += '/' + log.subCategory;\n                                    }\n                                }\n                            });\n                            return irregularitiesTpl(value);\n                        }\n                    }],\n                    params:{\n                        periodStart : today,\n                        periodEnd : today\n                    }\n                }, dataset);\n            \n            //init date range picker\n            dateRangePicker(today, $container, $list);\n        }\n    };\n    \n    /**\n     * Create a data range picker for reporting index\n     * \n     * @param {JQuery} $container\n     * @param {JQuery} $list\n     */\n    function dateRangePicker(date, $container, $list){\n        \n        var $panel = $container.find('.panel');\n        var periodStart = date;\n        var periodEnd = date;\n        $panel.append(datepickerTpl({\n            start : periodStart,\n            end : periodEnd\n        }));\n        \n        var $periodStart = $panel.find('input[name=periodStart]');\n        var $periodEnd = $panel.find('input[name=periodEnd]');\n        var $filterBtn = $panel.find('[data-control=\"filter\"]');\n        $periodStart.datepicker({\n            dateFormat: 'yy-mm-dd',\n            autoSize: true\n        }).change(function(){\n            periodStart = $periodStart.val();\n            $periodEnd.datepicker('option', 'minDate', periodStart);\n            refresh();\n        });\n        $periodEnd.datepicker({\n            dateFormat: 'yy-mm-dd',\n            autoSize: true\n        }).change(function(){\n            periodEnd = $periodEnd.val();\n            $periodStart.datepicker('option', 'maxDate', periodEnd);\n            refresh();\n        });\n        $filterBtn.on('click', function(event) {\n            event.preventDefault();\n            periodStart = $periodStart.val();\n            periodEnd = $periodEnd.val();\n            refresh();\n        });\n        \n        /**\n         * Refresh the data table with new date range \n         * @returns {undefined}\n         */\n        function refresh(){\n            $list.datatable('options', {\n                params:\n                    {\n                        periodStart : periodStart,\n                        periodEnd : periodEnd\n                    }\n            }).datatable('refresh');\n        }\n    }\n    \n    return taoProctoringReportCtlr;\n});\n\n","\ndefine('tpl!taoProctoring/templates/testSiteAdmin/adminLink', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<a href=\\\"\";\n  if (helper = helpers.href) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.href); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"admin-link\\\">\\n    <span class=\\\"icon-users\\\"></span>\\n    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Manage Proctors\", options) : helperMissing.call(depth0, \"__\", \"Manage Proctors\", options)))\n    + \"\\n</a>\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/TestCenter/index',[\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'ui/listbox',\n    'taoProctoring/component/breadcrumbs',\n    'tpl!taoProctoring/templates/testSiteAdmin/adminLink'\n], function ($, __, helpers, loadingBar, listBox, breadcrumbsFactory, adminLinkTpl) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.testcenters-index';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the taoProctoring index page\n     *\n     * @type {Object}\n     */\n    var taoProctoringIndexCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var admin = $container.data('administrator');\n            var boxes = $container.data('list');\n            var crumbs = $container.data('breadcrumbs');\n            var list = listBox({\n                title: __(\"My Test sites\"),\n                textEmpty: __(\"No test site available\"),\n                textNumber: __(\"Available\"),\n                textLoading: __(\"Loading\"),\n                renderTo: $container.find('.content'),\n                replace: true\n            });\n            var bc = breadcrumbsFactory($container, crumbs);\n            var serviceUrl = helpers._url('index', 'TestCenter', 'taoProctoring');\n            var adminUrl = helpers._url('index', 'ProctorManager', 'taoProctoring');\n\n            // update the index from a JSON array\n            var update = function(boxes) {\n                list.update(boxes);\n                loadingBar.stop();\n            };\n\n            // refresh the index\n            var refresh = function() {\n                loadingBar.start();\n                list.setLoading(true);\n\n                $.ajax({\n                    url: serviceUrl,\n                    cache: false,\n                    dataType : 'json',\n                    type: 'GET'\n                }).done(function(response) {\n                    boxes = response && response.list;\n                    update(boxes);\n                });\n            };\n\n            if (!boxes) {\n                refresh();\n            } else {\n                update(boxes);\n            }\n            \n            if(admin){\n                //add test center admin link\n                $container.find('.header').append(adminLinkTpl({\n                    href : adminUrl\n                }));\n            }\n        }\n    };\n\n    return taoProctoringIndexCtlr;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoProctoring/controller/TestCenter/testCenter',[\n    'jquery',\n    'i18n',\n    'helpers',\n    'layout/loading-bar',\n    'ui/listbox',\n    'taoProctoring/component/breadcrumbs'\n], function ($, __, helpers, loadingBar, listBox, breadcrumbsFactory) {\n    'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.testcenters-testcenter';\n\n    // the page is always loading data when starting\n    loadingBar.start();\n\n    /**\n     * Controls the taoProctoring test site page\n     *\n     * @type {Object}\n     */\n    var taoProctoringTestSiteCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start() {\n            var $container = $(cssScope);\n            var boxes = $container.data('list');\n            var crumbs = $container.data('breadcrumbs');\n            var id = $container.data('id');\n            var title = $container.data('title');\n            var list = listBox({\n                title: title,\n                textEmpty: false,\n                textNumber: false,\n                textLoading: __(\"Loading\"),\n                renderTo: $container.find('.content'),\n                replace: true,\n                width: 4\n            });\n            var bc = breadcrumbsFactory($container, crumbs);\n            var serviceUrl = helpers._url('testCenter', 'TestCenter', 'taoProctoring');\n\n            // update the index from a JSON array\n            var update = function(boxes) {\n                list.update(boxes);\n                loadingBar.stop();\n            };\n\n            // refresh the index\n            var refresh = function() {\n                loadingBar.start();\n                list.setLoading(true);\n\n                $.ajax({\n                    url: serviceUrl,\n                    cache: false,\n                    dataType : 'json',\n                    type: 'GET'\n                }).done(function(response) {\n                    boxes = response && response.list;\n                    update(boxes);\n                });\n            };\n\n            if (!boxes) {\n                refresh();\n            } else {\n                update(boxes);\n            }\n        }\n    };\n\n    return taoProctoringTestSiteCtlr;\n});\n\n","\ndefine('tpl!taoProctoring/component/eligibilityEditor/layout', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" editing\";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \"flex-col-12\";\n  }\n\nfunction program5(depth0,data) {\n  \n  \n  return \"flex-col-6\";\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"for\", options) : helperMissing.call(depth0, \"__\", \"for\", options)))\n    + \" <span class=\\\"delivery-name\\\">\";\n  if (helper = helpers.deliveryName) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.deliveryName); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span> :\";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"eligibility-editor\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.editingMode), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n    <h2 class=\\\"title\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n\\n    <div class=\\\"flex-grid \\\">\\n        <div class=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.editingMode), {hash:{},inverse:self.program(5, program5, data),fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" tree-container eligible-delivery\\\">\\n            <label>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Eligible Deliveries\", options) : helperMissing.call(depth0, \"__\", \"Eligible Deliveries\", options)))\n    + \"</label>\\n                <div id=\\\"\";\n  if (helper = helpers.deliveryTreeId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.deliveryTreeId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></div>\\n        </div>\\n        <div class=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.editingMode), {hash:{},inverse:self.program(5, program5, data),fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" tree-container eligible-testTaker\\\">\\n            <label>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Eligible Test Takers\", options) : helperMissing.call(depth0, \"__\", \"Eligible Test Takers\", options)))\n    + \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.editingMode), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"</label>\\n                <div id=\\\"\";\n  if (helper = helpers.subjectTreeId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.subjectTreeId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></div>\\n        </div>\\n    </div>\\n    <div class=\\\"actions\\\">\\n        <button class=\\\"btn btn-info small done\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"OK\", options) : helperMissing.call(depth0, \"__\", \"OK\", options)))\n    + \"</button>\\n        <a href=\\\"#\\\" class=\\\"btn cancel\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"cancel the action\", options) : helperMissing.call(depth0, \"__\", \"cancel the action\", options)))\n    + \"\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"cancel\", options) : helperMissing.call(depth0, \"__\", \"cancel\", options)))\n    + \"</a>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('css!taoProctoringCss/eligibilityEditor',[],function(){});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n *\n */\ndefine('taoProctoring/component/eligibilityEditor',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'helpers',\n    'uri',\n    'ui/component',\n    'generis.tree.select',\n    'tpl!taoProctoring/component/eligibilityEditor/layout',\n    'ui/feedback',\n    'ui/modal',\n    'css!taoProctoringCss/eligibilityEditor'\n], function($, _, __, helpers, uri, component, GenerisTreeSelectClass, layoutTpl, feedback){\n    'use strict';\n\n    var _ns = '.eligibility-editor';\n\n    var _modalDefaults = {\n        width : 600\n    };\n\n    var config = {\n        dataUrl :  helpers._url('getData', 'GenerisTree', 'tao')\n    };\n\n    /**\n     * Create an eligibility editor into a $container\n     *\n     * @param {JQuery} $container\n     * @param {Array} eligibilities\n     * @param {Object} [delivery]\n     * @param {String} [delivery.label]\n     * @param {String} [delivery.uri]\n     * @returns {Object} the eligibility editor instance\n     */\n    var eligibilityEditorFactory = function eligibilityEditorFactory() {\n\n        var eligibilityEditor;\n\n        var testTakerTreeId = _.uniqueId('eligible-testTaker-tree-');//generating the generis tree id, because it requires one to work\n        var deliveryTreeId  = _.uniqueId('eligible-delivery-tree-');//generating the generis tree id, because it requires one to work\n\n        /**\n         * Builds a tree to select test takers\n         *\n         * @param {String} id - the tree identifier, use to get the DOM node to put the tree\n         * @param {String} url - the tree data url\n         * @param {Array} [testTakers] - array of currently selected test takers\n         * @returns {tree} the created tree\n         */\n        var buildTestTakerTree = function buildTestTakerTree(id, url, testTakers){\n\n            var selected = _.pluck(testTakers, 'uri');\n\n            return new GenerisTreeSelectClass('#' + id, url, {\n                actionId : 'treeOptions.actionId',\n                saveUrl : 'treeOptions.saveUrl',\n                saveData : {},\n                checkedNodes : _.map(selected, uri.encode), //generis tree uses \"encoded uri\" to check nodes\n                serverParameters : {\n                    openParentNodes : selected, //generis tree uses normal if to open nodes...\n                    rootNode : 'http://www.tao.lu/Ontologies/TAOSubject.rdf#Subject'\n                },\n                paginate : 10\n            });\n        };\n\n        /**\n         * Builds a tree to select deliveries\n         *\n         * @param {String} id - the tree identifier, use to get the DOM node to put the tree\n         * @param {String} url - the tree data url\n         * @param {Array} [deliveries] - array of currently selected deliveris\n         * @returns {tree} the created tree\n         */\n        var buildDeliveryTree = function buildDeliveryTree(id, url, deliveries){\n\n            var selected = _.pluck(deliveries, 'uri');\n            return new GenerisTreeSelectClass('#' + id, url, {\n                actionId : 'treeOptions.actionId',\n                saveUrl : 'treeOptions.saveUrl',\n                saveData : {},\n                checkedNodes : _.map(selected, uri.encode), //generis tree uses \"encoded uri\" to check nodes\n                serverParameters : {\n                    openParentNodes : selected, //generis tree uses normal if to open nodes...\n                    rootNode : 'http://www.tao.lu/Ontologies/TAODelivery.rdf#AssembledDelivery'\n                },\n                paginate : 10\n            });\n        };\n\n        /**\n         * Destroy the modal\n         *\n         * @param {object} instance\n         * @returns {undefined}\n         */\n        var destroyModal = function destroyModal(){\n            if(eligibilityEditor && eligibilityEditor.getElement()){\n                eligibilityEditor.getElement()\n                    .modal('destroy')\n                    .remove();\n            }\n        };\n\n        /**\n         * Add the editor into a popup and display it\n         *\n         * @param {Object} [modalConfig] - any config option available in ui/modal\n         */\n        var initModal = function initModal(modalConfig){\n            modalConfig = _.defaults(modalConfig || {}, _modalDefaults);\n\n            if(eligibilityEditor && eligibilityEditor.getElement()){\n                eligibilityEditor.getElement()\n                    .addClass('modal')\n                    .on('closed.modal', destroyModal)\n                    .modal(modalConfig);\n            }\n        };\n\n        /**\n         * The eligibiltiyEditor API\n         */\n        var api = {\n\n            /**\n             * Add eligibilities\n             * @param {jQueryElement} $container - where to append the component\n             * @returns {eligibilityEditor} chains the component\n             * @fires eligibilityEditor#ok with the selected eligibities in parameter\n             * @fires eligibilityEditor#cancel\n             */\n            add : function add($container){\n                return this.on('render', function(){\n                    var self = this;\n                    var deliveryTree = buildDeliveryTree(deliveryTreeId, this.config.dataUrl);\n                    var testTakerTree = buildTestTakerTree(testTakerTreeId, this.config.dataUrl);\n\n                    initModal({\n                        width : 650\n                    });\n\n                    this.$component\n                        .on('click' + _ns, '.actions .done', function(e){\n\n                            var deliveries = _(deliveryTree.getChecked()).uniq().compact().value();\n                            var testTakers = _(testTakerTree.getChecked()).uniq().compact().value();\n\n                            if( deliveries && deliveries.length){\n                                self.trigger('ok', {\n                                    deliveries: deliveries,\n                                    testTakers: testTakers\n                                });\n                                destroyModal();\n                            } else {\n                                feedback(self.$component).warning(__('At least one delivery need to be selected to create'));\n                            }\n\n                        }).on('click' + _ns, '.actions .cancel', function(e){\n                            e.preventDefault();\n                            destroyModal();\n                            self.trigger('cancel');\n                        });\n                   this.trigger('open');\n                })\n                .init({\n                    title :  __('Add Eligibility'),\n                    editingMode : false,\n                    subjectTreeId : testTakerTreeId,\n                    deliveryTreeId : deliveryTreeId,\n                })\n                .render($container);\n\n            },\n\n            /**\n             * Add eligibilities\n             * @param {jQueryElement} $container - where to append the component\n             * @param {String} deliveryName - the name of the eligibility's deliveryA\n             * @param {Array} testTakers - the test takers already selected\n             * @returns {eligibilityEditor} chains the component\n             * @fires eligibilityEditor#ok with the selected test takers in parameter\n             * @fires eligibilityEditor#cancel\n             */\n            edit : function edit($container, deliveryName, testTakers){\n                return this.on('render', function(){\n                    var self = this;\n\n                    var testTakerTree = buildTestTakerTree(testTakerTreeId, this.config.dataUrl, testTakers);\n\n                    initModal({\n                        width : 400\n                    });\n\n                    this.$component\n                        .on('click' + _ns, '.actions .done', function(e){\n\n                            var testTakers = _(testTakerTree.getChecked()).uniq().compact().value();\n                            self.trigger('ok', {\n                                testTakers : testTakers\n                            });\n                            destroyModal();\n\n                        }).on('click' + _ns, '.actions .cancel', function(e){\n                            e.preventDefault();\n                            destroyModal();\n                            self.trigger('cancel');\n                        });\n                })\n                .init({\n                    title :  __('Edit Eligibility'),\n                    editingMode : true,\n                    subjectTreeId : testTakerTreeId,\n                    deliveryTreeId : deliveryTreeId,\n                    deliveryName : deliveryName\n                })\n                .render($container);\n            }\n        };\n\n        //creates the component here\n        eligibilityEditor = component(api, config).setTemplate(layoutTpl);\n\n        return eligibilityEditor;\n    };\n\n    return eligibilityEditorFactory;\n});\n\n","\ndefine('tpl!taoProctoring/component/eligibilityTable/status', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n    <span class=\\\"icon-unshield txt-danger\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This delivery can be launched without authorization\", options) : helperMissing.call(depth0, \"__\", \"This delivery can be launched without authorization\", options)))\n    + \"\\\"></span>\\n\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n    <span class=\\\"icon-shield txt-success\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This delivery needs proctor authorization\", options) : helperMissing.call(depth0, \"__\", \"This delivery needs proctor authorization\", options)))\n    + \"\\\"></span>\\n\";\n  return buffer;\n  }\n\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.byPassProctor), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoProctoring/component/eligibilityTable/actions', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n    <button class=\\\"btn-info small edit\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Enable proctor authorization\", options) : helperMissing.call(depth0, \"__\", \"Enable proctor authorization\", options)))\n    + \"\\\" data-action=\\\"shield\\\">\\n        <span class=\\\"icon-shield\\\"></span> \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Proctor\", options) : helperMissing.call(depth0, \"__\", \"Proctor\", options)))\n    + \"\\n    </button>\\n\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n    <button class=\\\"btn-info small edit\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove proctor authorization\", options) : helperMissing.call(depth0, \"__\", \"Remove proctor authorization\", options)))\n    + \"\\\" data-action=\\\"unshield\\\">\\n        <span class=\\\"icon-unshield\\\"></span> \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Un-Proctor\", options) : helperMissing.call(depth0, \"__\", \"Un-Proctor\", options)))\n    + \"\\n    </button>\\n\";\n  return buffer;\n  }\n\n  buffer += \"<button class=\\\"btn-info small edit\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Edit eligibile test takers\", options) : helperMissing.call(depth0, \"__\", \"Edit eligibile test takers\", options)))\n    + \"\\\" data-action=\\\"edit\\\">\\n    <span class=\\\"icon-edit\\\"></span> \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Edit\", options) : helperMissing.call(depth0, \"__\", \"Edit\", options)))\n    + \"\\n</button>\\n\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.byPassProctor), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n<button class=\\\"btn-info small remove\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove eligibility\", options) : helperMissing.call(depth0, \"__\", \"Remove eligibility\", options)))\n    + \"\\\" data-action=\\\"remove\\\">\\n    <span class=\\\"icon-bin\\\"></span> \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove\", options) : helperMissing.call(depth0, \"__\", \"Remove\", options)))\n    + \"\\n</button>\\n\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('css!taoProctoringCss/eligibilityTable',[],function(){});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n *\n */\n\n/**\n * The eligibility table component.\n *\n * Manages a list of eligibilties.\n *\n * As this is mainly a refactoring, I've kept the data as they were and\n * the format used is inconsistent across the different calls...\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoProctoring/component/eligibilityTable',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'ui/component',\n    'helpers',\n    'tpl!taoProctoring/component/eligibilityTable/status',\n    'tpl!taoProctoring/component/eligibilityTable/actions',\n    'css!taoProctoringCss/eligibilityTable.css',\n    'ui/datatable'\n], function($, _, __, component, helpers, statusTpl, actionsTpl){\n    'use strict';\n\n\n    /**\n     * Creates the eligibilityTable component\n     *\n     * @param {String} testCenterId - the test center URI\n     * @returns {eligibilityTable} the component\n     * @throws {TypeError} without a test center\n     */\n    var eligibilityTableFactory = function eligibilityTableFactory(testCenterId){\n        var eligibilities = [];\n\n        if(_.isEmpty(testCenterId)){\n            throw new TypeError('The eligibility provider needs to be initialized with a test center');\n        }\n\n        /**\n         * The component.\n         *\n         * @typedef eligibilityTable\n         * @see ui/component\n         * @throws eligibilityTable#loading while loading something\n         * @throws eligibilityTable#loaded when loading is done\n         * @throws eligibilityTable#render once mounted to the DOM\n         * @throws eligibilityTable#add action\n         * @throws eligibilityTable#edit action\n         * @throws eligibilityTable#remove action\n         * @throws eligibilityTable#shield action\n         * @throws eligibilityTable#unshield action\n         */\n        return component({}, {\n                //config can be changed\n                dataUrl : helpers._url('getEligibilities', 'TestCenterManager', 'taoProctoring', { uri : testCenterId })\n            })\n            .on('render', function(){\n                var self = this;\n\n                //set up the ui/datatable\n                this.$component\n                    .on('query.datatable', function(){\n                        self.trigger('loading');\n                    })\n                    .on('load.datatable', function(e){\n                        self.trigger('loaded');\n                    })\n                    .on('beforeload.datatable', function(e, dataSet){\n                        if(dataSet && dataSet.data){\n                            eligibilities = dataSet.data;\n                        }\n                    })\n                    .datatable({\n                        url : this.config.dataUrl,\n                        status : {\n                            empty:     __('No Eligible Delivery yet'),\n                            available: __('Eligible Deliveries'),\n                            loading:   __('Loading')\n                        },\n                        tools : [{\n                            id : 'add',\n                            icon : 'add',\n                            title : __('Add'),\n                            label : __('Add'),\n                            action : function(){\n\n                                /**\n                                 * Add action\n                                 * @event eligibilityTable#add\n                                 * @param {Object} eligibilities\n                                 */\n                                self.trigger('add', eligibilities);\n                            }\n                        }],\n                        model : [{\n                            id : 'status',\n                            label : '',\n                            transform: function(value, row){\n                                return statusTpl(row);\n                            }\n                        }, {\n                            id : 'deliveryLabel',\n                            label : __('Delivery'),\n                            transform : function(value, row){\n                                return row.delivery.label;\n                            }\n                        }, {\n                            id : 'testTakersCount',\n                            label : __('Eligible Test Takers'),\n                            transform : function(value, row){\n                                return row.testTakers && row.testTakers.length ? row.testTakers.length : 0;\n                            }\n                        }, {\n                            id: 'actions',\n                            label: __('Actions'),\n                            transform: function(value, row){\n                                return actionsTpl(row);\n                            }\n                        }],\n                        selectable : false\n                    }).on('click', '.actions button', function(e){\n                        e.preventDefault();\n\n                        var $button = $(this);\n                        var itemId = $button.parents('[data-item-identifier]').data('item-identifier');\n                        var action = $button.data('action');\n\n                        self.trigger(action, itemId, eligibilities);\n                    });\n\n            })\n            .on('reload', function(){\n                if(this.$component){\n                    this.$component.datatable('refresh');\n                }\n            });\n    };\n\n    return eligibilityTableFactory;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * The eligibility provider, interface to communicate eligibility data.\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoProctoring/provider/eligibility',[\n    'jquery',\n    'lodash',\n    'helpers',\n    'core/promise'\n], function($, _, helpers, Promise){\n    'use strict';\n\n    /**\n     * Performs an ajax request on the right controller\n     * @param {String} action - the action name to call\n     * @param {Object} parameters - the data to send\n     * @returns {jQuery.Deferred} the ajax call\n     */\n    var request = function request(action, parameters){\n        return $.ajax({\n            url : helpers._url(action, 'TestCenterManager', 'taoProctoring'),\n            data :  parameters,\n            dataType : 'json',\n            type : 'POST'\n        });\n    };\n\n\n    /**\n     * Creates an eligibilityProvider\n     * @param {String} testCenterId - every call is contextualized for a test center\n     * @returns {eligibilityProvider} the provider\n     * @throws {TypeError} is the test center is missing\n     */\n    return function eligibilityProviderFactory(testCenterId) {\n        if(_.isEmpty(testCenterId)){\n            throw new TypeError('The eligibility provider needs to be initialized with a test center');\n        }\n\n        /**\n         * The new provider\n         * @typedef eligibilityProvider\n         */\n        return {\n\n            /**\n             * Add a new eligibilities\n             *\n             * @param {Object} eligibility - the eligibility to add\n             * @param {String[]} eligibility.deliveries - the deliveries URIs\n             * @param {String[]} eligibility.testTakers - the test takers URIs\n             * @returns {Promise} that resolves once the eligibilities are added\n             */\n            addEligibilities : function addEligibilities (eligibilities){\n                return new Promise(function (resolve, reject){\n                    if( !_.isPlainObject(eligibilities) ) {\n                        return reject(new TypeError('Invalid eligibility'));\n                    }\n\n                    request('addEligibilities', {\n                        uri : testCenterId,\n                        eligibility : eligibilities\n                    })\n                    .success(resolve)\n                    .fail(function(xhr){\n                        return reject(new Error(xhr.responseText));\n                    });\n                });\n            },\n\n            /**\n             * Edit an eligibility\n             *\n             * @param {Object} eligibility - the eligibility to add\n             * @param {String[]} eligibility.deliveries - the deliveries URIs\n             * @param {String[]} eligibility.testTakers - the test takers URIs\n             * @returns {Promise} that resolves once the eligibility is edited\n             */\n            editEligibility : function editEligibility(eligibility){\n\n                return new Promise(function (resolve, reject){\n                    if( !_.isPlainObject(eligibility) ) {\n                        return reject(new TypeError('Invalid eligibility'));\n                    }\n\n                    request('editEligibilities', {\n                        uri : testCenterId,\n                        eligibility : eligibility\n                    })\n                    .success(resolve)\n                    .fail(function(xhr){\n                        return reject(new Error(xhr.responseText));\n                    });\n                });\n            },\n\n            /**\n             * Remove an eligibility\n             *\n             * @param {Object} eligibility - the eligibility to add\n             * @param {String[]} eligibility.deliveries - the deliveries URIs\n             * @returns {Promise} that resolves once the eligibility is removed\n             */\n            removeEligibility : function removeEligibility(eligibility){\n\n                return new Promise(function (resolve, reject){\n                    if( !_.isPlainObject(eligibility) ) {\n                        return reject(new TypeError('Invalid eligibility'));\n                    }\n\n                    request('removeEligibilities', {\n                        uri : testCenterId,\n                        eligibility : eligibility\n                    })\n                    .success(resolve)\n                    .fail(function(xhr){\n                        return reject(new Error(xhr.responseText));\n                    });\n                });\n            },\n\n            /**\n             * Shield an eligibility\n             *\n             * @param {String} eligibilityId - the eligibility URI\n             * @returns {Promise} that resolves once the eligibility is shielded\n             */\n            shieldEligibility : function shieldEligibility(eligibilityId){\n                return new Promise(function (resolve, reject){\n                    if( !_.isString(eligibilityId) ) {\n                        reject(new TypeError('Invalid eligibility'));\n                    }\n\n                    request('shieldEligibility', {\n                        uri : testCenterId,\n                        eligibility : eligibilityId\n                    })\n                    .success(resolve)\n                    .fail(function(xhr){\n                        return reject(new Error(xhr.responseText));\n                    });\n                });\n            },\n\n            /**\n             * Unshield an eligibility\n             *\n             * @param {String} eligibilityId - the eligibility URI\n             * @returns {Promise} that resolves once the eligibility is unshielded\n             */\n            unshieldEligibility : function unshieldEligibility(eligibilityId){\n                return new Promise(function (resolve, reject){\n                    if( !_.isString(eligibilityId) ) {\n                        reject(new TypeError('Invalid eligibility'));\n                    }\n\n                    request('unshieldEligibility', {\n                        uri : testCenterId,\n                        eligibility : eligibilityId\n                    })\n                    .success(resolve)\n                    .fail(function(xhr){\n                        return reject(new Error(xhr.responseText));\n                    });\n                });\n            }\n        };\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\ndefine('taoProctoring/controller/TestCenterManager/editCenter',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'layout/loading-bar',\n    'ui/feedback',\n    'taoProctoring/component/eligibilityEditor',\n    'taoProctoring/component/eligibilityTable',\n    'taoProctoring/provider/eligibility'\n], function( $, _, __, loadingBar, feedback, eligibilityEditorFactory, eligibilityTableFactory, eligibilityProvider ){\n'use strict';\n\n    /**\n     * The CSS scope\n     * @type {String}\n     */\n    var cssScope = '.eligible-deliveries';\n\n    /**\n     * Controls the test center manager screen\n     *\n     * @type {Object}\n     */\n    var editCenterCtlr = {\n        /**\n         * Entry point of the page\n         */\n        start : function start(){\n\n            var eligibilityTable;\n            var $container = $(cssScope);\n            var $tableContainer = $('.eligibility-table-container', $container);\n            var $editorContainer = $('.eligibility-editor-container', $container);\n\n            //get the test center id from the DOM\n            var testCenterId = $container.data('testcenter');\n\n            /**\n             * Start the loading bar\n             */\n            var loading = function loading(){\n                loadingBar.start();\n            };\n\n            /**\n             * Stop the loading bar\n             */\n            var loaded = function loaded(){\n                loadingBar.stop();\n            };\n\n            /**\n             * Handle errors\n             * @param {Error} err - the error to handle\n             */\n            var handleError = function handleError(err){\n                loaded();\n                feedback().error(err.message);\n            };\n\n            /**\n             * Handle successful operations\n             * @param {String} message - the message to display\n             */\n            var success = function success(message){\n                loaded();\n                feedback().success(message);\n                eligibilityTable.trigger('reload');\n            };\n\n            //setup the eligibility table\n            eligibilityTable =\n              eligibilityTableFactory(testCenterId)\n                .on('loading', loading)\n                .on('loaded', loaded)\n                .on('add', function handleAddAction(){\n                    var self = this;\n\n                    //show the editor to select deliveries and test takers\n                    eligibilityEditorFactory()\n                        .add($editorContainer)\n                        .on('ok', function(eligibility){\n\n                            //then inform the server\n                            loading();\n                            eligibilityProvider(testCenterId)\n                                .addEligibilities(eligibility)\n                                .then(function(response){\n\n                                    loaded();\n                                    if(response.failed && response.failed.length){\n                                        feedback().warning(__('The following delivery(ies) are already eligible : ') + response.failed.join(', '));\n                                    } else {\n                                        feedback().success(__('New eligible delivery added'));\n                                    }\n                                    self.trigger('reload');\n                                })\n                                .catch(handleError);\n                        });\n                })\n                .on('edit', function handleEditAction(eligibilityId, eligibilities) {\n\n                    //show the editor to edit  test takers\n                    var eligibility = _.find(eligibilities, { uri : eligibilityId });\n                    //eligibilityEditor\n                        //.init($editorContainer, eligibilities, eligibility.delivery)\n                    eligibilityEditorFactory()\n                        .edit($editorContainer, eligibility.delivery.label, eligibility.testTakers)\n                        .on('ok', function(updated){\n\n                            loading();\n                            eligibilityProvider(testCenterId)\n                                .editEligibility({\n                                    deliveries : [eligibility.delivery.uri],\n                                    testTakers : updated.testTakers\n                                })\n                                .then(function(response){\n                                    success(__('Eligible test takers updated'));\n                                })\n                                .catch(handleError);\n                        });\n                })\n\n                .on('remove', function handleRemoveAction(eligibilityId, eligibilities) {\n                    var eligibility = _.find(eligibilities, { uri : eligibilityId });\n\n                    loading();\n                    eligibilityProvider(testCenterId)\n                        .removeEligibility({\n                            deliveries: [eligibility.delivery.uri]\n                        })\n                        .then(function(){\n                            success(__('Eligible delivery removed'));\n                        })\n                        .catch(handleError);\n                })\n\n                .on('shield', function handleShieldAction(eligibilityId) {\n                    loading();\n                    eligibilityProvider(testCenterId)\n                        .shieldEligibility(eligibilityId)\n                        .then(function(){\n                            success(__('Eligibility needs proctor authorization'));\n                        })\n                        .catch(handleError);\n                })\n\n                .on('unshield', function handleUnshieldAction(eligibilityId) {\n                    loading();\n                    eligibilityProvider(testCenterId)\n                        .unshieldEligibility(eligibilityId)\n                        .then(function(){\n                            success(__('Eligibility don\\'t need proctor authorization any more.'));\n                        })\n                        .catch(handleError);\n                })\n                .init({})\n                .render($tableContainer);\n        }\n    };\n\n    return editCenterCtlr;\n});\n\n","\n(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})\n('.diagnostics-main-area{max-width:768px;margin:40px auto 0 auto;background:#f2f0ee;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;padding:20px}.diagnostics-main-area h1,.diagnostics-main-area h2,.diagnostics-main-area h3{font-style:normal;font-family:\\\"Century Gothic\\\",CenturyGothic,AppleGothic,sans-serif}.diagnostics-main-area h1{margin-bottom:20px;font-size:20px;font-size:2rem}.diagnostics-main-area h2{margin:0;font-size:14px;font-size:1.4rem}.diagnostics-main-area h3{margin-top:10px;margin-bottom:5px;font-size:12px;font-size:1.2rem}.diagnostics-main-area .status h2,.diagnostics-main-area .details h2{margin:1rem 0}.diagnostics-main-area .legend{font-style:italic;font-weight:normal;font-family:\\\"Century Gothic\\\",CenturyGothic,AppleGothic,sans-serif;font-size:11px;font-size:1.1rem}.diagnostics-main-area .quality-bar{height:15px;background:linear-gradient(to right, #CE1431 0%, #D57915 25%, #D5A215 50%, #D5CB15 75%, #36B111 100%);opacity:.8;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;margin:5px 0 10px;position:relative}.diagnostics-main-area .quality-indicator{position:absolute;border-width:10px 8px;border-style:solid;border-color:#333 transparent transparent;top:-1px;height:25px;width:0}.diagnostics-main-area .quality-indicator[title]:before{font-size:11px;font-size:1.1rem;content:attr(title);position:absolute;top:-36px;left:-12px;text-align:center;width:24px;height:24px;line-height:24px;display:inline-block;background-color:#0e5d91;color:rgba(255,255,255,0.9);-moz-border-radius:12px;-webkit-border-radius:12px;border-radius:12px}.diagnostics-main-area .quality-indicator.wide[title]:before{left:-16px;width:32px}.diagnostics-main-area [data-result],.diagnostics-main-area .bandwidth-box{display:none}.diagnostics-main-area [data-action=bandwidth-launcher]{margin:5px 0 10px}.diagnostics-main-area li{padding-bottom:10px}.diagnostics-main-area .intro{margin-bottom:20px}.diagnostics-main-area table.matrix{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;margin-top:5px}\\n/*# sourceMappingURL=diagnostics.css.map */\\n.eligibility-editor h2.title{margin-top:0}.eligibility-editor .tree-container label{top:10px}.eligibility-editor .tree{border:none}.eligibility-editor .eligible-delivery{margin-left:0}.eligibility-editor.editing .eligible-delivery{display:none}.eligibility-editor.editing .eligible-testTaker{margin-left:0}.eligibility-editor.editing .eligible-testTaker .delivery-name{font-weight:bold}.eligibility-editor .actions{margin-top:20px}.eligibility-editor .actions .btn{float:right;margin-left:20px}.eligibility-editor .actions .btn.cancel{position:relative;top:3px}\\n/*# sourceMappingURL=eligibilityEditor.css.map */\\n.eligible-deliveries th:last-child{text-align:center}.eligible-deliveries td.status{text-align:center;width:48px}.eligible-deliveries td.status>span{font-size:18px;font-size:1.8rem;vertical-align:bottom}\\n/*# sourceMappingURL=eligibilityTable.css.map */\\n');\n"]}