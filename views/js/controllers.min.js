define("taoProctoring/controller/routes",[],function(){return{TestCenter:{actions:{index:"controller/TestCenter/index",testCenter:"controller/TestCenter/testCenter"}},Diagnostic:{actions:{index:"controller/Diagnostic/index"}},Reporting:{actions:{index:"controller/Reporting/index"}},Delivery:{actions:{index:"controller/Delivery/index",monitoring:"controller/Delivery/monitoring",testTakers:"controller/Delivery/testTakers"}}}}),define("taoProctoring/controller/Delivery/index",["jquery","i18n","helpers","layout/loading-bar","ui/listbox","ui/breadcrumbs"],function($,__,helpers,loadingBar,listBox,breadcrumbs){var refreshPolling=6e4,cssScope=".delivery-index";loadingBar.start();
var taoProctoringCtlr={start:function(){var $container=$(cssScope),boxes=$container.data("list"),crumbs=$container.data("breadcrumbs"),list=listBox({title:__("My Deliveries"),textEmpty:__("No deliveries available"),textNumber:__("Available"),textLoading:__("Loading"),renderTo:$container.find(".content"),replace:!0,list:boxes}),serviceUrl=(breadcrumbs({breadcrumbs:crumbs,renderTo:$container.find(".header"),replace:!0}),helpers._url("index","TestCenter","taoProctoring")),pollTo=null,update=function(boxes){pollTo&&(clearTimeout(pollTo),pollTo=null),list.update(boxes),loadingBar.stop(),refreshPolling&&(pollTo=setTimeout(refresh,refreshPolling))},refresh=function(){loadingBar.start(),list.setLoading(!0),$.ajax({url:serviceUrl,cache:!1,dataType:"json",type:"GET"}).done(function(response){boxes=response&&response.list,update(boxes)
})};boxes?loadingBar.stop():refresh()}};return taoProctoringCtlr}),define("taoProctoring/controller/Delivery/monitoring",["jquery","i18n","helpers","layout/loading-bar","util/encode","ui/feedback","ui/dialog","ui/breadcrumbs","ui/datatable"],function($,__,helpers,loadingBar,encode,feedback,dialog,breadcrumbs){var cssScope=".delivery-monitoring";loadingBar.start();var proctorDeliveryIndexCtlr={start:function(){var $container=$(cssScope),$list=$container.find(".list"),crumbs=$container.data("breadcrumbs"),dataset=$container.data("set"),deliveryId=$container.data("delivery"),testCenterId=$container.data("testCenter"),assignUrl=helpers._url("testTakers","Delivery","taoProctoring",{delivery:deliveryId,testCenter:testCenterId}),removeUrl=helpers._url("remove","Delivery","taoProctoring",{delivery:deliveryId,testCenter:testCenterId}),serviceUrl=(helpers._url("authorise","Delivery","taoProctoring",{delivery:deliveryId,testCenter:testCenterId}),helpers._url("deliveryTestTakers","Delivery","taoProctoring",{delivery:deliveryId,testCenter:testCenterId})),request=(breadcrumbs({breadcrumbs:crumbs,renderTo:$container.find(".header"),replace:!0}),function(url,selection,message){selection&&selection.length&&(loadingBar.start(),$.ajax({url:url,data:{tt:selection},dataType:"json",type:"POST",error:function(){loadingBar.stop()
}}).done(function(response){loadingBar.stop(),response&&response.success?(message&&feedback().success(message),$list.datatable("refresh")):feedback().error(__("Something went wrong ...")+"<br>"+encode.html(response.error),{encodeHtml:!1})}))}),authorise=function(){dialog({message:__("Not yet implemented!"),autoRender:!0,autoDestroy:!0,buttons:"ok"})},remove=function(selection){request(removeUrl,selection,__("Test takers have been removed"))};$list.on("query.datatable",function(){loadingBar.start()}).on("load.datatable",function(){loadingBar.stop()}).datatable({url:serviceUrl,status:{empty:__("No assigned test takers"),available:__("Assigned test takers"),loading:__("Loading")},tools:[{id:"assign",icon:"add",title:__("Assign test takers to this delivery"),label:__("Add test takers"),action:function(){location.href=assignUrl
}},{id:"authorise",icon:"checkbox-checked",title:__("Authorise the selected test takers to run the delivery"),label:__("Authorise"),massAction:!0,action:function(selection){dialog({message:__("The test takers will be authorized to start this delivery. Continue ?"),autoRender:!0,autoDestroy:!0,onOkBtn:function(){authorise(selection)}})}},{id:"remove",icon:"remove",title:__("Remove the selected test takers from the delivery"),label:__("Remove"),massAction:!0,action:function(selection){dialog({message:__("The test takers will be removed from this delivery. Continue ?"),autoRender:!0,autoDestroy:!0,onOkBtn:function(){remove(selection)}})}}],actions:[{id:"authorise",icon:"checkbox-checked",title:__("Authorise the test taker to run the delivery"),hidden:function(){return!!this.authorised
},action:function(id){dialog({message:__("The test taker will be authorized to start this delivery. Continue ?"),autoRender:!0,autoDestroy:!0,onOkBtn:function(){authorise([id])}})}},{id:"remove",icon:"remove",title:__("Remove the test taker from the delivery"),action:function(id){dialog({autoRender:!0,autoDestroy:!0,message:__("The test taker will be removed from this delivery. Continue ?"),onOkBtn:function(){remove([id])}})}}],selectable:!0,model:[{id:"firstname",label:__("First name")},{id:"lastname",label:__("Last name")},{id:"company",label:__("Company name")},{id:"status",label:__("Status")}]},dataset)}};return proctorDeliveryIndexCtlr}),define("taoProctoring/controller/Delivery/testTakers",["jquery","i18n","helpers","layout/loading-bar","util/encode","ui/feedback","ui/breadcrumbs","ui/datatable"],function($,__,helpers,loadingBar,encode,feedback,breadcrumbs){var cssScope=".delivery-testtakers";
loadingBar.start();var proctorDeliveryAssignCtlr={start:function(){var $container=$(cssScope),$list=$container.find(".list"),crumbs=$container.data("breadcrumbs"),dataset=$container.data("set"),deliveryId=$container.data("delivery"),testCenterId=$container.data("testCenter"),serviceUrl=helpers._url("availableTestTakers","Delivery","taoProctoring",{delivery:deliveryId}),assignUrl=helpers._url("assign","Delivery","taoProctoring",{delivery:deliveryId}),indexUrl=helpers._url("monitoring","Delivery","taoProctoring",{delivery:deliveryId,testCenter:testCenterId}),assign=(breadcrumbs({breadcrumbs:crumbs,renderTo:$container.find(".header"),replace:!0}),function(selection){selection&&selection.length&&(loadingBar.start(),$.ajax({url:assignUrl,data:{tt:selection},dataType:"json",type:"POST",error:function(){loadingBar.stop()
}}).done(function(response){loadingBar.stop(),response&&response.success?(feedback().success(__("Test takers have been added")),location.href=indexUrl):feedback().error(__("Something went wrong ...")+"<br>"+encode.html(response.error),{encodeHtml:!1})}))});$list.on("query.datatable",function(){loadingBar.start()}).on("load.datatable",function(){loadingBar.stop()}).datatable({url:serviceUrl,status:{empty:__("No available test takers to assign"),available:__("Available test takers"),loading:__("Loading")},tools:[{id:"back",icon:"left",title:__("Return to the delivery"),label:__("Back"),action:function(){history.back()}},{id:"assign",icon:"add",title:__("Assign the selected test takers to the delivery"),label:__("Assign the selected test takers"),massAction:!0,action:function(selection){assign(selection)
}}],actions:[{id:"assign",icon:"add",title:__("Assign the test taker to the delivery"),action:function(id){assign([id])}}],selectable:!0,model:[{id:"firstname",label:__("First name")},{id:"lastname",label:__("Last name")},{id:"company",label:__("Company name")}]},dataset)}};return proctorDeliveryAssignCtlr}),define("taoProctoring/controller/Diagnostic/index",["jquery","i18n","helpers","layout/loading-bar","util/encode","ui/feedback","ui/dialog","ui/breadcrumbs","ui/datatable"],function($,__,helpers,loadingBar,encode,feedback,dialog,breadcrumbs){var cssScope=".diagnostic-index";loadingBar.start();var taoProctoringDiagnosticCtlr={start:function(){var $container=$(cssScope),$list=$container.find(".list"),crumbs=$container.data("breadcrumbs"),dataset=$container.data("set"),testCenterId=$container.data("testCenter"),serviceUrl=(helpers._url("remove","Diagnostic","taoProctoring",{testCenter:testCenterId}),helpers._url("index","Diagnostic","taoProctoring",{testCenter:testCenterId})),notYet=(breadcrumbs({breadcrumbs:crumbs,renderTo:$container.find(".header"),replace:!0}),function(){dialog({message:__("Not yet implemented!"),autoRender:!0,autoDestroy:!0,buttons:"ok"})
}),remove=function(){notYet()};$list.on("query.datatable",function(){loadingBar.start()}).on("load.datatable",function(){loadingBar.stop()}).datatable({url:serviceUrl,status:{empty:__("No readiness checks have been done!"),available:__("Readiness checks already done"),loading:__("Loading")},tools:[{id:"launch",icon:"play",title:__("Launch another readiness check"),label:__("Launch readiness check"),action:function(){notYet()}},{id:"remove",icon:"remove",title:__("Remove the selected readiness check results"),label:__("Remove"),massAction:!0,action:function(selection){dialog({message:__("The selected readiness check results will be removed. Continue ?"),autoRender:!0,autoDestroy:!0,onOkBtn:function(){remove(selection)
}})}}],actions:[{id:"remove",icon:"remove",title:__("Remove the readiness check result?"),action:function(id){dialog({autoRender:!0,autoDestroy:!0,message:__("The readiness check result will be removed. Continue ?"),onOkBtn:function(){remove([id])}})}}],selectable:!0,model:[{id:"workstation",label:__("Workstation")},{id:"os",label:__("OS")},{id:"browser",label:__("Browser")},{id:"performance",label:__("Performance")},{id:"bandwidth",label:__("Bandwidth")},{id:"date",label:__("Date")}]},dataset)}};return taoProctoringDiagnosticCtlr}),define("taoProctoring/controller/Reporting/index",["jquery","i18n","helpers","layout/loading-bar","util/encode","ui/feedback","ui/dialog","ui/breadcrumbs","ui/datatable"],function($,__,helpers,loadingBar,encode,feedback,dialog,breadcrumbs){var cssScope=".reporting-index";
loadingBar.start();var taoProctoringReportCtlr={start:function(){var $container=$(cssScope),$list=$container.find(".list"),crumbs=$container.data("breadcrumbs"),dataset=$container.data("set"),testCenterId=$container.data("testCenter"),serviceUrl=(helpers._url("download","Reporting","taoProctoring",{testCenter:testCenterId}),helpers._url("index","Reporting","taoProctoring",{testCenter:testCenterId})),notYet=(breadcrumbs({breadcrumbs:crumbs,renderTo:$container.find(".header"),replace:!0}),function(){dialog({message:__("Not yet implemented!"),autoRender:!0,autoDestroy:!0,buttons:"ok"})});$list.on("query.datatable",function(){loadingBar.start()}).on("load.datatable",function(){loadingBar.stop()
}).datatable({url:serviceUrl,status:{empty:__("No reports to display!"),available:__("Available reports"),loading:__("Loading")},tools:[{id:"download",icon:"download",title:__("Download the selected reports to a CSV file"),label:__("Download CSV"),action:function(){notYet()}}],selectable:!0,model:[{id:"delivery",label:__("Delivery")},{id:"testtaker",label:__("Test Taker")},{id:"proctor",label:__("Proctor")},{id:"status",label:__("Status")},{id:"start",label:__("Start")},{id:"end",label:__("End")},{id:"pause",label:__("Pause #")},{id:"resume",label:__("Resume #")},{id:"irregularities",label:__("Irregularities")}]},dataset)}};return taoProctoringReportCtlr}),define("taoProctoring/controller/TestCenter/index",["jquery","i18n","helpers","layout/loading-bar","ui/listbox","ui/breadcrumbs"],function($,__,helpers,loadingBar,listBox,breadcrumbs){var refreshPolling=6e4,cssScope=".testcenters-index";
loadingBar.start();var taoProctoringIndexCtlr={start:function(){var $container=$(cssScope),boxes=$container.data("list"),crumbs=$container.data("breadcrumbs"),list=listBox({title:__("My Test sites"),textEmpty:__("No test site available"),textNumber:__("Available"),textLoading:__("Loading"),renderTo:$container.find(".content"),replace:!0}),serviceUrl=(breadcrumbs({breadcrumbs:crumbs,renderTo:$container.find(".header"),replace:!0}),helpers._url("index","TestCenter","taoProctoring")),pollTo=null,update=function(boxes){pollTo&&(clearTimeout(pollTo),pollTo=null),list.update(boxes),loadingBar.stop(),refreshPolling&&(pollTo=setTimeout(refresh,refreshPolling))},refresh=function(){loadingBar.start(),list.setLoading(!0),$.ajax({url:serviceUrl,cache:!1,dataType:"json",type:"GET"}).done(function(response){boxes=response&&response.list,update(boxes)
})};boxes?update(boxes):refresh()}};return taoProctoringIndexCtlr}),define("taoProctoring/controller/TestCenter/testCenter",["jquery","i18n","helpers","layout/loading-bar","ui/listbox","ui/breadcrumbs"],function($,__,helpers,loadingBar,listBox,breadcrumbs){var cssScope=".testcenters-testcenter";loadingBar.start();var taoProctoringTestSiteCtlr={start:function(){var $container=$(cssScope),boxes=$container.data("list"),crumbs=$container.data("breadcrumbs"),title=($container.data("id"),$container.data("title")),list=listBox({title:title,textEmpty:!1,textNumber:!1,textLoading:__("Loading"),renderTo:$container.find(".content"),replace:!0,width:4}),serviceUrl=(breadcrumbs({breadcrumbs:crumbs,renderTo:$container.find(".header"),replace:!0}),helpers._url("testCenter","TestCenter","taoProctoring")),update=function(boxes){list.update(boxes),loadingBar.stop()
},refresh=function(){loadingBar.start(),list.setLoading(!0),$.ajax({url:serviceUrl,cache:!1,dataType:"json",type:"GET"}).done(function(response){boxes=response&&response.list,update(boxes)})};boxes?update(boxes):refresh()}};return taoProctoringTestSiteCtlr});
//# sourceMappingURL=controllers.min.js.map